(self.webpackChunktarjeta_credito=self.webpackChunktarjeta_credito||[]).push([[179],{8255:ut=>{function Me(M){return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+M+"'");throw f.code="MODULE_NOT_FOUND",f})}Me.keys=()=>[],Me.resolve=Me,Me.id=8255,ut.exports=Me},3018:(ut,Me,M)=>{"use strict";M.d(Me,{deG:()=>Dg,tb:()=>eD,AFp:()=>qb,ip1:()=>Fy,CZH:()=>vc,hGG:()=>eM,z2F:()=>na,sBO:()=>oc,Sil:()=>hh,_Vd:()=>Bd,EJc:()=>tD,SBq:()=>ss,qLn:()=>Au,vpe:()=>To,gxx:()=>Gl,tBr:()=>yi,XFs:()=>Le,OlP:()=>Gn,zs3:()=>Qn,ZZ4:()=>ju,aQg:()=>Bu,soG:()=>as,YKP:()=>ob,v3s:()=>iw,h0i:()=>uc,PXZ:()=>us,R0b:()=>Br,FiY:()=>Li,Lbi:()=>XT,g9A:()=>Ec,Qsj:()=>Xf,FYo:()=>Jf,JOm:()=>Vi,Tiy:()=>ic,q3G:()=>rr,tp0:()=>Uo,EAV:()=>qN,Rgc:()=>$u,dDg:()=>$a,DyG:()=>Fi,q4F:()=>ep,GfV:()=>ay,s_b:()=>gy,ifc:()=>nn,eFA:()=>Pp,G48:()=>fh,Gpc:()=>_e,X6Q:()=>el,_c5:()=>dw,VLi:()=>iD,c2e:()=>Kb,zSh:()=>Af,wAp:()=>Dt,vHH:()=>fe,EiD:()=>h0,mCW:()=>Da,qzn:()=>P,JVY:()=>Be,pB0:()=>Wn,eBb:()=>It,L6k:()=>lt,LAX:()=>Xt,cg1:()=>Wm,Tjo:()=>lw,kL8:()=>xI,yhl:()=>ce,dqk:()=>G,sIi:()=>bd,CqO:()=>sE,QGY:()=>Nd,F4k:()=>KC,RDi:()=>ks,AaK:()=>K,z3N:()=>A,qOj:()=>kf,TTD:()=>Xa,_Bn:()=>YE,xp6:()=>L0,uIk:()=>Wl,Tol:()=>pE,ekj:()=>Vm,Suo:()=>xb,Xpm:()=>ge,lG2:()=>Jt,Yz7:()=>Qt,cJS:()=>Zn,oAB:()=>On,Yjl:()=>Lr,Y36:()=>jf,_UZ:()=>zC,BQk:()=>Pm,ynx:()=>is,qZA:()=>Om,TgZ:()=>$f,EpF:()=>Hf,n5z:()=>ms,Ikx:()=>CE,LFG:()=>Rn,$8M:()=>gu,NdJ:()=>oE,CRH:()=>Ob,oxw:()=>lE,Q6J:()=>rE,iGM:()=>Mb,CHM:()=>_l,oJD:()=>f0,LSH:()=>W_,kYT:()=>wn,Udp:()=>fE,d8E:()=>IE,YNc:()=>OC,_uU:()=>vE,Oqu:()=>EE,hij:()=>jm});var f=M(9765),V=M(5319),x=M(7574),ie=M(6682),pe=M(2441);var me=M(1307);function ne(){return new f.xQ}function L(i){for(let s in i)if(i[s]===L)return s;throw Error("Could not find renamed property on target object.")}function ee(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function K(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(K).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function ae(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Oe=L({__forward_ref__:L});function _e(i){return i.__forward_ref__=_e,i.toString=function(){return K(this())},i}function J(i){return Te(i)?i():i}function Te(i){return"function"==typeof i&&i.hasOwnProperty(Oe)&&i.__forward_ref__===_e}class fe extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function ze(i){return"string"==typeof i?i:null==i?"":String(i)}function Nt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ze(i)}function we(i,s){const o=s?` in ${s}`:"";throw new fe("201",`No provider for ${Nt(i)} found${o}`)}function bt(i,s){null==i&&function(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Qt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Zn(i){return{providers:i.providers||[],imports:i.imports||[]}}function xn(i){return Vn(i,At)||Vn(i,lr)}function Vn(i,s){return i.hasOwnProperty(s)?i[s]:null}function tr(i){return i&&(i.hasOwnProperty(Un)||i.hasOwnProperty(ct))?i[Un]:null}const At=L({\u0275prov:L}),Un=L({\u0275inj:L}),lr=L({ngInjectableDef:L}),ct=L({ngInjectorDef:L});var Le=(()=>((Le=Le||{})[Le.Default=0]="Default",Le[Le.Host=1]="Host",Le[Le.Self=2]="Self",Le[Le.SkipSelf=4]="SkipSelf",Le[Le.Optional=8]="Optional",Le))();let Kt;function un(i){const s=Kt;return Kt=i,s}function zt(i,s,o){const u=xn(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Le.Optional?null:void 0!==s?s:void we(K(i),"Injector")}function Xe(i){return{toString:i}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),nn=(()=>((nn=nn||{})[nn.Emulated=0]="Emulated",nn[nn.None=2]="None",nn[nn.ShadowDom=3]="ShadowDom",nn))();const Zt="undefined"!=typeof globalThis&&globalThis,Fr="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G=Zt||"undefined"!=typeof global&&global||Fr||z,et={},Q=[],be=L({\u0275cmp:L}),Fe=L({\u0275dir:L}),qe=L({\u0275pipe:L}),Qe=L({\u0275mod:L}),Ke=L({\u0275loc:L}),Z=L({\u0275fac:L}),B=L({__NG_ELEMENT_ID__:L});let H=0;function ge(i){return Xe(()=>{const o={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Q,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||nn.Emulated,id:"c",styles:i.styles||Q,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,d=i.features,p=i.pipes;return u.id+=H++,u.inputs=Yn(i.inputs,o),u.outputs=Yn(i.outputs),d&&d.forEach(_=>_(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(yt):null,u.pipeDefs=p?()=>("function"==typeof p?p():p).map(Mt):null,u})}function yt(i){return Tn(i)||function(i){return i[Fe]||null}(i)}function Mt(i){return function(i){return i[qe]||null}(i)}const Ft={};function On(i){return Xe(()=>{const s={type:i.type,bootstrap:i.bootstrap||Q,declarations:i.declarations||Q,imports:i.imports||Q,exports:i.exports||Q,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Ft[i.id]=i.type),s})}function wn(i,s){return Xe(()=>{const o=dr(i,!0);o.declarations=s.declarations||Q,o.imports=s.imports||Q,o.exports=s.exports||Q})}function Yn(i,s){if(null==i)return et;const o={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,s&&(s[c]=d)}return o}const Jt=ge;function Lr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Tn(i){return i[be]||null}function dr(i,s){const o=i[Qe]||null;if(!o&&!0===s)throw new Error(`Type ${K(i)} does not have '\u0275mod' property.`);return o}function fr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Pn(i){return Array.isArray(i)&&!0===i[1]}function ul(i){return 0!=(8&i.flags)}function Jr(i){return 2==(2&i.flags)}function Ka(i){return 1==(1&i.flags)}function Gr(i){return null!==i.template}function ll(i){return 0!=(512&i[2])}function ps(i,s){return i.hasOwnProperty(Z)?i[Z]:null}class jc{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Xa(){return Vr}function Vr(i){return i.type.prototype.ngOnChanges&&(i.setInput=cg),Nh}function Nh(){const i=lo(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===et)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function cg(i,s,o,u){const c=lo(i)||function(i,s){return i[Ps]=s}(i,{previous:et,current:null}),d=c.current||(c.current={}),p=c.previous,_=this.declaredInputs[o],b=p[_];d[_]=new jc(b&&b.currentValue,s,p===et),i[u]=s}Xa.ngInherit=!0;const Ps="__ngSimpleChanges__";function lo(i){return i[Ps]||null}let ho;function ks(i){ho=i}function eu(){return void 0!==ho?ho:"undefined"!=typeof document?document:void 0}function jn(i){return!!i.listen}const k={createRenderer:(i,s)=>eu()};function ue(i){for(;Array.isArray(i);)i=i[0];return i}function Et(i,s){return ue(s[i])}function _n(i,s){return ue(s[i.index])}function Bn(i,s){return i.data[s]}function $n(i,s){const o=s[i];return fr(o)?o:o[0]}function qi(i){return 4==(4&i[2])}function ei(i){return 128==(128&i[2])}function pi(i,s){return null==s?null:i[s]}function xo(i){i[18]=0}function Oi(i,s){i[5]+=s;let o=i,u=i[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const wt={lFrame:C_(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ml(){return wt.bindingsEnabled}function Ue(){return wt.lFrame.lView}function rn(){return wt.lFrame.tView}function _l(i){return wt.lFrame.contextLView=i,i[8]}function pr(){let i=dg();for(;null!==i&&64===i.type;)i=i.parent;return i}function dg(){return wt.lFrame.currentTNode}function Fs(i,s){const o=wt.lFrame;o.currentTNode=i,o.isParent=s}function vl(){return wt.lFrame.isParent}function ru(){wt.lFrame.isParent=!1}function fo(){return wt.isInCheckNoChangesMode}function iu(i){wt.isInCheckNoChangesMode=i}function su(){return wt.lFrame.bindingIndex++}function gs(i){const s=wt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function Hc(i,s){const o=wt.lFrame;o.bindingIndex=o.bindingRootIndex=i,Oh(s)}function Oh(i){wt.lFrame.currentDirectiveIndex=i}function Oo(i){const s=wt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Ph(){return wt.lFrame.currentQueryIndex}function fg(i){wt.lFrame.currentQueryIndex=i}function b_(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function w_(i,s,o){if(o&Le.SkipSelf){let c=s,d=i;for(;!(c=c.parent,null!==c||o&Le.Host||(c=b_(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;s=c,i=d}const u=wt.lFrame=pg();return u.currentTNode=s,u.lView=i,!0}function bl(i){const s=pg(),o=i[1];wt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function pg(){const i=wt.lFrame,s=null===i?null:i.child;return null===s?C_(i):s}function C_(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function gg(){const i=wt.lFrame;return wt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Xw=gg;function mg(){const i=gg();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function gi(){return wt.lFrame.selectedIndex}function Vs(i){wt.lFrame.selectedIndex=i}function Dn(){const i=wt.lFrame;return Bn(i.tView,i.selectedIndex)}function au(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const d=i.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:_,ngAfterViewInit:b,ngAfterViewChecked:C,ngOnDestroy:T}=d;p&&(i.contentHooks||(i.contentHooks=[])).push(-o,p),_&&((i.contentHooks||(i.contentHooks=[])).push(o,_),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,_)),b&&(i.viewHooks||(i.viewHooks=[])).push(-o,b),C&&((i.viewHooks||(i.viewHooks=[])).push(o,C),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,C)),null!=T&&(i.destroyHooks||(i.destroyHooks=[])).push(o,T)}}function Wc(i,s,o){yg(i,s,3,o)}function uu(i,s,o,u){(3&i[2])===o&&yg(i,s,o,u)}function Lh(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function yg(i,s,o,u){const d=null!=u?u:-1,p=s.length-1;let _=0;for(let b=void 0!==u?65535&i[18]:0;b<p;b++)if("number"==typeof s[b+1]){if(_=s[b],null!=u&&_>=u)break}else s[b]<0&&(i[18]+=65536),(_<d||-1==d)&&(A_(i,o,s,b),i[18]=(4294901760&i[18])+b+2),b++}function A_(i,s,o,u){const c=o[u]<0,d=o[u+1],_=i[c?-o[u]:o[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{d.call(_)}finally{}}}else try{d.call(_)}finally{}}class lu{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function du(i,s,o){const u=jn(i);let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const p=o[c++],_=o[c++],b=o[c++];u?i.setAttribute(s,_,b,p):s.setAttributeNS(p,_,b)}else{const p=d,_=o[++c];vg(p)?u&&i.setProperty(s,p,_):u?i.setAttribute(s,p,_):s.setAttribute(p,_),c++}}return c}function wl(i){return 3===i||4===i||6===i}function vg(i){return 64===i.charCodeAt(0)}function Cl(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?o=c:0===o||R_(i,o,c,null,-1===o||2===o?s[++u]:null)}}return i}function R_(i,s,o,u,c){let d=0,p=i.length;if(-1===s)p=-1;else for(;d<i.length;){const _=i[d++];if("number"==typeof _){if(_===s){p=-1;break}if(_>s){p=d-1;break}}}for(;d<i.length;){const _=i[d];if("number"==typeof _)break;if(_===o){if(null===u)return void(null!==c&&(i[d+1]=c));if(u===i[d+1])return void(i[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==p&&(i.splice(p,0,s),d=p+1),i.splice(d++,0,o),null!==u&&i.splice(d++,0,u),null!==c&&i.splice(d++,0,c)}function Eg(i){return-1!==i}function hu(i){return 32767&i}function ko(i,s){let o=function(i){return i>>16}(i),u=s;for(;o>0;)u=u[15],o--;return u}let Uh=!0;function ga(i){const s=Uh;return Uh=i,s}let Pi=0;function Pt(i,s){const o=zc(i,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,Tl(u.data,i),Tl(s,null),Tl(u.blueprint,null));const c=ma(i,s),d=i.injectorIndex;if(Eg(c)){const p=hu(c),_=ko(c,s),b=_[1].data;for(let C=0;C<8;C++)s[d+C]=_[p+C]|b[p+C]}return s[d+8]=c,d}function Tl(i,s){i.push(0,0,0,0,0,0,0,0,s)}function zc(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ma(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,c=s;for(;null!==c;){const d=c[1],p=d.type;if(u=2===p?d.declTNode:1===p?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Dl(i,s,o){!function(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(B)&&(u=o[B]),null==u&&(u=o[B]=Pi++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,o)}function Zi(i,s,o){if(o&Le.Optional)return i;we(s,"NodeInjector")}function bg(i,s,o,u){if(o&Le.Optional&&void 0===u&&(u=null),0==(o&(Le.Self|Le.Host))){const c=i[9],d=un(void 0);try{return c?c.get(s,u,o&Le.Optional):zt(s,u,o&Le.Optional)}finally{un(d)}}return Zi(u,s,o)}function Bh(i,s,o,u=Le.Default,c){if(null!==i){const d=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(B)?i[B]:void 0;return"number"==typeof s?s>=0?255&s:$h:s}(o);if("function"==typeof d){if(!w_(s,i,u))return u&Le.Host?Zi(c,o,u):bg(s,o,u,c);try{const p=d(u);if(null!=p||u&Le.Optional)return p;we(o)}finally{Xw()}}else if("number"==typeof d){let p=null,_=zc(i,s),b=-1,C=u&Le.Host?s[16][6]:null;for((-1===_||u&Le.SkipSelf)&&(b=-1===_?ma(i,s):s[_+8],-1!==b&&Yi(u,!1)?(p=s[1],_=hu(b),s=ko(b,s)):_=-1);-1!==_;){const T=s[1];if(Ur(d,_,T.data)){const R=x_(_,s,o,p,u,C);if(R!==wg)return R}b=s[_+8],-1!==b&&Yi(u,s[1].data[_+8]===C)&&Ur(d,_,s)?(p=T,_=hu(b),s=ko(b,s)):_=-1}}}return bg(s,o,u,c)}const wg={};function $h(){return new pu(pr(),Ue())}function x_(i,s,o,u,c,d){const p=s[1],_=p.data[i+8],T=Fo(_,p,o,null==u?Jr(_)&&Uh:u!=p&&0!=(3&_.type),c&Le.Host&&d===_);return null!==T?ki(s,p,T,_):wg}function Fo(i,s,o,u,c){const d=i.providerIndexes,p=s.data,_=1048575&d,b=i.directiveStart,T=d>>20,N=c?_+T:i.directiveEnd;for(let $=u?_:_+T;$<N;$++){const Y=p[$];if($<b&&o===Y||$>=b&&Y.type===o)return $}if(c){const $=p[b];if($&&Gr($)&&$.type===o)return b}return null}function ki(i,s,o,u){let c=i[o];const d=s.data;if(function(i){return i instanceof lu}(c)){const p=c;p.resolving&&function(i,s){throw new fe("200",`Circular dependency in DI detected for ${i}`)}(Nt(d[o]));const _=ga(p.canSeeViewProviders);p.resolving=!0;const b=p.injectImpl?un(p.injectImpl):null;w_(i,u,Le.Default);try{c=i[o]=p.factory(void 0,d,i,u),s.firstCreatePass&&o>=u.directiveStart&&function(i,s,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=s.type.prototype;if(u){const p=Vr(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,p)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,d))}(o,d[o],s)}finally{null!==b&&un(b),ga(_),p.resolving=!1,Xw()}}return c}function Ur(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function Yi(i,s){return!(i&Le.Self||i&Le.Host&&s)}class pu{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return Bh(this._tNode,this._lView,s,u,o)}}function ms(i){return Xe(()=>{const s=i.prototype.constructor,o=s[Z]||qc(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const d=c[Z]||qc(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function qc(i){return Te(i)?()=>{const s=qc(J(i));return s&&s()}:ps(i)}function gu(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(wl(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===s)return o[c+1];c+=2}}}return null}(pr(),i)}const _a="__parameters__";function po(i,s,o){return Xe(()=>{const u=function(i){return function(...o){if(i){const u=i(...o);for(const c in u)this[c]=u[c]}}}(s);function c(...d){if(this instanceof c)return u.apply(this,d),this;const p=new c(...d);return _.annotation=p,_;function _(b,C,T){const R=b.hasOwnProperty(_a)?b[_a]:Object.defineProperty(b,_a,{value:[]})[_a];for(;R.length<=T;)R.push(null);return(R[T]=R[T]||[]).push(p),b}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Gn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Qt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Dg=new Gn("AnalyzeForEntryComponents"),Fi=Function;function ti(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let u=i[o];Array.isArray(u)?(s===i&&(s=i.slice(0,o)),ti(u,s)):s!==i&&s.push(u)}return s}function ys(i,s){i.forEach(o=>Array.isArray(o)?ys(o,s):s(o))}function Lo(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Us(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function mi(i,s,o){let u=Eu(i,s);return u>=0?i[1|u]=o:(u=~u,function(i,s,o,u){let c=i.length;if(c==s)i.push(o,u);else if(1===c)i.push(u,i[0]),i[0]=o;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function Zc(i,s){const o=Eu(i,s);if(o>=0)return i[1|o]}function Eu(i,s){return function(i,s,o){let u=0,c=i.length>>o;for(;c!==u;){const d=u+(c-u>>1),p=i[d<<o];if(s===p)return d<<o;p>s?c=d:u=d+1}return~(c<<o)}(i,s,1)}const bu={},Nl="__NG_DI_FLAG__",Ca="ngTempTokenPath",ed=/\n/gm,td="__source",Ia=L({provide:String,useValue:L});let Ml;function Bs(i){const s=Ml;return Ml=i,s}function xl(i,s=Le.Default){if(void 0===Ml)throw new Error("inject() must be called from an injection context");return null===Ml?zt(i,void 0,s):Ml.get(i,s&Le.Optional?null:void 0,s)}function Rn(i,s=Le.Default){return(Kt||xl)(J(i),s)}function mo(i){const s=[];for(let o=0;o<i.length;o++){const u=J(i[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,d=Le.Default;for(let p=0;p<u.length;p++){const _=u[p],b=nf(_);"number"==typeof b?-1===b?c=_.token:d|=b:c=_}s.push(Rn(c,d))}else s.push(Rn(u))}return s}function Vo(i,s){return i[Nl]=s,i.prototype[Nl]=s,i}function nf(i){return i[Nl]}function rf(i,s,o,u){const c=i[Ca];throw s[td]&&c.unshift(s[td]),i.message=function(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=K(s);if(Array.isArray(s))c=s.map(K).join(" -> ");else if("object"==typeof s){let d=[];for(let p in s)if(s.hasOwnProperty(p)){let _=s[p];d.push(p+":"+("string"==typeof _?JSON.stringify(_):K(_)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${i.replace(ed,"\n  ")}`}("\n"+i.message,c,o,u),i.ngTokenPath=c,i[Ca]=null,i}const yi=Vo(po("Inject",i=>({token:i})),-1),Li=Vo(po("Optional"),8),Uo=Vo(po("SkipSelf"),4);let rd,Vl;function Ta(i){var s;return(null===(s=function(){if(void 0===rd&&(rd=null,G.trustedTypes))try{rd=G.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return rd}())||void 0===s?void 0:s.createHTML(i))||i}function sf(i){var s;return(null===(s=function(){if(void 0===Vl&&(Vl=null,G.trustedTypes))try{Vl=G.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Vl}())||void 0===s?void 0:s.createHTML(i))||i}class $s{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class u0 extends $s{getTypeName(){return"HTML"}}class E extends $s{getTypeName(){return"Style"}}class g extends $s{getTypeName(){return"Script"}}class y extends $s{getTypeName(){return"URL"}}class w extends $s{getTypeName(){return"ResourceURL"}}function A(i){return i instanceof $s?i.changingThisBreaksApplicationSecurity:i}function P(i,s){const o=ce(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function ce(i){return i instanceof $s&&i.getTypeName()||null}function Be(i){return new u0(i)}function lt(i){return new E(i)}function It(i){return new g(i)}function Xt(i){return new y(i)}function Wn(i){return new w(i)}class jo{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Ta(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class af{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ta(s),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Ta(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const o=s.attributes;for(let c=o.length-1;0<c;c--){const p=o.item(c).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&s.removeAttribute(p)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const uf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,lf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Da(i){return(i=String(i)).match(uf)||i.match(lf)?i:"unsafe:"+i}function _s(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Bo(...i){const s={};for(const o of i)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const cf=_s("area,br,col,hr,img,wbr"),Bg=_s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Du=_s("rp,rt"),B_=Bo(cf,Bo(Bg,_s("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bo(Du,_s("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bo(Du,Bg)),$g=_s("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$_=_s("srcset"),H_=Bo($g,$_,_s("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_s("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vx=_s("script,style,template");class Ex{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!B_.hasOwnProperty(o))return this.sanitizedSomething=!0,!vx.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let c=0;c<u.length;c++){const d=u.item(c),p=d.name,_=p.toLowerCase();if(!H_.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let b=d.value;$g[_]&&(b=Da(b)),$_[_]&&(i=b,b=(i=String(i)).split(",").map(s=>Da(s.trim())).join(", ")),this.buf.push(" ",p,'="',d0(b),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();B_.hasOwnProperty(o)&&!cf.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(d0(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const bx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c0=/([^\#-~ |!])/g;function d0(i){return i.replace(/&/g,"&amp;").replace(bx,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(c0,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let df;function h0(i,s){let o=null;try{df=df||function(i){const s=new af(i);return function(){try{return!!(new window.DOMParser).parseFromString(Ta(""),"text/html")}catch(i){return!1}}()?new jo(s):s}(i);let u=s?String(s):"";o=df.getInertBodyElement(u);let c=5,d=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=d,d=o.innerHTML,o=df.getInertBodyElement(u)}while(u!==d);return Ta((new Ex).sanitizeChildren(G_(o)||o))}finally{if(o){const u=G_(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function G_(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var rr=(()=>((rr=rr||{})[rr.NONE=0]="NONE",rr[rr.HTML=1]="HTML",rr[rr.STYLE=2]="STYLE",rr[rr.SCRIPT=3]="SCRIPT",rr[rr.URL=4]="URL",rr[rr.RESOURCE_URL=5]="RESOURCE_URL",rr))();function f0(i){const s=Hg();return s?sf(s.sanitize(rr.HTML,i)||""):P(i,"HTML")?sf(A(i)):h0(eu(),ze(i))}function W_(i){const s=Hg();return s?s.sanitize(rr.URL,i)||"":P(i,"URL")?A(i):Da(ze(i))}function Hg(){const i=Ue();return i&&i[12]}const K_="__ngContext__";function wr(i,s){i[K_]=s}function ff(i){const s=function(i){return i[K_]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function zg(i){return i.ngOriginalError}function E0(i,...s){i.error(...s)}class Au{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),u=this._findContext(s),c=(i=s)&&i.ngErrorLogger||E0;var i;c(this._console,"ERROR",s),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(zg(s)):null}_findOriginalError(s){let o=s&&zg(s);for(;o&&zg(o);)o=zg(o);return o||null}}const RA=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function Hs(i){return i instanceof Function?i():i}var Vi=(()=>((Vi=Vi||{})[Vi.Important=1]="Important",Vi[Vi.DashCase=2]="DashCase",Vi))();function $o(i,s){return undefined(i,s)}function es(i){const s=i[3];return Pn(s)?s[3]:s}function iv(i){return sv(i[13])}function yf(i){return sv(i[4])}function sv(i){for(;null!==i&&!Pn(i);)i=i[4];return i}function Ra(i,s,o,u,c){if(null!=u){let d,p=!1;Pn(u)?d=u:fr(u)&&(p=!0,u=u[0]);const _=ue(u);0===i&&null!==o?null==c?R0(s,o,_):Bl(s,o,_,c||null,!0):1===i&&null!==o?Bl(s,o,_,c||null,!0):2===i?function(i,s,o){const u=nm(i,s);u&&function(i,s,o,u){jn(i)?i.removeChild(s,o,u):s.removeChild(o)}(i,u,s,o)}(s,_,p):3===i&&s.destroyNode(_),null!=d&&function(i,s,o,u,c){const d=o[7];d!==ue(o)&&Ra(s,i,u,d,c);for(let _=10;_<o.length;_++){const b=o[_];wf(b[1],b,i,s,u,d)}}(s,i,d,o,c)}}function Jg(i,s,o){return jn(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function A0(i,s){const o=i[9],u=o.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,Oi(c,-1)),o.splice(u,1)}function cd(i,s){if(i.length<=10)return;const o=10+s,u=i[o];if(u){const c=u[17];null!==c&&c!==i&&A0(c,u),s>0&&(i[o-1][4]=u[4]);const d=Us(i,10+s);!function(i,s){wf(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const p=d[19];null!==p&&p.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function _f(i,s){if(!(256&s[2])){const o=s[11];jn(o)&&o.destroyNode&&wf(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return em(i[1],i);for(;s;){let o=null;if(fr(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==i;)fr(s)&&em(s[1],s),s=s[3];null===s&&(s=i),fr(s)&&em(s[1],s),o=s&&s[4]}s=o}}(s)}}function em(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const c=s[o[u]];if(!(c instanceof lu)){const d=o[u+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const _=c[d[p]],b=d[p+1];try{b.call(_)}finally{}}else try{d.call(c)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,u=s[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const p=o[d+1],_="function"==typeof p?p(s):ue(s[p]),b=u[c=o[d+2]],C=o[d+3];"boolean"==typeof C?_.removeEventListener(o[d],b,C):C>=0?u[c=C]():u[c=-C].unsubscribe(),d+=2}else{const p=u[c=o[d+1]];o[d].call(p)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();s[7]=null}}(i,s),1===s[1].type&&jn(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&Pn(s[3])){o!==s[3]&&A0(o,s);const u=s[19];null!==u&&u.detachView(i)}}}function tm(i,s,o){return function(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===nn.None||c===nn.Emulated)return null}return _n(u,o)}(i,s.parent,o)}function Bl(i,s,o,u,c){jn(i)?i.insertBefore(s,o,u,c):s.insertBefore(o,u,c)}function R0(i,s,o){jn(i)?i.appendChild(s,o):s.appendChild(o)}function N0(i,s,o,u,c){null!==u?Bl(i,s,o,u,c):R0(i,s,o)}function nm(i,s){return jn(i)?i.parentNode(s):s.parentNode}let im=function(i,s,o){return 40&i.type?_n(i,o):null};function sm(i,s,o,u){const c=tm(i,u,s),d=s[11],_=function(i,s,o){return im(i,s,o)}(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(o))for(let b=0;b<o.length;b++)N0(d,c,o[b],_,!1);else N0(d,c,o,_,!1)}function om(i,s){if(null!==s){const o=s.type;if(3&o)return _n(s,i);if(4&o)return cv(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return om(i,u);{const c=i[s.index];return Pn(c)?cv(-1,c):ue(c)}}if(32&o)return $o(s,i)()||ue(i[s.index]);{const u=x0(i,s);return null!==u?Array.isArray(u)?u[0]:om(es(i[16]),u):om(i,s.next)}}return null}function x0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function cv(i,s){const o=10+i+1;if(o<s.length){const u=s[o],c=u[1].firstChild;if(null!==c)return om(u,c)}return s[7]}function bf(i,s,o,u,c,d,p){for(;null!=o;){const _=u[o.index],b=o.type;if(p&&0===s&&(_&&wr(ue(_),u),o.flags|=4),64!=(64&o.flags))if(8&b)bf(i,s,o.child,u,c,d,!1),Ra(s,i,c,_,d);else if(32&b){const C=$o(o,u);let T;for(;T=C();)Ra(s,i,c,T,d);Ra(s,i,c,_,d)}else 16&b?um(i,s,u,o,c,d):Ra(s,i,c,_,d);o=p?o.projectionNext:o.next}}function wf(i,s,o,u,c,d){bf(o,u,i.firstChild,s,c,d,!1)}function um(i,s,o,u,c,d){const p=o[16],b=p[6].projection[u.projection];if(Array.isArray(b))for(let C=0;C<b.length;C++)Ra(s,i,c,b[C],d);else bf(i,s,b,p[3],c,d,!0)}function dv(i,s,o){jn(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function hv(i,s,o){jn(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function FA(i,s,o){let u=i.length;for(;;){const c=i.indexOf(s,o);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const d=s.length;if(c+d===u||i.charCodeAt(c+d)<=32)return c}o=c+1}}const LA="ng-template";function VA(i,s,o){let u=0;for(;u<i.length;){let c=i[u++];if(o&&"class"===c){if(c=i[u],-1!==FA(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function UA(i){return 4===i.type&&i.value!==LA}function jA(i,s,o){return s===(4!==i.type||o?i.value:LA)}function BA(i,s,o){let u=4;const c=i.attrs||[],d=function(i){for(let s=0;s<i.length;s++)if(wl(i[s]))return s;return i.length}(c);let p=!1;for(let _=0;_<s.length;_++){const b=s[_];if("number"!=typeof b){if(!p)if(4&u){if(u=2|1&u,""!==b&&!jA(i,b,o)||""===b&&1===s.length){if(Gs(u))return!1;p=!0}}else{const C=8&u?b:s[++_];if(8&u&&null!==i.attrs){if(!VA(i.attrs,C,o)){if(Gs(u))return!1;p=!0}continue}const R=fv(8&u?"class":b,c,UA(i),o);if(-1===R){if(Gs(u))return!1;p=!0;continue}if(""!==C){let N;N=R>d?"":c[R+1].toLowerCase();const $=8&u?N:null;if($&&-1!==FA($,C,0)||2&u&&C!==N){if(Gs(u))return!1;p=!0}}}}else{if(!p&&!Gs(u)&&!Gs(b))return!1;if(p&&Gs(b))continue;p=!1,u=b|1&u}}return Gs(u)||p}function Gs(i){return 0==(1&i)}function fv(i,s,o,u){if(null===s)return-1;let c=0;if(u||!o){let d=!1;for(;c<s.length;){const p=s[c];if(p===i)return c;if(3===p||6===p)d=!0;else{if(1===p||2===p){let _=s[++c];for(;"string"==typeof _;)_=s[++c];continue}if(4===p)break;if(0===p){c+=4;continue}}c+=d?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function pv(i,s,o=!1){for(let u=0;u<s.length;u++)if(BA(i,s[u],o))return!0;return!1}function k0(i,s){return i?":not("+s.trim()+")":s}function F0(i){let s=i[0],o=1,u=2,c="",d=!1;for(;o<i.length;){let p=i[o];if("string"==typeof p)if(2&u){const _=i[++o];c+="["+p+(_.length>0?'="'+_+'"':"")+"]"}else 8&u?c+="."+p:4&u&&(c+=" "+p);else""!==c&&!Gs(p)&&(s+=k0(d,c),c=""),u=p,d=d||!Gs(u);o++}return""!==c&&(s+=k0(d,c)),s}const Bt={};function L0(i){gv(rn(),Ue(),gi()+i,fo())}function gv(i,s,o,u){if(!u)if(3==(3&s[2])){const d=i.preOrderCheckHooks;null!==d&&Wc(s,d,o)}else{const d=i.preOrderHooks;null!==d&&uu(s,d,0,o)}Vs(o)}function Cf(i,s){return i<<17|s<<2}function yo(i){return i>>17&32767}function cm(i){return 2|i}function Na(i){return(131068&i)>>2}function ts(i,s){return-131069&i|s<<2}function $l(i){return 1|i}function q0(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const p=i.data[d];fg(c),p.contentQueries(2,s[d],d)}}}function hd(i,s,o,u,c,d,p,_,b,C){const T=s.blueprint.slice();return T[0]=c,T[2]=140|u,xo(T),T[3]=T[15]=i,T[8]=o,T[10]=p||i&&i[10],T[11]=_||i&&i[11],T[12]=b||i&&i[12]||null,T[9]=C||i&&i[9]||null,T[6]=d,T[16]=2==s.type?i[16]:T,T}function fd(i,s,o,u,c){let d=i.data[s];if(null===d)d=function(i,s,o,u,c){const d=dg(),p=vl(),b=i.data[s]=function(i,s,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,o,s,u,c);return null===i.firstChild&&(i.firstChild=b),null!==d&&(p?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b)),b}(i,s,o,u,c),wt.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const p=function(){const i=wt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return Fs(d,!0),d}function pd(i,s,o,u){if(0===o)return-1;const c=s.length;for(let d=0;d<o;d++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function gd(i,s,o){bl(s);try{const u=i.viewQuery;null!==u&&Mv(1,u,o);const c=i.template;null!==c&&Y0(i,s,c,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&q0(i,s),i.staticViewQueries&&Mv(2,i.viewQuery,o);const d=i.components;null!==d&&function(i,s){for(let o=0;o<s.length;o++)ES(i,s[o])}(s,d)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,mg()}}function Tf(i,s,o,u){const c=s[2];if(256==(256&c))return;bl(s);const d=fo();try{xo(s),function(i){wt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Y0(i,s,o,2,u);const p=3==(3&c);if(!d)if(p){const C=i.preOrderCheckHooks;null!==C&&Wc(s,C,null)}else{const C=i.preOrderHooks;null!==C&&uu(s,C,0,null),Lh(s,0)}if(function(i){for(let s=iv(i);null!==s;s=yf(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(1024&c[2])&&Oi(d,1),c[2]|=1024}}}(s),function(i){for(let s=iv(i);null!==s;s=yf(s))for(let o=10;o<s.length;o++){const u=s[o],c=u[1];ei(u)&&Tf(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&q0(i,s),!d)if(p){const C=i.contentCheckHooks;null!==C&&Wc(s,C)}else{const C=i.contentHooks;null!==C&&uu(s,C,1),Lh(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Vs(~c);else{const d=c,p=o[++u],_=o[++u];Hc(p,d),_(2,s[d])}}}finally{Vs(-1)}}(i,s);const _=i.components;null!==_&&function(i,s){for(let o=0;o<s.length;o++)cC(i,s[o])}(s,_);const b=i.viewQuery;if(null!==b&&Mv(2,b,u),!d)if(p){const C=i.viewCheckHooks;null!==C&&Wc(s,C)}else{const C=i.viewHooks;null!==C&&uu(s,C,2),Lh(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),d||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Oi(s[3],-1))}finally{mg()}}function Z0(i,s,o,u){const c=s[10],d=!fo(),p=qi(s);try{d&&!p&&c.begin&&c.begin(),p&&gd(i,s,u),Tf(i,s,o,u)}finally{d&&!p&&c.end&&c.end()}}function Y0(i,s,o,u,c){const d=gi(),p=2&u;try{Vs(-1),p&&s.length>20&&gv(i,s,20,fo()),o(u,c)}finally{Vs(d)}}function Q0(i,s,o){if(ul(s)){const c=s.directiveEnd;for(let d=s.directiveStart;d<c;d++){const p=i.data[d];p.contentQueries&&p.contentQueries(1,o[d],d)}}}function mm(i,s,o){!ml()||(function(i,s,o,u){const c=o.directiveStart,d=o.directiveEnd;i.firstCreatePass||Pt(o,s),wr(u,s);const p=o.initialInputs;for(let _=c;_<d;_++){const b=i.data[_],C=Gr(b);C&&vS(s,o,b);const T=ki(s,i,_,o);wr(T,s),null!==p&&Px(0,_-c,T,b,0,p),C&&($n(o.index,s)[8]=T)}}(i,s,o,_n(o,s)),128==(128&o.flags)&&function(i,s,o){const u=o.directiveStart,c=o.directiveEnd,p=o.index,_=wt.lFrame.currentDirectiveIndex;try{Vs(p);for(let b=u;b<c;b++){const C=i.data[b],T=s[b];Oh(b),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&iC(C,T)}}finally{Vs(-1),Oh(_)}}(i,s,o))}function Iv(i,s,o=_n){const u=s.localNames;if(null!==u){let c=s.index+1;for(let d=0;d<u.length;d+=2){const p=u[d+1],_=-1===p?o(s,i):i[p];i[c++]=_}}}function J0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=ym(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function ym(i,s,o,u,c,d,p,_,b,C){const T=20+u,R=T+c,N=function(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:Bt);return o}(T,R),$="function"==typeof C?C():C;return N[1]={type:i,blueprint:N,template:o,queries:null,viewQuery:_,declTNode:s,data:N.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:b,consts:$,incompleteFirstPass:!1}}function Tv(i,s,o,u){const c=Ct(s);null===o?c.push(u):(c.push(o),i.firstCreatePass&&xv(i).push(u,c.length-1))}function tC(i,s,o){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,c):o[u]=[s,c]}return o}function ws(i,s,o,u,c,d,p,_){const b=_n(s,o);let T,C=s.inputs;!_&&null!=C&&(T=C[u])?(ns(i,o,T,u,c),Jr(s)&&function(i,s){const o=$n(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=p?p(c,s.value||"",u):c,jn(d)?d.setProperty(b,u,c):vg(u)||(b.setProperty?b.setProperty(u,c):b[u]=c))}function nC(i,s,o,u){let c=!1;if(ml()){const d=function(i,s,o){const u=i.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const p=u[d];pv(o,p.selectors,!1)&&(c||(c=[]),Dl(Pt(o,s),i,p.type),Gr(p)?(sC(i,o),c.unshift(p)):c.push(p))}return c}(i,s,o),p=null===u?null:{"":-1};if(null!==d){c=!0,oC(o,i.data.length,d.length);for(let T=0;T<d.length;T++){const R=d[T];R.providersResolver&&R.providersResolver(R)}let _=!1,b=!1,C=pd(i,s,d.length,null);for(let T=0;T<d.length;T++){const R=d[T];o.mergedAttrs=Cl(o.mergedAttrs,R.hostAttrs),aC(i,o,s,C,R),_S(C,R,p),null!==R.contentQueries&&(o.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(o.flags|=128);const N=R.type.prototype;!_&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),_=!0),!b&&(N.ngOnChanges||N.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),b=!0),C++}!function(i,s){const u=s.directiveEnd,c=i.data,d=s.attrs,p=[];let _=null,b=null;for(let C=s.directiveStart;C<u;C++){const T=c[C],R=T.inputs,N=null===d||UA(s)?null:kx(R,d);p.push(N),_=tC(R,C,_),b=tC(T.outputs,C,b)}null!==_&&(_.hasOwnProperty("class")&&(s.flags|=16),_.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=p,s.inputs=_,s.outputs=b}(i,o)}p&&function(i,s,o){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const d=o[s[c+1]];if(null==d)throw new fe("301",`Export of name '${s[c+1]}' not found!`);u.push(s[c],d)}}}(o,u,p)}return o.mergedAttrs=Cl(o.mergedAttrs,o.attrs),c}function zr(i,s,o,u,c,d){const p=d.hostBindings;if(p){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const b=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(_)!=b&&_.push(b),_.push(u,c,p)}}function iC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function sC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function _S(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;Gr(s)&&(o[""]=i)}}function oC(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function aC(i,s,o,u,c){i.data[u]=c;const d=c.factory||(c.factory=ps(c.type)),p=new lu(d,Gr(c),null);i.blueprint[u]=p,o[u]=p,zr(i,s,0,u,pd(i,o,c.hostVars,Bt),c)}function vS(i,s,o){const u=_n(s,i),c=J0(o),d=i[10],p=vm(i,hd(i,c,null,o.onPush?64:16,u,s,d,d.createRenderer(u,o),null,null));i[s.index]=p}function Ho(i,s,o,u,c,d){const p=_n(i,s);!function(i,s,o,u,c,d,p){if(null==d)jn(i)?i.removeAttribute(s,c,o):s.removeAttribute(c);else{const _=null==p?ze(d):p(d,u||"",c);jn(i)?i.setAttribute(s,c,_,o):o?s.setAttributeNS(o,c,_):s.setAttribute(c,_)}}(s[11],p,d,i.value,o,u,c)}function Px(i,s,o,u,c,d){const p=d[s];if(null!==p){const _=u.setInput;for(let b=0;b<p.length;){const C=p[b++],T=p[b++],R=p[b++];null!==_?u.setInput(o,R,C,T):o[T]=R}}}function kx(i,s){let o=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return o}function uC(i,s,o,u){return new Array(i,!0,!1,s,null,0,u,o,null,null)}function cC(i,s){const o=$n(s,i);if(ei(o)){const u=o[1];80&o[2]?Tf(u,o,u.template,o[8]):o[5]>0&&Sv(o)}}function Sv(i){for(let u=iv(i);null!==u;u=yf(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const p=d[1];Tf(p,d,p.template,d[8])}else d[5]>0&&Sv(d)}const o=i[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=$n(o[u],i);ei(c)&&c[5]>0&&Sv(c)}}function ES(i,s){const o=$n(s,i),u=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),gd(u,o,o[8])}function vm(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Rv(i){for(;i;){i[2]|=64;const s=es(i);if(ll(i)&&!s)return i;i=s}return null}function Nv(i,s,o){const u=s[10];u.begin&&u.begin();try{Tf(i,s,i.template,o)}catch(c){throw Ov(s,c),c}finally{u.end&&u.end()}}function dC(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],u=ff(o),c=u[1];Z0(c,u,c.template,o)}}(i[8])}function Mv(i,s,o){fg(0),s(i,o)}const Vx=(()=>Promise.resolve(null))();function Ct(i){return i[7]||(i[7]=[])}function xv(i){return i.cleanup||(i.cleanup=[])}function Ov(i,s){const o=i[9],u=o?o.get(Au,null):null;u&&u.handleError(s)}function ns(i,s,o,u,c){for(let d=0;d<o.length;){const p=o[d++],_=o[d++],b=s[p],C=i.data[p];null!==C.setInput?C.setInput(b,c,u,_):b[_]=c}}function Ma(i,s,o){const u=Et(s,i);!function(i,s,o){jn(i)?i.setValue(s,o):s.textContent=o}(i[11],u,o)}function Em(i,s,o){let u=o?i.styles:null,c=o?i.classes:null,d=0;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?d=_:1==d?c=ae(c,_):2==d&&(u=ae(u,_+": "+s[++p]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=c:i.classesWithoutHost=c}const Gl=new Gn("INJECTOR",-1);class hC{get(s,o=bu){if(o===bu){const u=new Error(`NullInjectorError: No provider for ${K(s)}!`);throw u.name="NullInjectorError",u}return o}}const Af=new Gn("Set Injector scope."),Sf={},jx={};let yd;function Rf(){return void 0===yd&&(yd=new hC),yd}function bm(i,s=null,o=null,u){return new xa(i,o,s||Rf(),u)}class xa{constructor(s,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&ys(o,_=>this.processProvider(_,s,o)),ys([s],_=>this.processInjectorType(_,[],d)),this.records.set(Gl,vd(void 0,this));const p=this.records.get(Af);this.scope=null!=p?p.value:null,this.source=c||("object"==typeof s?null:K(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=bu,u=Le.Default){this.assertNotDestroyed();const c=Bs(this),d=un(void 0);try{if(!(u&Le.SkipSelf)){let _=this.records.get(s);if(void 0===_){const b=("function"==typeof(i=s)||"object"==typeof i&&i instanceof Gn)&&xn(s);_=b&&this.injectableDefInScope(b)?vd(wm(s),Sf):null,this.records.set(s,_)}if(null!=_)return this.hydrate(s,_)}return(u&Le.Self?Rf():this.parent).get(s,o=u&Le.Optional&&o===bu?null:o)}catch(p){if("NullInjectorError"===p.name){if((p[Ca]=p[Ca]||[]).unshift(K(s)),c)throw p;return rf(p,s,"R3InjectorError",this.source)}throw p}finally{un(d),Bs(c)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(K(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,u){if(!(s=J(s)))return!1;let c=tr(s);const d=null==c&&s.ngModule||void 0,p=void 0===d?s:d,_=-1!==u.indexOf(p);if(void 0!==d&&(c=tr(d)),null==c)return!1;if(null!=c.imports&&!_){let T;u.push(p);try{ys(c.imports,R=>{this.processInjectorType(R,o,u)&&(void 0===T&&(T=[]),T.push(R))})}finally{}if(void 0!==T)for(let R=0;R<T.length;R++){const{ngModule:N,providers:$}=T[R];ys($,Y=>this.processProvider(Y,N,$||Q))}}this.injectorDefTypes.add(p);const b=ps(p)||(()=>new p);this.records.set(p,vd(b,Sf));const C=c.providers;if(null!=C&&!_){const T=s;ys(C,R=>this.processProvider(R,T,C))}return void 0!==d&&void 0!==s.providers}processProvider(s,o,u){let c=Mu(s=J(s))?s:J(s&&s.provide);const d=fC(i=s)?vd(void 0,i.useValue):vd(Cr(i),Sf);var i;if(Mu(s)||!0!==s.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=vd(void 0,Sf,!0),p.factory=()=>mo(p.multi),this.records.set(c,p)),c=s,p.multi.push(s)}this.records.set(c,d)}hydrate(s,o){return o.value===Sf&&(o.value=jx,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=J(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function wm(i){const s=xn(i),o=null!==s?s.factory:ps(i);if(null!==o)return o;if(i instanceof Gn)throw new Error(`Token ${K(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=function(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${K(i)}: (${u.join(", ")}).`)}const o=function(i){const s=i&&(i[At]||i[lr]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function Cr(i,s,o){let u;if(Mu(i)){const c=J(i);return ps(c)||wm(c)}if(fC(i))u=()=>J(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...mo(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>Rn(J(i.useExisting));else{const c=J(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return ps(c)||wm(c);u=()=>new c(...mo(i.deps))}return u}function vd(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function fC(i){return null!==i&&"object"==typeof i&&Ia in i}function Mu(i){return"function"==typeof i}const zs=function(i,s,o){return function(i,s=null,o=null,u){const c=bm(i,s,o,u);return c._resolveInjectorDefTypes(),c}({name:o},s,i,o)};let Qn=(()=>{class i{static create(o,u){return Array.isArray(o)?zs(o,u,""):zs(o.providers,o.parent,o.name||"")}}return i.THROW_IF_NOT_FOUND=bu,i.NULL=new hC,i.\u0275prov=Qt({token:i,providedIn:"any",factory:()=>Rn(Gl)}),i.__NG_ELEMENT_ID__=-1,i})();function VS(i,s){au(ff(i)[1],pr())}function kf(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let c;if(Gr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");c=s.\u0275dir}if(c){if(o){u.push(c);const p=i;p.inputs=Gv(i.inputs),p.declaredInputs=Gv(i.declaredInputs),p.outputs=Gv(i.outputs);const _=c.hostBindings;_&&IC(i,_);const b=c.viewQuery,C=c.contentQueries;if(b&&jS(i,b),C&&Go(i,C),ee(i.inputs,c.inputs),ee(i.declaredInputs,c.declaredInputs),ee(i.outputs,c.outputs),Gr(c)&&c.data.animation){const T=i.data;T.animation=(T.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let p=0;p<d.length;p++){const _=d[p];_&&_.ngInherit&&_(i),_===kf&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=Cl(c.hostAttrs,o=Cl(o,c.hostAttrs))}}(u)}function Gv(i){return i===et?{}:i===Q?[]:i}function jS(i,s){const o=i.viewQuery;i.viewQuery=o?(u,c)=>{s(u,c),o(u,c)}:s}function Go(i,s){const o=i.contentQueries;i.contentQueries=o?(u,c,d)=>{s(u,c,d),o(u,c,d)}:s}function IC(i,s){const o=i.hostBindings;i.hostBindings=o?(u,c)=>{s(u,c),o(u,c)}:s}let Mr=null;function Ui(){if(!Mr){const i=G.Symbol;if(i&&i.iterator)Mr=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Mr=u)}}}return Mr}function bd(i){return!!Dm(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ui()in i)}function Dm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ni(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Wl(i,s,o,u){const c=Ue();return ni(c,su(),s)&&(rn(),Ho(Dn(),c,i,s,o,u)),Wl}function OC(i,s,o,u,c,d,p,_){const b=Ue(),C=rn(),T=i+20,R=C.firstCreatePass?function(i,s,o,u,c,d,p,_,b){const C=s.consts,T=fd(s,i,4,p||null,pi(C,_));nC(s,o,T,pi(C,b)),au(s,T);const R=T.tViews=ym(2,T,u,c,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,C);return null!==s.queries&&(s.queries.template(s,T),R.queries=s.queries.embeddedTView(T)),T}(T,C,b,s,o,u,c,d,p):C.data[T];Fs(R,!1);const N=b[11].createComment("");sm(C,b,N,R),wr(N,b),vm(b,b[T]=uC(N,b,N,R)),Ka(R)&&mm(C,b,R),null!=p&&Iv(b,R,_)}function jf(i,s=Le.Default){const o=Ue();return null===o?Rn(i,s):Bh(pr(),o,J(i),s)}function rE(i,s,o){const u=Ue();return ni(u,su(),s)&&ws(rn(),Dn(),u,i,s,u[11],o,!1),rE}function Ql(i,s,o,u,c){const p=c?"class":"style";ns(i,o,s.inputs[p],p,u)}function $f(i,s,o,u){const c=Ue(),d=rn(),p=20+i,_=c[11],b=c[p]=Jg(_,s,wt.lFrame.currentNamespace),C=d.firstCreatePass?function(i,s,o,u,c,d,p){const _=s.consts,C=fd(s,i,2,c,pi(_,d));return nC(s,o,C,pi(_,p)),null!==C.attrs&&Em(C,C.attrs,!1),null!==C.mergedAttrs&&Em(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(p,d,c,0,s,o,u):d.data[p];Fs(C,!0);const T=C.mergedAttrs;null!==T&&du(_,b,T);const R=C.classes;null!==R&&hv(_,b,R);const N=C.styles;null!==N&&dv(_,b,N),64!=(64&C.flags)&&sm(d,c,b,C),0===wt.lFrame.elementDepthCount&&wr(b,c),wt.lFrame.elementDepthCount++,Ka(C)&&(mm(d,c,C),Q0(d,C,c)),null!==u&&Iv(c,C)}function Om(){let i=pr();vl()?ru():(i=i.parent,Fs(i,!1));const s=i;wt.lFrame.elementDepthCount--;const o=rn();o.firstCreatePass&&(au(o,i),ul(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Ql(o,s,Ue(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Ql(o,s,Ue(),s.stylesWithoutHost,!1)}function zC(i,s,o,u){$f(i,s,o,u),Om()}function is(i,s,o){const u=Ue(),c=rn(),d=i+20,p=c.firstCreatePass?function(i,s,o,u,c){const d=s.consts,p=pi(d,u),_=fd(s,i,8,"ng-container",p);return null!==p&&Em(_,p,!0),nC(s,o,_,pi(d,c)),null!==s.queries&&s.queries.elementStart(s,_),_}(d,c,u,s,o):c.data[d];Fs(p,!0);const _=u[d]=u[11].createComment("");sm(c,u,_,p),wr(_,u),Ka(p)&&(mm(c,u,p),Q0(c,p,u)),null!=o&&Iv(u,p)}function Pm(){let i=pr();const s=rn();vl()?ru():(i=i.parent,Fs(i,!1)),s.firstCreatePass&&(au(s,i),ul(i)&&s.queries.elementEnd(i))}function Hf(){return Ue()}function Nd(i){return!!i&&"function"==typeof i.then}function KC(i){return!!i&&"function"==typeof i.subscribe}const sE=KC;function oE(i,s,o,u){const c=Ue(),d=rn(),p=pr();return function(i,s,o,u,c,d,p,_){const b=Ka(u),T=i.firstCreatePass&&xv(i),R=s[8],N=Ct(s);let $=!0;if(3&u.type||_){const re=_n(u,s),We=_?_(re):re,xe=N.length,ft=_?St=>_(ue(St[u.index])):u.index;if(jn(o)){let St=null;if(!_&&b&&(St=function(i,s,o,u){const c=i.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const p=c[d];if(p===o&&c[d+1]===u){const _=s[7],b=c[d+2];return _.length>b?_[b]:null}"string"==typeof p&&(d+=2)}return null}(i,s,c,u.index)),null!==St)(St.__ngLastListenerFn__||St).__ngNextListenerFn__=d,St.__ngLastListenerFn__=d,$=!1;else{d=Jl(u,s,R,d,!1);const an=o.listen(We,c,d);N.push(d,an),T&&T.push(c,ft,xe,xe+1)}}else d=Jl(u,s,R,d,!0),We.addEventListener(c,d,p),N.push(d),T&&T.push(c,ft,xe,p)}else d=Jl(u,s,R,d,!1);const Y=u.outputs;let Ee;if($&&null!==Y&&(Ee=Y[c])){const re=Ee.length;if(re)for(let We=0;We<re;We+=2){const Ar=s[Ee[We]][Ee[We+1]].subscribe(d),cs=N.length;N.push(d,Ar),T&&T.push(c,u.index,cs,-(cs+1))}}}(d,c,c[11],p,i,s,!!o,u),oE}function uE(i,s,o,u){try{return!1!==o(u)}catch(c){return Ov(i,c),!1}}function Jl(i,s,o,u,c){return function d(p){if(p===Function)return u;const _=2&i.flags?$n(i.index,s):s;0==(32&s[2])&&Rv(_);let b=uE(s,0,u,p),C=d.__ngNextListenerFn__;for(;C;)b=uE(s,0,C,p)&&b,C=C.__ngNextListenerFn__;return c&&!1===b&&(p.preventDefault(),p.returnValue=!1),b}}function lE(i=1){return function(i){return(wt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,wt.lFrame.contextLView))[8]}(i)}function rI(i,s,o,u,c){const d=i[o+1],p=null===s;let _=u?yo(d):Na(d),b=!1;for(;0!==_&&(!1===b||p);){const T=i[_+1];nR(i[_],s)&&(b=!0,i[_+1]=u?$l(T):cm(T)),_=u?yo(T):Na(T)}b&&(i[o+1]=u?cm(d):$l(d))}function nR(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Eu(i,s)>=0}const ir={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iI(i){return i.substring(ir.key,ir.keyEnd)}function sI(i,s){const o=ir.textEnd;return o===s?-1:(s=ir.keyEnd=function(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,ir.key=s,o),Md(i,s,o))}function Md(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function fE(i,s,o){return Zs(i,s,o,!1),fE}function Vm(i,s){return Zs(i,s,null,!0),Vm}function pE(i){!function(i,s,o,u){const c=rn(),d=gs(2);c.firstUpdatePass&&fI(c,null,d,u);const p=Ue();if(o!==Bt&&ni(p,d,o)){const _=c.data[gi()];if(gI(_,u)&&!hI(c,d)){let b=u?_.classesWithoutHost:_.stylesWithoutHost;null!==b&&(o=ae(b,o||"")),Ql(c,_,p,o,u)}else!function(i,s,o,u,c,d,p,_){c===Bt&&(c=Q);let b=0,C=0,T=0<c.length?c[0]:null,R=0<d.length?d[0]:null;for(;null!==T||null!==R;){const N=b<c.length?c[b+1]:void 0,$=C<d.length?d[C+1]:void 0;let Ee,Y=null;T===R?(b+=2,C+=2,N!==$&&(Y=R,Ee=$)):null===R||null!==T&&T<R?(b+=2,Y=T):(C+=2,Y=R,Ee=$),null!==Y&&Xl(i,s,o,u,Y,Ee,p,_),T=b<c.length?c[b]:null,R=C<d.length?d[C]:null}}(c,_,p,p[11],p[d+1],p[d+1]=function(i,s,o){if(null==o||""===o)return Q;const u=[],c=A(o);if(Array.isArray(c))for(let d=0;d<c.length;d++)i(u,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&i(u,d,c[d]);else"string"==typeof c&&s(u,c);return u}(i,s,o),u,d)}}(mi,bo,i,!0)}function bo(i,s){for(let o=function(i){return function(i){ir.key=0,ir.keyEnd=0,ir.value=0,ir.valueEnd=0,ir.textEnd=i.length}(i),sI(i,Md(i,0,ir.textEnd))}(s);o>=0;o=sI(s,o))mi(i,iI(s),!0)}function Zs(i,s,o,u){const c=Ue(),d=rn(),p=gs(2);d.firstUpdatePass&&fI(d,i,p,u),s!==Bt&&ni(c,p,s)&&Xl(d,d.data[gi()],c,c[11],i,c[p+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=K(A(i)))),i}(s,o),u,p)}function hI(i,s){return s>=i.expandoStartIndex}function fI(i,s,o,u){const c=i.data;if(null===c[o+1]){const d=c[gi()],p=hI(i,o);gI(d,u)&&null===s&&!p&&(s=!1),s=function(i,s,o,u){const c=Oo(i);let d=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(o=zf(o=mE(null,i,s,o,u),s.attrs,u),d=null);else{const p=s.directiveStylingLast;if(-1===p||i[p]!==c)if(o=mE(c,i,s,o,u),null===d){let b=function(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==Na(u))return i[yo(u)]}(i,s,u);void 0!==b&&Array.isArray(b)&&(b=mE(null,i,s,b[1],u),b=zf(b,s.attrs,u),function(i,s,o,u){i[yo(o?s.classBindings:s.styleBindings)]=u}(i,s,u,b))}else d=function(i,s,o){let u;const c=s.directiveEnd;for(let d=1+s.directiveStylingLast;d<c;d++)u=zf(u,i[d].hostAttrs,o);return zf(u,s.attrs,o)}(i,s,u)}return void 0!==d&&(u?s.residualClasses=d:s.residualStyles=d),o}(c,d,s,u),function(i,s,o,u,c,d){let p=d?s.classBindings:s.styleBindings,_=yo(p),b=Na(p);i[u]=o;let T,C=!1;if(Array.isArray(o)){const R=o;T=R[1],(null===T||Eu(R,T)>0)&&(C=!0)}else T=o;if(c)if(0!==b){const N=yo(i[_+1]);i[u+1]=Cf(N,_),0!==N&&(i[N+1]=ts(i[N+1],u)),i[_+1]=function(i,s){return 131071&i|s<<17}(i[_+1],u)}else i[u+1]=Cf(_,0),0!==_&&(i[_+1]=ts(i[_+1],u)),_=u;else i[u+1]=Cf(b,0),0===_?_=u:i[b+1]=ts(i[b+1],u),b=u;C&&(i[u+1]=cm(i[u+1])),rI(i,T,u,!0),rI(i,T,u,!1),function(i,s,o,u,c){const d=c?i.residualClasses:i.residualStyles;null!=d&&"string"==typeof s&&Eu(d,s)>=0&&(o[u+1]=$l(o[u+1]))}(s,T,i,u,d),p=Cf(_,b),d?s.classBindings=p:s.styleBindings=p}(c,d,s,o,p,u)}}function mE(i,s,o,u,c){let d=null;const p=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<p&&(d=s[_],u=zf(u,d.hostAttrs,c),d!==i);)_++;return null!==i&&(o.directiveStylingLast=_),u}function zf(i,s,o){const u=o?1:2;let c=-1;if(null!==s)for(let d=0;d<s.length;d++){const p=s[d];"number"==typeof p?c=p:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),mi(i,p,!!o||s[++d]))}return void 0===i?null:i}function Xl(i,s,o,u,c,d,p,_){if(!(3&s.type))return;const b=i.data,C=b[_+1];Um(function(i){return 1==(1&i)}(C)?pI(b,s,o,c,Na(C),p):void 0)||(Um(d)||function(i){return 2==(2&i)}(C)&&(d=pI(b,null,o,c,_,p)),function(i,s,o,u,c){const d=jn(i);if(s)c?d?i.addClass(o,u):o.classList.add(u):d?i.removeClass(o,u):o.classList.remove(u);else{let p=-1===u.indexOf("-")?void 0:Vi.DashCase;if(null==c)d?i.removeStyle(o,u,p):o.style.removeProperty(u);else{const _="string"==typeof c&&c.endsWith("!important");_&&(c=c.slice(0,-10),p|=Vi.Important),d?i.setStyle(o,u,c,p):o.style.setProperty(u,c,_?"important":"")}}}(u,p,Et(gi(),o),c,d))}function pI(i,s,o,u,c,d){const p=null===s;let _;for(;c>0;){const b=i[c],C=Array.isArray(b),T=C?b[1]:b,R=null===T;let N=o[c+1];N===Bt&&(N=R?Q:void 0);let $=R?Zc(N,u):T===u?N:void 0;if(C&&!Um($)&&($=Zc(b,u)),Um($)&&(_=$,p))return _;const Y=i[c+1];c=p?yo(Y):Na(Y)}if(null!==s){let b=d?s.residualClasses:s.residualStyles;null!=b&&(_=Zc(b,u))}return _}function Um(i){return void 0!==i}function gI(i,s){return 0!=(i.flags&(s?16:32))}function vE(i,s=""){const o=Ue(),u=rn(),c=i+20,d=u.firstCreatePass?fd(u,c,1,s,null):u.data[c],p=o[c]=function(i,s){return jn(i)?i.createText(s):i.createTextNode(s)}(o[11],s);sm(u,o,p,d),Fs(d,!1)}function EE(i){return jm("",i,""),EE}function jm(i,s,o){const u=Ue(),c=function(i,s,o,u){return ni(i,su(),o)?s+ze(o)+u:Bt}(u,i,s,o);return c!==Bt&&Ma(u,gi(),c),jm}function CE(i,s,o){const u=Ue();return ni(u,su(),s)&&ws(rn(),Dn(),u,i,s,u[11],o,!0),CE}function IE(i,s,o){const u=Ue();if(ni(u,su(),s)){const d=rn(),p=Dn();ws(d,p,u,i,s,function(i,s,o){return(null===i||Gr(i))&&(o=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}(Oo(d.data),p,u),o,!0)}return IE}const nc=void 0;var Gm=["en",[["a","p"],["AM","PM"],nc],[["AM","PM"],nc,nc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nc,"{1} 'at' {0}",nc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let xd={};function Wm(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=vi(s);if(o)return o;const u=s.split("-")[0];if(o=vi(u),o)return o;if("en"===u)return Gm;throw new Error(`Missing locale data for the locale "${i}".`)}function xI(i){return Wm(i)[Dt.PluralCase]}function vi(i){return i in xd||(xd[i]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[i]),xd[i]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const Co="en-US";let $t=Co;function Od(i){bt(i,"Expected localeId to be defined"),"string"==typeof i&&($t=i.toLowerCase().replace(/_/g,"-"))}function Yf(i,s,o,u,c){if(i=J(i),Array.isArray(i))for(let d=0;d<i.length;d++)Yf(i[d],s,o,u,c);else{const d=rn(),p=Ue();let _=Mu(i)?i:J(i.provide),b=Cr(i);const C=pr(),T=1048575&C.providerIndexes,R=C.directiveStart,N=C.providerIndexes>>20;if(Mu(i)||!i.multi){const $=new lu(b,c,jf),Y=ny(_,s,c?T:T+N,R);-1===Y?(Dl(Pt(C,p),d,_),KE(d,i,s.length),s.push(_),C.directiveStart++,C.directiveEnd++,c&&(C.providerIndexes+=1048576),o.push($),p.push($)):(o[Y]=$,p[Y]=$)}else{const $=ny(_,s,T+N,R),Y=ny(_,s,T,T+N),Ee=$>=0&&o[$],re=Y>=0&&o[Y];if(c&&!re||!c&&!Ee){Dl(Pt(C,p),d,_);const We=function(i,s,o,u,c){const d=new lu(i,o,jf);return d.multi=[],d.index=s,d.componentProviders=0,ty(d,c,u&&!o),d}(c?ry:FR,o.length,c,u,b);!c&&re&&(o[Y].providerFactory=We),KE(d,i,s.length,0),s.push(_),C.directiveStart++,C.directiveEnd++,c&&(C.providerIndexes+=1048576),o.push(We),p.push(We)}else KE(d,i,$>-1?$:Y,ty(o[c?Y:$],b,!c&&u));!c&&u&&re&&o[Y].componentProviders++}}}function KE(i,s,o,u){const c=Mu(s);if(c||function(i){return!!i.useClass}(s)){const p=(s.useClass||s).prototype.ngOnDestroy;if(p){const _=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const b=_.indexOf(o);-1===b?_.push(o,[u,p]):_[b+1].push(u,p)}else _.push(o,p)}}}function ty(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function ny(i,s,o,u){for(let c=o;c<u;c++)if(s[c]===i)return c;return-1}function FR(i,s,o,u){return Qf(this.multi,[])}function ry(i,s,o,u){const c=this.multi;let d;if(this.providerFactory){const p=this.providerFactory.componentProviders,_=ki(o,o[1],this.providerFactory.index,u);d=_.slice(0,p),Qf(c,d);for(let b=p;b<_.length;b++)d.push(_[b])}else d=[],Qf(c,d);return d}function Qf(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function YE(i,s=[]){return o=>{o.providersResolver=(u,c)=>function(i,s,o){const u=rn();if(u.firstCreatePass){const c=Gr(i);Yf(o,u.data,u.blueprint,c,!0),Yf(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class jd{}const JE="ngComponent";class iy{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${K(i)}. Did you add it to @NgModule.entryComponents?`);return s[JE]=i,s}(s)}}let Bd=(()=>{class i{}return i.NULL=new iy,i})();function sy(...i){}function Qs(i,s){return new ss(_n(i,s))}const YI=function(){return Qs(pr(),Ue())};let ss=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=YI,i})();function eb(i){return i instanceof ss?i.nativeElement:i}class Jf{}let Xf=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>tb(),i})();const tb=function(){const i=Ue(),o=$n(pr().index,i);return function(i){return i[11]}(fr(o)?o:i)};let ic=(()=>{class i{}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:()=>null}),i})();class ay{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ep=new ay("12.2.15");class uy{constructor(){}supports(s){return bd(s)}create(s){return new XI(s)}}const ly=(i,s)=>s;class XI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||ly}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const p=!u||o&&o.currentIndex<dy(u,c,d)?o:u,_=dy(p,c,d),b=p.currentIndex;if(p===u)c--,u=u._nextRemoved;else if(o=o._next,null==p.previousIndex)c++;else{d||(d=[]);const C=_-c,T=b-c;if(C!=T){for(let N=0;N<C;N++){const $=N<d.length?d[N]:d[N]=0,Y=$+N;T<=Y&&Y<C&&(d[N]=$+1)}d[p.previousIndex]=T-C}}_!==b&&s(p,_,b)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!bd(s))throw new Error(`Error trying to diff '${K(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,d,p,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)d=s[_],p=this._trackByFn(_,d),null!==o&&Object.is(o.trackById,p)?(u&&(o=this._verifyReinsertion(o,d,p,_)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,p,_),u=!0),o=o._next}else c=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Ui()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,_=>{p=this._trackByFn(c,_),null!==o&&Object.is(o.trackById,p)?(u&&(o=this._verifyReinsertion(o,_,p,c)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,p,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,c){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,d,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,d,c)):s=this._addAfter(new BR(o,u),d,c),s}_verifyReinsertion(s,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?s=this._reinsertAfter(d,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,d=s._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new tp),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tp),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class BR{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class tp{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new nb,this.map.set(o,u)),u.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dy(i,s,o){const u=i.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+s+c}class rb{constructor(){}supports(s){return s instanceof Map||Dm(s)}create(){return new eT}}class eT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Dm(s)))throw new Error(`Error trying to diff '${K(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const d=c._prev,p=c._next;return d&&(d._next=p),p&&(p._prev=d),c._next=null,c._prev=null,c}const u=new tT(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class tT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nT(){return new ju([new uy])}let ju=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||nT()),deps:[[i,new Uo,new Li]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:nT}),i})();function np(){return new Bu([new rb])}let Bu=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||np()),deps:[[i,new Uo,new Li]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:np}),i})();function Zo(i,s,o,u,c=!1){for(;null!==o;){const d=s[o.index];if(null!==d&&u.push(ue(d)),Pn(d))for(let _=10;_<d.length;_++){const b=d[_],C=b[1].firstChild;null!==C&&Zo(b[1],b,C,u)}const p=o.type;if(8&p)Zo(i,s,o.child,u);else if(32&p){const _=$o(o,s);let b;for(;b=_();)u.push(b)}else if(16&p){const _=x0(s,o);if(Array.isArray(_))u.push(..._);else{const b=es(s[16]);Zo(b[1],b,_,u,!0)}}o=c?o.projectionNext:o.next}return u}class sc{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Zo(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Pn(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(cd(s,u),Us(o,u))}this._attachedToViewContainer=!1}_f(this._lView[1],this._lView)}onDestroy(s){Tv(this._lView[1],this._lView,null,s)}markForCheck(){Rv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Nv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){iu(!0);try{Nv(i,s,o)}finally{iu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,wf(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class $R extends sc{constructor(s){super(s),this._view=s}detectChanges(){dC(this._view)}checkNoChanges(){!function(i){iu(!0);try{dC(i)}finally{iu(!1)}}(this._view)}get context(){return null}}const sb=function(i){return function(i,s,o){if(Jr(i)&&!o){const u=$n(i.index,s);return new sc(u,u)}return 47&i.type?new sc(s[16],s):null}(pr(),Ue(),16==(16&i))};let oc=(()=>{class i{}return i.__NG_ELEMENT_ID__=sb,i})();const ac=[new rb],hy=new ju([new uy]),fy=new Bu(ac),Jn=function(){return Hu(pr(),Ue())};let $u=(()=>{class i{}return i.__NG_ELEMENT_ID__=Jn,i})();const WR=$u,zR=class extends WR{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s){const o=this._declarationTContainer.tViews,u=hd(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),gd(o,u,s),new sc(u)}};function Hu(i,s){return 4&i.type?new zR(s,i,Qs(i,s)):null}class uc{}class ob{}const KR=function(){return lc(pr(),Ue())};let gy=(()=>{class i{}return i.__NG_ELEMENT_ID__=KR,i})();const Gu=gy,ab=class extends Gu{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Qs(this._hostTNode,this._hostLView)}get injector(){return new pu(this._hostTNode,this._hostLView)}get parentInjector(){const s=ma(this._hostTNode,this._hostLView);if(Eg(s)){const o=ko(s,this._hostLView),u=hu(s);return new pu(o[1].data[u+8],o)}return new pu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=ub(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){const c=s.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(s,o,u,c,d){const p=u||this.parentInjector;if(!d&&null==s.ngModule&&p){const b=p.get(uc,null);b&&(d=b)}const _=s.create(p,c,void 0,d);return this.insert(_.hostView,o),_}insert(s,o){const u=s._lView,c=u[1];if(Pn(u[3])){const T=this.indexOf(s);if(-1!==T)this.detach(T);else{const R=u[3],N=new ab(R,R[6],R[3]);N.detach(N.indexOf(s))}}const d=this._adjustIndex(o),p=this._lContainer;!function(i,s,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=s),u<d-10?(s[4]=o[c],Lo(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const p=s[17];null!==p&&o!==p&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(p,s);const _=s[19];null!==_&&_.insertView(i),s[2]|=128}(c,u,p,d);const _=cv(d,p),b=u[11],C=nm(b,p[7]);return null!==C&&function(i,s,o,u,c,d){u[0]=c,u[6]=s,wf(i,u,o,1,c,d)}(c,p[6],b,u,C,_),s.attachToViewContainerRef(),Lo(my(p),d,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=ub(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=cd(this._lContainer,o);u&&(Us(my(this._lContainer),o),_f(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=cd(this._lContainer,o);return u&&null!=Us(my(this._lContainer),o)?new sc(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function ub(i){return i[8]}function my(i){return i[8]||(i[8]=[])}function lc(i,s){let o;const u=s[i.index];if(Pn(u))o=u;else{let c;if(8&i.type)c=ue(u);else{const d=s[11];c=d.createComment("");const p=_n(i,s);Bl(d,nm(d,p),c,function(i,s){return jn(i)?i.nextSibling(s):s.nextSibling}(d,p),!1)}s[i.index]=o=uC(u,s,c,i),vm(s,o)}return new ab(o,i,s)}const mr={};class gc extends Bd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Tn(s);return new fp(o,this.ngModule)}}function Cy(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const hp=new Gn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>RA});class fp extends jd{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(F0).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Cy(this.componentDef.inputs)}get outputs(){return Cy(this.componentDef.outputs)}create(s,o,u,c){const d=(c=c||this.ngModule)?function(i,s){return{get:(o,u,c)=>{const d=i.get(o,mr,c);return d!==mr||u===mr?d:s.get(o,u,c)}}}(s,c.injector):s,p=d.get(Jf,k),_=d.get(ic,null),b=p.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",T=u?function(i,s,o){if(jn(i))return i.selectRootElement(s,o===nn.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(b,u,this.componentDef.encapsulation):Jg(p.createRenderer(null,this.componentDef),C,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(C)),R=this.componentDef.onPush?576:528,N=function(i,s){return{components:[],scheduler:i||RA,clean:Vx,playerHandler:s||null,flags:0}}(),$=ym(0,null,null,1,0,null,null,null,null,null),Y=hd(null,$,N,R,null,null,p,b,_,d);let Ee,re;bl(Y);try{const We=function(i,s,o,u,c,d){const p=o[1];o[20]=i;const b=fd(p,20,2,"#host",null),C=b.mergedAttrs=s.hostAttrs;null!==C&&(Em(b,C,!0),null!==i&&(du(c,i,C),null!==b.classes&&hv(c,i,b.classes),null!==b.styles&&dv(c,i,b.styles)));const T=u.createRenderer(i,s),R=hd(o,J0(s),null,s.onPush?64:16,o[20],b,u,T,d||null,null);return p.firstCreatePass&&(Dl(Pt(b,o),p,s.type),sC(p,b),oC(b,o.length,1)),vm(o,R),o[20]=R}(T,this.componentDef,Y,p,b);if(T)if(u)du(b,T,["ng-version",ep.full]);else{const{attrs:xe,classes:ft}=function(i){const s=[],o=[];let u=1,c=2;for(;u<i.length;){let d=i[u];if("string"==typeof d)2===c?""!==d&&s.push(d,i[++u]):8===c&&o.push(d);else{if(!Gs(c))break;c=d}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);xe&&du(b,T,xe),ft&&ft.length>0&&hv(b,T,ft.join(" "))}if(re=Bn($,20),void 0!==o){const xe=re.projection=[];for(let ft=0;ft<this.ngContentSelectors.length;ft++){const St=o[ft];xe.push(null!=St?Array.from(St):null)}}Ee=function(i,s,o,u,c){const d=o[1],p=function(i,s,o){const u=pr();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),aC(i,u,s,pd(i,s,1,null),o));const c=ki(s,i,u.directiveStart,u);wr(c,s);const d=_n(u,s);return d&&wr(d,s),c}(d,o,s);if(u.components.push(p),i[8]=p,c&&c.forEach(b=>b(p,s)),s.contentQueries){const b=pr();s.contentQueries(1,p,b.directiveStart)}const _=pr();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Vs(_.index),zr(o[1],_,0,_.directiveStart,_.directiveEnd,s),iC(s,p)),p}(We,this.componentDef,Y,N,[VS]),gd($,Y,null)}finally{mg()}return new yc(this.componentType,Ee,Qs(re,Y),Y,re)}}class yc extends class{}{constructor(s,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new $R(c),this.componentType=s}get injector(){return new pu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Jo=new Map;class Sb extends uc{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gc(this);const u=dr(s),c=s[Ke]||null;c&&Od(c),this._bootstrapComponents=Hs(u.bootstrap),this._r3Injector=bm(s,o,[{provide:uc,useValue:this},{provide:Bd,useValue:this.componentFactoryResolver}],K(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Qn.THROW_IF_NOT_FOUND,u=Le.Default){return s===Qn||s===uc||s===Gl?this:this._r3Injector.get(s,o,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class mp extends ob{constructor(s){super(),this.moduleType=s,null!==dr(s)&&function(i){const s=new Set;!function o(u){const c=dr(u,!0),d=c.id;null!==d&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${K(s)} vs ${K(s.name)}`)}(d,Jo.get(d),u),Jo.set(d,u));const p=Hs(c.imports);for(const _ of p)s.has(_)||(s.add(_),o(_))}(i)}(s)}create(s){return new Sb(this.moduleType,s)}}function Rb(i){return s=>{setTimeout(i,void 0,s)}}const To=class extends f.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){var c,d,p;let _=s,b=o||(()=>null),C=u;if(s&&"object"==typeof s){const R=s;_=null===(c=R.next)||void 0===c?void 0:c.bind(R),b=null===(d=R.error)||void 0===d?void 0:d.bind(R),C=null===(p=R.complete)||void 0===p?void 0:p.bind(R)}this.__isAsync&&(b=Rb(b),_&&(_=Rb(_)),C&&(C=Rb(C)));const T=super.subscribe({next:_,error:b,complete:C});return s instanceof V.w&&s.add(T),T}};function FT(){return this._results[Ui()]()}class eo{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ui(),u=eo.prototype;u[o]||(u[o]=FT)}get changes(){return this._changes||(this._changes=new To)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const c=ti(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],d=s[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class rh{constructor(s){this.queryList=s,this.matches=null}clone(){return new rh(this.queryList)}setDirty(){this.queryList.setDirty()}}class wp{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const p=o.getByIndex(d);c.push(this.queries[p.indexInDeclarationView].clone())}return new wp(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Pb(s,o).matches&&this.queries[o].setDirty()}}class Ty{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class Cp{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(s,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new Cp(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Qu{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Qu(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(s,o,to(o,d)),this.matchTNodeWithReadOption(s,o,Fo(o,s,d,!1,!1))}else u===$u?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Fo(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===ss||c===gy||c===$u&&4&o.type)this.addMatch(o.index,-2);else{const d=Fo(o,s,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function to(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function Ip(i,s,o,u){return-1===o?function(i,s){return 11&i.type?Qs(i,s):4&i.type?Hu(i,s):null}(s,i):-2===o?function(i,s,o){return o===ss?Qs(s,i):o===$u?Hu(s,i):o===gy?lc(s,i):void 0}(i,s,u):ki(i,i[1],o,s)}function Dy(i,s,o,u){const c=s[19].queries[u];if(null===c.matches){const d=i.data,p=o.matches,_=[];for(let b=0;b<p.length;b+=2){const C=p[b];_.push(C<0?null:Ip(s,d[C],p[b+1],o.metadata.read))}c.matches=_}return c.matches}function _c(i,s,o,u){const c=i.queries.getByIndex(o),d=c.matches;if(null!==d){const p=Dy(i,s,c,o);for(let _=0;_<d.length;_+=2){const b=d[_];if(b>0)u.push(p[_/2]);else{const C=d[_+1],T=s[-b];for(let R=10;R<T.length;R++){const N=T[R];N[17]===N[3]&&_c(N[1],N,C,u)}if(null!==T[9]){const R=T[9];for(let N=0;N<R.length;N++){const $=R[N];_c($[1],$,C,u)}}}}}return u}function Mb(i){const s=Ue(),o=rn(),u=Ph();fg(u+1);const c=Pb(o,u);if(i.dirty&&qi(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const d=c.crossesNgTemplate?_c(o,s,u,[]):Dy(o,s,c,u);i.reset(d,eb),i.notifyOnChanges()}return!0}return!1}function xb(i,s,o,u){const c=rn();if(c.firstCreatePass){const d=pr();(function(i,s,o){null===i.queries&&(i.queries=new Cp),i.queries.track(new Qu(s,o))})(c,new Ty(s,o,u),d.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(c,i),2==(2&o)&&(c.staticContentQueries=!0)}!function(i,s,o){const u=new eo(4==(4&o));Tv(i,s,u,u.destroy),null===s[19]&&(s[19]=new wp),s[19].queries.push(new rh(u))}(c,Ue(),o)}function Ob(){return i=Ue(),s=Ph(),i[19].queries[s].queryList;var i,s}function Pb(i,s){return i.queries.getByIndex(s)}const Fy=new Gn("Application Initializer");let vc=(()=>{class i{constructor(o){this.appInits=o,this.resolve=sy,this.reject=sy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(Nd(d))o.push(d);else if(sE(d)){const p=new Promise((_,b)=>{d.subscribe({complete:_,error:b})});o.push(p)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Rn(Fy,8))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();const qb=new Gn("AppId"),UN={provide:qb,useFactory:function(){return`${Ju()}${Ju()}${Ju()}`},deps:[]};function Ju(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ec=new Gn("Platform Initializer"),XT=new Gn("Platform ID"),eD=new Gn("appBootstrapListener");let Kb=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();const as=new Gn("LocaleId"),tD=new Gn("DefaultCurrencyCode");class Ti{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const er=function(i){return new mp(i)},ea=er,As=function(i){return Promise.resolve(er(i))},ta=function(i){const s=er(i),u=Hs(dr(i).declarations).reduce((c,d)=>{const p=Tn(d);return p&&c.push(new fp(p)),c},[]);return new Ti(s,u)},dh=ta,nD=function(i){return Promise.resolve(ta(i))};let hh=(()=>{class i{constructor(){this.compileModuleSync=ea,this.compileModuleAsync=As,this.compileModuleAndAllComponentsSync=dh,this.compileModuleAndAllComponentsAsync=nD}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();const Do=(()=>Promise.resolve(0))();function Zb(i){"undefined"==typeof Zone?Do.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Br{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new To(!1),this.onMicrotaskEmpty=new To(!1),this.onStable=new To(!1),this.onError=new To(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let i=G.requestAnimationFrame,s=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(G,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Vy(i),i.isCheckStableRunning=!0,Ba(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Vy(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,p,_)=>{try{return $i(i),o.invokeTask(c,d,p,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||i.shouldCoalesceRunChangeDetection)&&s(),Uy(i)}},onInvoke:(o,u,c,d,p,_,b)=>{try{return $i(i),o.invoke(c,d,p,_,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),Uy(i)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(i._hasPendingMicrotasks=d.microTask,Vy(i),Ba(i)):"macroTask"==d.change&&(i.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),i.runOutsideAngular(()=>i.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Br.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Br.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,c){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+c,s,BN,sy,sy);try{return d.runTask(p,o,u)}finally{d.cancelTask(p)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const BN={};function Ba(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Vy(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function $i(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Uy(i){i._nesting--,Ba(i)}class Qb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new To,this.onMicrotaskEmpty=new To,this.onStable=new To,this.onError=new To}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,c){return s.apply(o,u)}}let $a=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Br.assertNotInAngularZone(),Zb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zb(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return i.\u0275fac=function(o){return new(o||i)(Rn(Br))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})(),Jb=(()=>{class i{constructor(){this._applications=new Map,Op.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Op.findTestabilityInTree(this,o,u)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();class Xb{addToWindow(s){}findTestabilityInTree(s,o,u){return null}}function iD(i){Op=i}let Op=new Xb,ew=!0,wc=!1;function el(){return wc=!0,ew}function fh(){if(wc)throw new Error("Cannot enable prod mode after platform setup.");ew=!1}let Hi;const nw=new Gn("AllowMultipleToken");class us{constructor(s,o){this.name=s,this.token=o}}function Pp(i,s,o=[]){const u=`Platform: ${s}`,c=new Gn(u);return(d=[])=>{let p=Ha();if(!p||p.injector.get(nw,!1))if(i)i(o.concat(d).concat({provide:c,useValue:!0}));else{const _=o.concat(d).concat({provide:c,useValue:!0},{provide:Af,useValue:"platform"});!function(i){if(Hi&&!Hi.destroyed&&!Hi.injector.get(nw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hi=i.get(Cc);const s=i.get(Ec,null);s&&s.forEach(o=>o())}(Qn.create({providers:_,name:u}))}return function(i){const s=Ha();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(c)}}function Ha(){return Hi&&!Hi.destroyed?Hi:null}let Cc=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const _=function(i,s){let o;return o="noop"===i?new Qb:("zone.js"===i?void 0:i)||new Br({enableLongStackTrace:el(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),b=[{provide:Br,useValue:_}];return _.run(()=>{const C=Qn.create({providers:b,parent:this.injector,name:o.moduleType.name}),T=o.create(C),R=T.injector.get(Au,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const N=_.onError.subscribe({next:$=>{R.handleError($)}});T.onDestroy(()=>{jy(this._modules,T),N.unsubscribe()})}),function(i,s,o){try{const u=o();return Nd(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(R,_,()=>{const N=T.injector.get(vc);return N.runInitializers(),N.donePromise.then(()=>(Od(T.injector.get(as,Co)||Co),this._moduleDoBootstrap(T),T))})})}bootstrapModule(o,u=[]){const c=dD({},u);return function(i,s,o){const u=new mp(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(na);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${K(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Rn(Qn))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();function dD(i,s){return Array.isArray(s)?s.reduce(dD,i):Object.assign(Object.assign({},i),s)}let na=(()=>{class i{constructor(o,u,c,d,p){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new x.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),b=new x.y(C=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Br.assertNotInAngularZone(),Zb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{Br.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{T.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ie.T)(_,b.pipe(i=>(0,me.x)()(function(i,s){return function(u){let c;c="function"==typeof i?i:function(){return i};const d=Object.create(u,pe.N);return d.source=u,d.subjectFactory=c,d}}(ne)(i))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof jd?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const d=function(i){return i.isBoundToModule}(c)?void 0:this._injector.get(uc),_=c.create(Qn.NULL,[],u||c.selector,d),b=_.location.nativeElement,C=_.injector.get($a,null),T=C&&_.injector.get(Jb);return C&&T&&T.registerApplication(b,C),_.onDestroy(()=>{this.detachView(_.hostView),jy(this.components,_),T&&T.unregisterApplication(b)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;jy(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(eD,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(Rn(Br),Rn(Qn),Rn(Au),Rn(Bd),Rn(vc))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();function jy(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class iw{}class ph{}const pD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let qN=(()=>{class i{constructor(o,u){this._compiler=o,this._config=u||pD}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),M(8255)(u).then(d=>d[c]).then(d=>gD(d,u,c)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,c]=o.split("#"),d="NgFactory";return void 0===c&&(c="default",d=""),M(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(p=>p[c+d]).then(p=>gD(p,u,c))}}return i.\u0275fac=function(o){return new(o||i)(Rn(hh),Rn(ph,8))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();function gD(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const lw=function(i){return null},dw=Pp(null,"core",[{provide:XT,useValue:"unknown"},{provide:Cc,deps:[Qn]},{provide:Jb,deps:[]},{provide:Kb,deps:[]}]),JN=[{provide:na,useClass:na,deps:[Br,Qn,Au,Bd,vc]},{provide:hp,deps:[Br],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:vc,useClass:vc,deps:[[new Li,Fy]]},{provide:hh,useClass:hh,deps:[]},UN,{provide:ju,useFactory:function(){return hy},deps:[]},{provide:Bu,useFactory:function(){return fy},deps:[]},{provide:as,useFactory:function(i){return Od(i=i||"undefined"!=typeof $localize&&$localize.locale||Co),i},deps:[[new yi(as),new Li,new Uo]]},{provide:tD,useValue:"USD"}];let eM=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Rn(na))},i.\u0275mod=On({type:i}),i.\u0275inj=Zn({providers:JN}),i})()},8939:(ut,Me,M)=>{"use strict";M.d(Me,{hO:()=>K,xv:()=>ne,Dh:()=>me,Ot:()=>Ce,GT:()=>de,cc:()=>ae,on:()=>F,pX:()=>pe});var f=M(3018),V=M(7841),x=M(5922);ut=M.hmd(ut);const ie=["ngOnDestroy"],pe=(Te,Se,fe,ke={})=>new Proxy(Te,{get:(nt,ze)=>fe.runOutsideAngular(()=>{var Nt;if(Te[ze])return(null===(Nt=null==ke?void 0:ke.spy)||void 0===Nt?void 0:Nt.get)&&ke.spy.get(ze,Te[ze]),Te[ze];if(ie.indexOf(ze)>-1)return()=>{};const ye=Se.toPromise().then(Gt=>{const le=Gt&&Gt[ze];return"function"==typeof le?le.bind(Gt):le&&le.then?le.then(we=>fe.run(()=>we)):fe.run(()=>le)});return new Proxy(()=>{},{get:(Gt,le)=>ye[le],apply:(Gt,le,we)=>ye.then(he=>{var Ie;const je=he&&he(...we);return(null===(Ie=null==ke?void 0:ke.spy)||void 0===Ie?void 0:Ie.apply)&&ke.spy.apply(ze,we,je),je})})})}),de=(Te,Se)=>{Se.forEach(fe=>{Object.getOwnPropertyNames(fe.prototype||fe).forEach(ke=>{Object.defineProperty(Te.prototype,ke,Object.getOwnPropertyDescriptor(fe.prototype||fe,ke))})})};class Ce{constructor(Se){return Se}}const me=new f.OlP("angularfire2.app.options"),ne=new f.OlP("angularfire2.app.name");function F(Te,Se,fe){const nt="object"==typeof fe&&fe||{};nt.name=nt.name||"string"==typeof fe&&fe||"[DEFAULT]";const Nt=V.Z.apps.filter(ye=>ye&&ye.name===nt.name)[0]||Se.runOutsideAngular(()=>V.Z.initializeApp(Te,nt));try{JSON.stringify(Te)!==JSON.stringify(Nt.options)&&L("error",`${Nt.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ye){}return new Ce(Nt)}const L=(Te,...Se)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[Te](...Se)},ee={provide:Ce,useFactory:F,deps:[me,f.R0b,[new f.FiY,ne]]};let K=(()=>{class Te{constructor(fe){V.Z.registerVersion("angularfire",x.q4.full,"core"),V.Z.registerVersion("angularfire",x.q4.full,"app-compat"),V.Z.registerVersion("angular",f.q4F.full,fe.toString())}static initializeApp(fe,ke){return{ngModule:Te,providers:[{provide:me,useValue:fe},{provide:ne,useValue:ke}]}}}return Te.\u0275fac=function(fe){return new(fe||Te)(f.LFG(f.Lbi))},Te.\u0275mod=f.oAB({type:Te}),Te.\u0275inj=f.cJS({providers:[ee]}),Te})();function ae(Te,Se,fe,ke,nt){const[,ze,Nt]=globalThis.\u0275AngularfireInstanceCache.find(ye=>ye[0]===Te)||[];if(ze)return function(Te,Se){try{return Te.toString()===Se.toString()}catch(fe){return Te===Se}}(nt,Nt)||(J("error",`${Se} was already initialized on the ${fe} Firebase App with different settings.${_e?" You may need to reload as Firebase is not HMR aware.":""}`),J("warn",{is:nt,was:Nt})),ze;{const ye=ke();return globalThis.\u0275AngularfireInstanceCache.push([Te,ye,nt]),ye}}const _e=!!ut.hot,J=(Te,...Se)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[Te](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5922:(ut,Me,M)=>{"use strict";M.d(Me,{q4:()=>Vc,iC:()=>ks,HU:()=>da,vb:()=>cg,JM:()=>Nh,nk:()=>Vr,u3:()=>jn});var f=M(3018),V=M(2329),x=M(8239),ie=M(8026),pe=M(3854),de=M(3910),Ce=M(5422);M(3328);const ne="@firebase/remote-config",F="0.3.4",ae=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yt{constructor(k,X,ue,Ge){this.client=k,this.storage=X,this.storageCache=ue,this.logger=Ge}isCachedDataFresh(k,X){if(!X)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-X,Ge=ue<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${Ge}.`),Ge}fetch(k){var X=this;return(0,x.Z)(function*(){const[ue,Ge]=yield Promise.all([X.storage.getLastSuccessfulFetchTimestampMillis(),X.storage.getLastSuccessfulFetchResponse()]);if(Ge&&X.isCachedDataFresh(k.cacheMaxAgeMillis,ue))return Ge;k.eTag=Ge&&Ge.eTag;const ot=yield X.client.fetch(k),Et=[X.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ot.status&&Et.push(X.storage.setLastSuccessfulFetchResponse(ot)),yield Promise.all(Et),ot})()}}function Sn(O=navigator){return O.languages&&O.languages[0]||O.language}class gt{constructor(k,X,ue,Ge,ot,Et){this.firebaseInstallations=k,this.sdkVersion=X,this.namespace=ue,this.projectId=Ge,this.apiKey=ot,this.appId=Et}fetch(k){var X=this;return(0,x.Z)(function*(){const[ue,Ge]=yield Promise.all([X.firebaseInstallations.getId(),X.firebaseInstallations.getToken()]),Et=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${X.projectId}/namespaces/${X.namespace}:fetch?key=${X.apiKey}`,_n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},jt={sdk_version:X.sdkVersion,app_instance_id:ue,app_instance_id_token:Ge,app_id:X.appId,language_code:Sn()},Bn={method:"POST",headers:_n,body:JSON.stringify(jt)},kn=fetch(Et,Bn),$n=new Promise((Oi,wt)=>{k.signal.addEventListener(()=>{const gl=new Error("The operation was aborted.");gl.name="AbortError",wt(gl)})});let qi;try{yield Promise.race([kn,$n]),qi=yield kn}catch(Oi){let wt="fetch-client-network";throw"AbortError"===Oi.name&&(wt="fetch-timeout"),ae.create(wt,{originalErrorMessage:Oi.message})}let ei=qi.status;const fa=qi.headers.get("ETag")||void 0;let pi,xo;if(200===qi.status){let Oi;try{Oi=yield qi.json()}catch(wt){throw ae.create("fetch-client-parse",{originalErrorMessage:wt.message})}pi=Oi.entries,xo=Oi.state}if("INSTANCE_STATE_UNSPECIFIED"===xo?ei=500:"NO_CHANGE"===xo?ei=304:("NO_TEMPLATE"===xo||"EMPTY_CONFIG"===xo)&&(pi={}),304!==ei&&200!==ei)throw ae.create("fetch-status",{httpStatus:ei});return{status:ei,eTag:fa,config:pi}})()}}class bn{constructor(k,X){this.client=k,this.storage=X}fetch(k){var X=this;return(0,x.Z)(function*(){const ue=(yield X.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return X.attemptFetch(k,ue)})()}attemptFetch(k,{throttleEndTimeMillis:X,backoffCount:ue}){var Ge=this;return(0,x.Z)(function*(){yield function(O,k){return new Promise((X,ue)=>{const Ge=Math.max(k-Date.now(),0),ot=setTimeout(X,Ge);O.addEventListener(()=>{clearTimeout(ot),ue(ae.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,X);try{const ot=yield Ge.client.fetch(k);return yield Ge.storage.deleteThrottleMetadata(),ot}catch(ot){if(!function(O){if(!(O instanceof pe.ZR&&O.customData))return!1;const k=Number(O.customData.httpStatus);return 429===k||500===k||503===k||504===k}(ot))throw ot;const Et={throttleEndTimeMillis:Date.now()+(0,pe.$s)(ue),backoffCount:ue+1};return yield Ge.storage.setThrottleMetadata(Et),Ge.attemptFetch(k,Et)}})()}}class bt{constructor(k,X,ue,Ge,ot){this.app=k,this._client=X,this._storageCache=ue,this._storage=Ge,this._logger=ot,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function st(O,k){const X=O.target.error||void 0;return ae.create(k,{originalErrorMessage:X&&X.message})}const cn="app_namespace_store";class Kn{constructor(k,X,ue,Ge=function(){return new Promise((O,k)=>{try{const X=indexedDB.open("firebase_remote_config",1);X.onerror=ue=>{k(st(ue,"storage-open"))},X.onsuccess=ue=>{O(ue.target.result)},X.onupgradeneeded=ue=>{const Ge=ue.target.result;switch(ue.oldVersion){case 0:Ge.createObjectStore(cn,{keyPath:"compositeKey"})}}}catch(X){k(ae.create("storage-open",{originalErrorMessage:X}))}})}()){this.appId=k,this.appName=X,this.namespace=ue,this.openDbPromise=Ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var X=this;return(0,x.Z)(function*(){const ue=yield X.openDbPromise;return new Promise((Ge,ot)=>{const _n=ue.transaction([cn],"readonly").objectStore(cn),jt=X.createCompositeKey(k);try{const Bn=_n.get(jt);Bn.onerror=kn=>{ot(st(kn,"storage-get"))},Bn.onsuccess=kn=>{const $n=kn.target.result;Ge($n?$n.value:void 0)}}catch(Bn){ot(ae.create("storage-get",{originalErrorMessage:Bn&&Bn.message}))}})})()}set(k,X){var ue=this;return(0,x.Z)(function*(){const Ge=yield ue.openDbPromise;return new Promise((ot,Et)=>{const jt=Ge.transaction([cn],"readwrite").objectStore(cn),Bn=ue.createCompositeKey(k);try{const kn=jt.put({compositeKey:Bn,value:X});kn.onerror=$n=>{Et(st($n,"storage-set"))},kn.onsuccess=()=>{ot()}}catch(kn){Et(ae.create("storage-set",{originalErrorMessage:kn&&kn.message}))}})})()}delete(k){var X=this;return(0,x.Z)(function*(){const ue=yield X.openDbPromise;return new Promise((Ge,ot)=>{const _n=ue.transaction([cn],"readwrite").objectStore(cn),jt=X.createCompositeKey(k);try{const Bn=_n.delete(jt);Bn.onerror=kn=>{ot(st(kn,"storage-delete"))},Bn.onsuccess=()=>{Ge()}}catch(Bn){ot(ae.create("storage-delete",{originalErrorMessage:Bn&&Bn.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Zn{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,x.Z)(function*(){const X=k.storage.getLastFetchStatus(),ue=k.storage.getLastSuccessfulFetchTimestampMillis(),Ge=k.storage.getActiveConfig(),ot=yield X;ot&&(k.lastFetchStatus=ot);const Et=yield ue;Et&&(k.lastSuccessfulFetchTimestampMillis=Et);const _n=yield Ge;_n&&(k.activeConfig=_n)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function vr(){return tr.apply(this,arguments)}function tr(){return(tr=(0,x.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch(O){return!1}})).apply(this,arguments)}(0,ie._registerComponent)(new de.wA("remote-config",function(k,{instanceIdentifier:X}){const ue=k.getProvider("app").getImmediate(),Ge=k.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ae.create("registration-window");if(!(0,pe.hl)())throw ae.create("indexed-db-unavailable");const{projectId:ot,apiKey:Et,appId:_n}=ue.options;if(!ot)throw ae.create("registration-project-id");if(!Et)throw ae.create("registration-api-key");if(!_n)throw ae.create("registration-app-id");const jt=new Kn(_n,ue.name,X=X||"firebase"),Bn=new Zn(jt),kn=new Ce.Yd(ne);kn.logLevel=Ce.in.ERROR;const $n=new gt(Ge,ie.SDK_VERSION,X,ot,Et,_n),qi=new bn($n,jt),ei=new Yt(qi,jt,Bn,kn),fa=new bt(ue,ei,Bn,jt,kn);return function(O){const k=(0,pe.m9)(O);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(fa),fa},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(ne,F),(0,ie.registerVersion)(ne,F,"esm2017");var At=M(6676);const Un="/firebase-messaging-sw.js",lr="/firebase-cloud-messaging-push-scope",ct="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Kt="google.c.a.c_id",on="google.c.a.c_l",un="google.c.a.ts",zt="google.c.a.e";var Xe=(()=>{return(O=Xe||(Xe={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",Xe;var O})();function pn(O){const k=new Uint8Array(O);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ni(O){const X=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(X),Ge=new Uint8Array(ue.length);for(let ot=0;ot<ue.length;++ot)Ge[ot]=ue.charCodeAt(ot);return Ge}const cr="fcm_token_details_db",Zt="fcm_token_object_Store";function Fr(O){return z.apply(this,arguments)}function z(){return(z=(0,x.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ot=>ot.name).includes(cr))return null;let k=null;return(yield(0,At.openDb)(cr,5,function(){var ue=(0,x.Z)(function*(Ge){var ot;if(Ge.oldVersion<2||!Ge.objectStoreNames.contains(Zt))return;const Et=Ge.transaction.objectStore(Zt),_n=yield Et.index("fcmSenderId").get(O);if(yield Et.clear(),_n)if(2===Ge.oldVersion){const jt=_n;if(!jt.auth||!jt.p256dh||!jt.endpoint)return;k={token:jt.fcmToken,createTime:null!==(ot=jt.createTime)&&void 0!==ot?ot:Date.now(),subscriptionOptions:{auth:jt.auth,p256dh:jt.p256dh,endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:"string"==typeof jt.vapidKey?jt.vapidKey:pn(jt.vapidKey)}}}else if(3===Ge.oldVersion){const jt=_n;k={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:pn(jt.auth),p256dh:pn(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:pn(jt.vapidKey)}}}else if(4===Ge.oldVersion){const jt=_n;k={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:pn(jt.auth),p256dh:pn(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:pn(jt.vapidKey)}}}});return function(Ge){return ue.apply(this,arguments)}}())).close(),yield(0,At.deleteDb)(cr),yield(0,At.deleteDb)("fcm_vapid_details_db"),yield(0,At.deleteDb)("undefined"),q(k)?k:null})).apply(this,arguments)}function q(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:k}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const se="firebase-messaging-store";let et=null;function Q(){return et||(et=(0,At.openDb)("firebase-messaging-database",1,O=>{switch(O.oldVersion){case 0:O.createObjectStore(se)}})),et}function be(O){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,x.Z)(function*(O){const k=B(O),ue=yield(yield Q()).transaction(se).objectStore(se).get(k);if(ue)return ue;{const Ge=yield Fr(O.appConfig.senderId);if(Ge)return yield qe(O,Ge),Ge}})).apply(this,arguments)}function qe(O,k){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,x.Z)(function*(O,k){const X=B(O),Ge=(yield Q()).transaction(se,"readwrite");return yield Ge.objectStore(se).put(k,X),yield Ge.complete,k})).apply(this,arguments)}function Ke(O){return Z.apply(this,arguments)}function Z(){return(Z=(0,x.Z)(function*(O){const k=B(O),ue=(yield Q()).transaction(se,"readwrite");yield ue.objectStore(se).delete(k),yield ue.complete})).apply(this,arguments)}function B({appConfig:O}){return O.appId}const ge=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ze(O,k){return yt.apply(this,arguments)}function yt(){return(yt=(0,x.Z)(function*(O,k){const X=yield Jt(O),ue=Tn(k),Ge={method:"POST",headers:X,body:JSON.stringify(ue)};let ot;try{ot=yield(yield fetch(Yn(O.appConfig),Ge)).json()}catch(Et){throw ge.create("token-subscribe-failed",{errorInfo:Et})}if(ot.error)throw ge.create("token-subscribe-failed",{errorInfo:ot.error.message});if(!ot.token)throw ge.create("token-subscribe-no-token");return ot.token})).apply(this,arguments)}function Mt(O,k){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,x.Z)(function*(O,k){const X=yield Jt(O),ue=Tn(k.subscriptionOptions),Ge={method:"PATCH",headers:X,body:JSON.stringify(ue)};let ot;try{ot=yield(yield fetch(`${Yn(O.appConfig)}/${k.token}`,Ge)).json()}catch(Et){throw ge.create("token-update-failed",{errorInfo:Et})}if(ot.error)throw ge.create("token-update-failed",{errorInfo:ot.error.message});if(!ot.token)throw ge.create("token-update-no-token");return ot.token})).apply(this,arguments)}function On(O,k){return wn.apply(this,arguments)}function wn(){return(wn=(0,x.Z)(function*(O,k){const ue={method:"DELETE",headers:yield Jt(O)};try{const ot=yield(yield fetch(`${Yn(O.appConfig)}/${k}`,ue)).json();if(ot.error)throw ge.create("token-unsubscribe-failed",{errorInfo:ot.error.message})}catch(Ge){throw ge.create("token-unsubscribe-failed",{errorInfo:Ge})}})).apply(this,arguments)}function Yn({projectId:O}){return`https://fcmregistrations.googleapis.com/v1/projects/${O}/registrations`}function Jt(O){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,x.Z)(function*({appConfig:O,installations:k}){const X=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${X}`})})).apply(this,arguments)}function Tn({p256dh:O,auth:k,endpoint:X,vapidKey:ue}){const Ge={web:{endpoint:X,auth:k,p256dh:O}};return ue!==ct&&(Ge.web.applicationPubKey=ue),Ge}const hi=6048e5;function Wi(O){return dr.apply(this,arguments)}function dr(){return(dr=(0,x.Z)(function*(O){const k=yield yn(O.swRegistration,O.vapidKey),X={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:k.endpoint,auth:pn(k.getKey("auth")),p256dh:pn(k.getKey("p256dh"))},ue=yield be(O.firebaseDependencies);if(ue){if(Cn(ue.subscriptionOptions,X))return Date.now()>=ue.createTime+hi?j(O,{token:ue.token,createTime:Date.now(),subscriptionOptions:X}):ue.token;try{yield On(O.firebaseDependencies,ue.token)}catch(Ge){console.warn(Ge)}return Pe(O.firebaseDependencies,X)}return Pe(O.firebaseDependencies,X)})).apply(this,arguments)}function nr(O){return Er.apply(this,arguments)}function Er(){return(Er=(0,x.Z)(function*(O){const k=yield be(O.firebaseDependencies);k&&(yield On(O.firebaseDependencies,k.token),yield Ke(O.firebaseDependencies));const X=yield O.swRegistration.pushManager.getSubscription();return!X||X.unsubscribe()})).apply(this,arguments)}function j(O,k){return oe.apply(this,arguments)}function oe(){return(oe=(0,x.Z)(function*(O,k){try{const X=yield Mt(O.firebaseDependencies,k),ue=Object.assign(Object.assign({},k),{token:X,createTime:Date.now()});return yield qe(O.firebaseDependencies,ue),X}catch(X){throw yield nr(O),X}})).apply(this,arguments)}function Pe(O,k){return it.apply(this,arguments)}function it(){return(it=(0,x.Z)(function*(O,k){const ue={token:yield Ze(O,k),createTime:Date.now(),subscriptionOptions:k};return yield qe(O,ue),ue.token})).apply(this,arguments)}function yn(O,k){return vt.apply(this,arguments)}function vt(){return(vt=(0,x.Z)(function*(O,k){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ni(k)})})).apply(this,arguments)}function Cn(O,k){return k.vapidKey===O.vapidKey&&k.endpoint===O.endpoint&&k.auth===O.auth&&k.p256dh===O.p256dh}function Ht(O){const k={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function(O,k){if(!k.notification)return;O.notification={};const X=k.notification.title;X&&(O.notification.title=X);const ue=k.notification.body;ue&&(O.notification.body=ue);const Ge=k.notification.image;Ge&&(O.notification.image=Ge)}(k,O),function(O,k){!k.data||(O.data=k.data)}(k,O),function(O,k){if(!k.fcmOptions)return;O.fcmOptions={};const X=k.fcmOptions.link;X&&(O.fcmOptions.link=X);const ue=k.fcmOptions.analytics_label;ue&&(O.fcmOptions.analyticsLabel=ue)}(k,O),k}function Ro(O){return"object"==typeof O&&!!O&&Kt in O}function io(O,k){const X=[];for(let ue=0;ue<O.length;ue++)X.push(O.charAt(ue)),ue<k.length&&X.push(k.charAt(ue));return X.join("")}function fi(O){return ge.create("missing-app-config-values",{valueName:O})}io("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),io("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class br{constructor(k,X,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ge=function(O){if(!O||!O.options)throw fi("App Configuration Object");if(!O.name)throw fi("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:X}=O;for(const ue of k)if(!X[ue])throw fi(ue);return{appName:O.name,projectId:X.projectId,apiKey:X.apiKey,appId:X.appId,senderId:X.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:Ge,installations:X,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function No(O){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,x.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(Un,{scope:lr}),O.swRegistration.update().catch(()=>{})}catch(k){throw ge.create("failed-service-worker-registration",{browserErrorMessage:k.message})}})).apply(this,arguments)}function xi(O,k){return dn.apply(this,arguments)}function dn(){return(dn=(0,x.Z)(function*(O,k){if(!k&&!O.swRegistration&&(yield No(O)),k||!O.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw ge.create("invalid-sw-registration");O.swRegistration=k}})).apply(this,arguments)}function al(O,k){return so.apply(this,arguments)}function so(){return(so=(0,x.Z)(function*(O,k){k?O.vapidKey=k:O.vapidKey||(O.vapidKey=ct)})).apply(this,arguments)}function oo(){return(oo=(0,x.Z)(function*(O,k){if(!navigator)throw ge.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ge.create("permission-blocked");return yield al(O,null==k?void 0:k.vapidKey),yield xi(O,null==k?void 0:k.serviceWorkerRegistration),Wi(O)})).apply(this,arguments)}function qa(O,k,X){return fs.apply(this,arguments)}function fs(){return(fs=(0,x.Z)(function*(O,k,X){const ue=ao(k);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:X[Kt],message_name:X[on],message_time:X[un],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ao(O){switch(O){case Xe.NOTIFICATION_CLICKED:return"notification_open";case Xe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function uo(){return(uo=(0,x.Z)(function*(O,k){const X=k.data;if(!X.isFirebaseMessaging)return;O.onMessageHandler&&X.messageType===Xe.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(Ht(X)):O.onMessageHandler.next(Ht(X)));const ue=X.data;Ro(ue)&&"1"===ue[zt]&&(yield qa(O,X.messageType,ue))})).apply(this,arguments)}const fr="@firebase/messaging";function Gr(){return ll.apply(this,arguments)}function ll(){return(ll=(0,x.Z)(function*(){return"undefined"!=typeof window&&(0,pe.hl)()&&(yield(0,pe.eu)())&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ie._registerComponent)(new de.wA("messaging",O=>{const k=new br(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",X=>function(O,k){return uo.apply(this,arguments)}(k,X)),k},"PUBLIC")),(0,ie._registerComponent)(new de.wA("messaging-internal",O=>{const k=O.getProvider("messaging").getImmediate();return{getToken:ue=>function(O,k){return oo.apply(this,arguments)}(k,ue)}},"PRIVATE")),(0,ie.registerVersion)(fr,"0.9.6"),(0,ie.registerVersion)(fr,"0.9.6","esm2017");var lg=M(9079),Ya=M(7771),v_=M(3637),Qa=M(7574),xs=M(3342),Mo=M(3101),la=M(309);const Vc=new f.GfV("7.2.0"),hl="__angularfire_symbol__analyticsIsSupportedValue",Ja="__angularfire_symbol__analyticsIsSupported",Os="__angularfire_symbol__remoteConfigIsSupported",ca="__angularfire_symbol__messagingIsSupported";globalThis[Ja]||(globalThis[Ja]=(0,lg.Gb)().then(O=>globalThis[hl]=O)),globalThis[ca]||(globalThis[ca]=Gr().then(O=>globalThis.__angularfire_symbol__messagingIsSupportedValue=O)),globalThis[Os]||(globalThis[Os]=vr().then(O=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=O));const Vr={async:()=>globalThis[Ja],sync:()=>{const O=globalThis[hl];if(void 0===O)throw new Error((O=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${O} in the constructor, first ensure that ${O} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${O})\`.`)("Analytics"));return O}};function Nh(O,k,X){if(k){if(1===k.length)return k[0];const ot=k.filter(Et=>Et.app===X);if(1===ot.length)return ot[0]}return X.container.getProvider(O).getImmediate({optional:!0})}const cg=(O,k)=>{const X=k?[k]:(0,V.C6)(),ue=[];return X.forEach(Ge=>{Ge.container.getProvider(O).instances.forEach(Et=>{ue.includes(Et)||ue.push(Et)})}),ue};function Ps(){}class lo{constructor(k,X=Ya.N){this.zone=k,this.delegate=X}now(){return this.delegate.now()}schedule(k,X,ue){const Ge=this.zone;return this.delegate.schedule(function(Et){Ge.runGuarded(()=>{k.apply(this,[Et])})},X,ue)}}class Bc{constructor(k){this.zone=k,this.task=null}call(k,X){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ps,{},Ps,Ps)),X.pipe((0,xs.b)({next:ue,complete:ue,error:ue})).subscribe(k).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let da=(()=>{class O{constructor(X){this.ngZone=X,this.outsideAngular=X.runOutsideAngular(()=>new lo(Zone.current)),this.insideAngular=X.run(()=>new lo(Zone.current,v_.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(X){return new(X||O)(f.LFG(f.R0b))},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function co(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function Xr(O){return co().ngZone.runOutsideAngular(()=>O())}function zi(O){return co().ngZone.run(()=>O())}function ks(O){return co(),function(O){return function(X){return(X=X.lift(new Bc(O.ngZone))).pipe((0,Mo.R)(O.outsideAngular),(0,la.QV)(O.insideAngular))}}(co())(O)}const ha=(O,k)=>{const X=void 0;return function(){return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),zi(()=>O.apply(X,arguments))}},jn=(O,k)=>function(){let X;for(let Ge=0;Ge<arguments.length;Ge++)"function"==typeof arguments[Ge]&&(k&&(X||(X=zi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ps,{},Ps,Ps)))),arguments[Ge]=ha(arguments[Ge],X));const ue=Xr(()=>O.apply(this,arguments));if(!k){if(ue instanceof Qa.y){const Ge=co();return ue.pipe((0,Mo.R)(Ge.outsideAngular),(0,la.QV)(Ge.insideAngular))}return zi(()=>ue)}return ue instanceof Qa.y?ue.pipe(ks):ue instanceof Promise?zi(()=>new Promise((Ge,ot)=>ue.then(Et=>zi(()=>Ge(Et)),Et=>zi(()=>ot(Et))))):"function"==typeof ue&&X?function(){return setTimeout(()=>{X&&"scheduled"===X.state&&X.invoke()},10),ue.apply(this,arguments)}:zi(()=>ue)}},7379:(ut,Me,M)=>{"use strict";M.d(Me,{$:()=>fa,A:()=>L,E:()=>j,G:()=>vt,I:()=>Jr,K:()=>Qe,L:()=>Qa,M:()=>Vc,N:()=>hl,P:()=>Sg,Q:()=>Ja,R:()=>O_,T:()=>la,U:()=>ca,V:()=>ps,W:()=>cg,X:()=>k,Y:()=>ue,Z:()=>ot,_:()=>Bn,a:()=>cu,a0:()=>xo,a1:()=>wt,a2:()=>tu,a3:()=>Mh,a4:()=>yl,a5:()=>Ue,a6:()=>rn,a7:()=>pr,a8:()=>dg,a9:()=>ru,aA:()=>Ca,aB:()=>Eu,aC:()=>nr,aG:()=>Ki,aJ:()=>Os,aa:()=>Jw,ab:()=>iu,ae:()=>su,af:()=>E_,ag:()=>hg,aj:()=>co,ak:()=>pg,am:()=>I_,an:()=>Wc,ao:()=>Yn,ap:()=>le,aq:()=>wn,ar:()=>Mt,as:()=>fe,at:()=>nd,au:()=>xl,av:()=>ke,aw:()=>ye,ax:()=>he,ay:()=>Ke,az:()=>tf,b:()=>S_,c:()=>n0,d:()=>Us,e:()=>ys,f:()=>Qc,g:()=>Jh,h:()=>Qh,i:()=>Zi,j:()=>bu,k:()=>Fg,l:()=>Dg,m:()=>Vl,o:()=>me,r:()=>Ag,s:()=>Tg,u:()=>P_,z:()=>ae});var f=M(8239),V=M(3854),x=M(8026),ie=M(4762),pe=M(5422),de=M(3910);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},L={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ae=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Oe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new pe.Yd("@firebase/auth");function Se(E,...g){Te.logLevel<=pe.in.ERROR&&Te.error(`Auth (${x.SDK_VERSION}): ${E}`,...g)}function fe(E,...g){throw Nt(E,...g)}function ke(E,...g){return Nt(E,...g)}function nt(E,g,y){const w=Object.assign(Object.assign({},Oe()),{[g]:y});return new V.LL("auth","Firebase",w).create(g,{appName:E.name})}function ze(E,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&fe(E,"argument-error"),nt(E,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nt(E,...g){if("string"!=typeof E){const y=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=E.name),E._errorFactory.create(y,...w)}return _e.create(E,...g)}function ye(E,g,...y){if(!E)throw Nt(g,...y)}function Gt(E){const g="INTERNAL ASSERTION FAILED: "+E;throw Se(g),new Error(g)}function le(E,g){E||Gt(g)}const we=new Map;function he(E){le(E instanceof Function,"Expected a class definition");let g=we.get(E);return g?(le(g instanceof E,"Instance stored in cache mismatched with class"),g):(g=new E,we.set(E,g),g)}function ve(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function at(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Ot{constructor(g,y){this.shortDelay=g,this.longDelay=y,le(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(at()||(0,V.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Mn(E,g){le(E.emulator,"Emulator should always be set here");const{url:y}=E.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class bn{static initialize(g,y,w){this.fetchImpl=g,y&&(this.headersImpl=y),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zn=new Ot(3e4,6e4);function bt(E,g){return E.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:E.tenantId}):g}function st(E,g,y,w){return cn.apply(this,arguments)}function cn(){return(cn=(0,f.Z)(function*(E,g,y,w,A={}){return qn(E,A,(0,f.Z)(function*(){let P={},ce={};w&&("GET"===g?ce=w:P={body:JSON.stringify(w)});const Be=(0,V.xO)(Object.assign({key:E.config.apiKey},ce)).slice(1),lt=yield E._getAdditionalHeaders();return lt["Content-Type"]="application/json",E.languageCode&&(lt["X-Firebase-Locale"]=E.languageCode),bn.fetch()(Zn(E,E.config.apiHost,y,Be),Object.assign({method:g,headers:lt,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function qn(E,g,y){return _r.apply(this,arguments)}function _r(){return(_r=(0,f.Z)(function*(E,g,y){E._canInitEmulator=!1;const w=Object.assign(Object.assign({},Rr),g);try{const A=new xn(E),P=yield Promise.race([y(),A.promise]);A.clearNetworkTimeout();const ce=yield P.json();if("needConfirmation"in ce)throw Vn(E,"account-exists-with-different-credential",ce);if(P.ok&&!("errorMessage"in ce))return ce;{const Be=P.ok?ce.errorMessage:ce.error.message,[lt,It]=Be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===lt)throw Vn(E,"credential-already-in-use",ce);if("EMAIL_EXISTS"===lt)throw Vn(E,"email-already-in-use",ce);const Xt=w[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw nt(E,Xt,It);fe(E,Xt)}}catch(A){if(A instanceof V.ZR)throw A;fe(E,"network-request-failed")}})).apply(this,arguments)}function Qt(E,g,y,w){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,f.Z)(function*(E,g,y,w,A={}){const P=yield st(E,g,y,w,A);return"mfaPendingCredential"in P&&fe(E,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Zn(E,g,y,w){const A=`${g}${y}?${w}`;return E.config.emulator?Mn(E.config,A):`${E.config.apiScheme}://${A}`}class xn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,w)=>{this.timer=setTimeout(()=>w(ke(this.auth,"timeout")),zn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(E,g,y){const w={appName:E.name};y.email&&(w.email=y.email),y.phoneNumber&&(w.phoneNumber=y.phoneNumber);const A=ke(E,g,w);return A.customData._tokenResponse=y,A}function vr(){return(vr=(0,f.Z)(function*(E,g){return st(E,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function tr(E,g){return At.apply(this,arguments)}function At(){return(At=(0,f.Z)(function*(E,g){return st(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Un(E,g){return lr.apply(this,arguments)}function lr(){return(lr=(0,f.Z)(function*(E,g){return st(E,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ct(E){if(E)try{const g=new Date(Number(E));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function on(){return(on=(0,f.Z)(function*(E,g=!1){const y=(0,V.m9)(E),w=yield y.getIdToken(g),A=zt(w);ye(A&&A.exp&&A.auth_time&&A.iat,y.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,ce=null==P?void 0:P.sign_in_provider;return{claims:A,token:w,authTime:ct(un(A.auth_time)),issuedAtTime:ct(un(A.iat)),expirationTime:ct(un(A.exp)),signInProvider:ce||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function un(E){return 1e3*Number(E)}function zt(E){const[g,y,w]=E.split(".");if(void 0===g||void 0===y||void 0===w)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,V.tV)(y);return A?JSON.parse(A):(Se("Failed to decode base64 JWT payload"),null)}catch(A){return Se("Caught error parsing JWT payload as JSON",A),null}}function Xe(E,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,f.Z)(function*(E,g,y=!1){if(y)return g;try{return yield g}catch(w){throw w instanceof V.ZR&&Ni(w)&&E.auth.currentUser===E&&(yield E.auth.signOut()),w}})).apply(this,arguments)}function Ni({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class cr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,f.Z)(function*(){yield y.iteration()}),w)}iteration(){var g=this;return(0,f.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class nn{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=ct(this.lastLoginAt),this.creationTime=ct(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zt(E){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,f.Z)(function*(E){var g;const y=E.auth,w=yield E.getIdToken(),A=yield Xe(E,Un(y,{idToken:w}));ye(null==A?void 0:A.users.length,y,"internal-error");const P=A.users[0];E._notifyReloadListener(P);const ce=(null===(g=P.providerUserInfo)||void 0===g?void 0:g.length)?Re(P.providerUserInfo):[],Be=G(E.providerData,ce),Xt=!!E.isAnonymous&&!(E.email&&P.passwordHash||(null==Be?void 0:Be.length)),Wn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Be,metadata:new nn(P.createdAt,P.lastLoginAt),isAnonymous:Xt};Object.assign(E,Wn)})).apply(this,arguments)}function q(){return(q=(0,f.Z)(function*(E){const g=(0,V.m9)(E);yield Zt(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function G(E,g){return[...E.filter(w=>!g.some(A=>A.providerId===w.providerId)),...g]}function Re(E){return E.map(g=>{var{providerId:y}=g,w=(0,ie._T)(g,["providerId"]);return{providerId:y,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function et(){return(et=(0,f.Z)(function*(E,g){const y=yield qn(E,{},(0,f.Z)(function*(){const w=(0,V.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:P}=E.config,ce=Zn(E,A,"/v1/token",`key=${P}`),Be=yield E._getAdditionalHeaders();return Be["Content-Type"]="application/x-www-form-urlencoded",bn.fetch()(ce,{method:"POST",headers:Be,body:w})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ye(g.idToken,"internal-error"),ye(void 0!==g.idToken,"internal-error"),ye(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(E){const g=zt(E);return ye(g,"internal-error"),ye(void 0!==g.exp,"internal-error"),ye(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var w=this;return(0,f.Z)(function*(){return ye(!w.accessToken||w.refreshToken,g,"user-token-expired"),y||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var w=this;return(0,f.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:ce}=yield function(E,g){return et.apply(this,arguments)}(g,y);w.updateTokensAndExpiration(A,P,Number(ce))})()}updateTokensAndExpiration(g,y,w){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,y){const{refreshToken:w,accessToken:A,expirationTime:P}=y,ce=new Q;return w&&(ye("string"==typeof w,"internal-error",{appName:g}),ce.refreshToken=w),A&&(ye("string"==typeof A,"internal-error",{appName:g}),ce.accessToken=A),P&&(ye("number"==typeof P,"internal-error",{appName:g}),ce.expirationTime=P),ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return Gt("not implemented")}}function be(E,g){ye("string"==typeof E||void 0===E,"internal-error",{appName:g})}class Fe{constructor(g){var{uid:y,auth:w,stsTokenManager:A}=g,P=(0,ie._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.metadata=new nn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,f.Z)(function*(){const w=yield Xe(y,y.stsTokenManager.getToken(y.auth,g));return ye(w,y.auth,"internal-error"),y.accessToken!==w&&(y.accessToken=w,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),w})()}getIdTokenResult(g){return function(E){return on.apply(this,arguments)}(this,g)}reload(){return function(E){return q.apply(this,arguments)}(this)}_assign(g){this!==g&&(ye(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Fe(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var w=this;return(0,f.Z)(function*(){let A=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),A=!0),y&&(yield Zt(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,f.Z)(function*(){const y=yield g.getIdToken();return yield Xe(g,function(E,g){return vr.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var w,A,P,ce,Be,lt,It,Xt;const Wn=null!==(w=y.displayName)&&void 0!==w?w:void 0,Qi=null!==(A=y.email)&&void 0!==A?A:void 0,jo=null!==(P=y.phoneNumber)&&void 0!==P?P:void 0,af=null!==(ce=y.photoURL)&&void 0!==ce?ce:void 0,sd=null!==(Be=y.tenantId)&&void 0!==Be?Be:void 0,uf=null!==(lt=y._redirectEventId)&&void 0!==lt?lt:void 0,jg=null!==(It=y.createdAt)&&void 0!==It?It:void 0,lf=null!==(Xt=y.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:Da,emailVerified:od,isAnonymous:_s,providerData:Bo,stsTokenManager:cf}=y;ye(Da&&cf,g,"internal-error");const Bg=Q.fromJSON(this.name,cf);ye("string"==typeof Da,g,"internal-error"),be(Wn,g.name),be(Qi,g.name),ye("boolean"==typeof od,g,"internal-error"),ye("boolean"==typeof _s,g,"internal-error"),be(jo,g.name),be(af,g.name),be(sd,g.name),be(uf,g.name),be(jg,g.name),be(lf,g.name);const Du=new Fe({uid:Da,auth:g,email:Qi,emailVerified:od,displayName:Wn,isAnonymous:_s,photoURL:af,phoneNumber:jo,tenantId:sd,stsTokenManager:Bg,createdAt:jg,lastLoginAt:lf});return Bo&&Array.isArray(Bo)&&(Du.providerData=Bo.map(j_=>Object.assign({},j_))),uf&&(Du._redirectEventId=uf),Du}static _fromIdTokenResponse(g,y,w=!1){return(0,f.Z)(function*(){const A=new Q;A.updateFromServerResponse(y);const P=new Fe({uid:y.localId,auth:g,stsTokenManager:A,isAnonymous:w});return yield Zt(P),P})()}}const Qe=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(y,w){var A=this;return(0,f.Z)(function*(){A.storage[y]=w})()}_get(y){var w=this;return(0,f.Z)(function*(){const A=w.storage[y];return void 0===A?null:A})()}_remove(y){var w=this;return(0,f.Z)(function*(){delete w.storage[y]})()}_addListener(y,w){}_removeListener(y,w){}}return E.type="NONE",E})();function Ke(E,g,y){return`firebase:${E}:${g}:${y}`}class Z{constructor(g,y,w){this.persistence=g,this.auth=y,this.userKey=w;const{config:A,name:P}=this.auth;this.fullUserKey=Ke(this.userKey,A.apiKey,P),this.fullPersistenceKey=Ke("persistence",A.apiKey,P),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,f.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Fe._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,f.Z)(function*(){if(y.persistence===g)return;const w=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,w?y.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,w="authUser"){return(0,f.Z)(function*(){if(!y.length)return new Z(he(Qe),g,w);const A=(yield Promise.all(y.map(function(){var It=(0,f.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return It.apply(this,arguments)}}()))).filter(It=>It);let P=A[0]||he(Qe);const ce=Ke(w,g.config.apiKey,g.name);let Be=null;for(const It of y)try{const Xt=yield It._get(ce);if(Xt){const Wn=Fe._fromJSON(g,Xt);It!==P&&(Be=Wn),P=It;break}}catch(Xt){}const lt=A.filter(It=>It._shouldAllowMigration);return P._shouldAllowMigration&&lt.length?(P=lt[0],Be&&(yield P._set(ce,Be.toJSON())),yield Promise.all(y.map(function(){var It=(0,f.Z)(function*(Xt){if(Xt!==P)try{yield Xt._remove(ce)}catch(Wn){}});return function(Xt){return It.apply(this,arguments)}}())),new Z(P,g,w)):new Z(P,g,w)})()}}function B(E){const g=E.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(yt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(H(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ft(g))return"Blackberry";if(On(g))return"Webos";if(ge(g))return"Safari";if((g.includes("chrome/")||Ze(g))&&!g.includes("edge/"))return"Chrome";if(Mt(g))return"Android";{const w=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function H(E=(0,V.z$)()){return/firefox\//i.test(E)}function ge(E=(0,V.z$)()){const g=E.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ze(E=(0,V.z$)()){return/crios\//i.test(E)}function yt(E=(0,V.z$)()){return/iemobile/i.test(E)}function Mt(E=(0,V.z$)()){return/android/i.test(E)}function Ft(E=(0,V.z$)()){return/blackberry/i.test(E)}function On(E=(0,V.z$)()){return/webos/i.test(E)}function wn(E=(0,V.z$)()){return/iphone|ipad|ipod/i.test(E)}function Yn(E=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Tn(E=(0,V.z$)()){return wn(E)||Mt(E)||On(E)||Ft(E)||/windows phone/i.test(E)||yt(E)}function Wi(E,g=[]){let y;switch(E){case"Browser":y=B((0,V.z$)());break;case"Worker":y=`${B((0,V.z$)())}-${E}`;break;default:y=E}const w=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${x.SDK_VERSION}/${w}`}class dr{constructor(g,y){this.app=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Er(this),this.idTokenSubscription=new Er(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(g,y){var w=this;return y&&(this._popupRedirectResolver=he(y)),this._initializationPromise=this.queue((0,f.Z)(function*(){var A,P;if(!w._deleted&&(w.persistenceManager=yield Z.create(w,g),!w._deleted)){if(null===(A=w._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(ce){}yield w.initializeCurrentUser(y),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,f.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y)}})()}initializeCurrentUser(g){var y=this;return(0,f.Z)(function*(){var w;let A=yield y.assertedPersistence.getCurrentUser();if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const P=null===(w=y.redirectUser)||void 0===w?void 0:w._redirectEventId,ce=null==A?void 0:A._redirectEventId,Be=yield y.tryRedirectSignIn(g);(!P||P===ce)&&(null==Be?void 0:Be.user)&&(A=Be.user)}return A?A._redirectEventId?(ye(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===A._redirectEventId?y.directlySetCurrentUser(A):y.reloadAndSetCurrentUserOrClear(A)):y.reloadAndSetCurrentUserOrClear(A):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var y=this;return(0,f.Z)(function*(){let w=null;try{w=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(A){yield y._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,f.Z)(function*(){try{yield Zt(g)}catch(w){if("auth/network-request-failed"!==w.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var g=this;return(0,f.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,f.Z)(function*(){const w=g?(0,V.m9)(g):null;return w&&ye(w.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(w&&w._clone(y))})()}_updateCurrentUser(g){var y=this;return(0,f.Z)(function*(){if(!y._deleted)return g&&ye(y.tenantId===g.tenantId,y,"tenant-id-mismatch"),y.queue((0,f.Z)(function*(){yield y.directlySetCurrentUser(g),y.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,f.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var y=this;return this.queue((0,f.Z)(function*(){yield y.assertedPersistence.setPersistence(he(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new V.LL("auth","Firebase",g())}onAuthStateChanged(g,y,w){return this.registerStateListener(this.authStateSubscription,g,y,w)}onIdTokenChanged(g,y,w){return this.registerStateListener(this.idTokenSubscription,g,y,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var w=this;return(0,f.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(y);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,f.Z)(function*(){if(!y.redirectPersistenceManager){const w=g&&he(g)||y._popupRedirectResolver;ye(w,y,"argument-error"),y.redirectPersistenceManager=yield Z.create(y,[he(w._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,f.Z)(function*(){var w,A;return y._isInitialized&&(yield y.queue((0,f.Z)(function*(){}))),(null===(w=y._currentUser)||void 0===w?void 0:w._redirectEventId)===g?y._currentUser:(null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,f.Z)(function*(){if(g===y.currentUser)return y.queue((0,f.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,w,A){if(this._deleted)return()=>{};const P="function"==typeof y?y:y.next.bind(y),ce=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(ce,this,"internal-error"),ce.then(()=>P(this.currentUser)),"function"==typeof y?g.addObserver(y,w,A):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,f.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,f.Z)(function*(){const y={"X-Client-Version":g.clientVersion};return g.app.options.appId&&(y["X-Firebase-gmpid"]=g.app.options.appId),y})()}}function nr(E){return(0,V.m9)(E)}class Er{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,V.ne)(y=>this.observer=y)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function j(E,g,y){const w=nr(E);ye(w._canInitEmulator,w,"emulator-config-failed"),ye(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const A=!!(null==y?void 0:y.disableWarnings),P=oe(g),{host:ce,port:Be}=function(E){const g=oe(E),y=/(\/\/)?([^?#/]+)/.exec(E.substr(g.length));if(!y)return{host:"",port:null};const w=y[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const P=A[1];return{host:P,port:it(w.substr(P.length+1))}}{const[P,ce]=w.split(":");return{host:P,port:it(ce)}}}(g);w.config.emulator={url:`${P}//${ce}${null===Be?"":`:${Be}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:ce,port:Be,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function E(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function oe(E){const g=E.indexOf(":");return g<0?"":E.substr(0,g+1)}function it(E){if(!E)return null;const g=Number(E);return isNaN(g)?null:g}class vt{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return Gt("not implemented")}_getIdTokenResponse(g){return Gt("not implemented")}_linkToIdToken(g,y){return Gt("not implemented")}_getReauthenticationResolver(g){return Gt("not implemented")}}function Cn(E,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,f.Z)(function*(E,g){return st(E,"POST","/v1/accounts:resetPassword",bt(E,g))})).apply(this,arguments)}function Mi(E,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,f.Z)(function*(E,g){return st(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ut(E,g){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,f.Z)(function*(E,g){return st(E,"POST","/v1/accounts:update",bt(E,g))})).apply(this,arguments)}function oa(){return(oa=(0,f.Z)(function*(E,g){return Qt(E,"POST","/v1/accounts:signInWithPassword",bt(E,g))})).apply(this,arguments)}function fi(E,g){return br.apply(this,arguments)}function br(){return(br=(0,f.Z)(function*(E,g){return st(E,"POST","/v1/accounts:sendOobCode",bt(E,g))})).apply(this,arguments)}function No(E,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,f.Z)(function*(E,g){return fi(E,g)})).apply(this,arguments)}function xi(E,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,f.Z)(function*(E,g){return fi(E,g)})).apply(this,arguments)}function al(E,g){return so.apply(this,arguments)}function so(){return(so=(0,f.Z)(function*(E,g){return fi(E,g)})).apply(this,arguments)}function aa(E,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,f.Z)(function*(E,g){return fi(E,g)})).apply(this,arguments)}function fs(){return(fs=(0,f.Z)(function*(E,g){return Qt(E,"POST","/v1/accounts:signInWithEmailLink",bt(E,g))})).apply(this,arguments)}function hr(){return(hr=(0,f.Z)(function*(E,g){return Qt(E,"POST","/v1/accounts:signInWithEmailLink",bt(E,g))})).apply(this,arguments)}class uo extends vt{constructor(g,y,w,A=null){super("password",w),this._email=g,this._password=y,this._tenantId=A}static _fromEmailAndPassword(g,y){return new uo(g,y,"password")}static _fromEmailAndCode(g,y,w=null){return new uo(g,y,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,f.Z)(function*(){switch(y.signInMethod){case"password":return function(E,g){return oa.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function(E,g){return fs.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:fe(g,"internal-error")}})()}_linkToIdToken(g,y){var w=this;return(0,f.Z)(function*(){switch(w.signInMethod){case"password":return Mi(g,{idToken:y,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(E,g){return hr.apply(this,arguments)}(g,{idToken:y,email:w._email,oobCode:w._password});default:fe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function fr(E,g){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(E,g){return Qt(E,"POST","/v1/accounts:signInWithIdp",bt(E,g))})).apply(this,arguments)}class Jr extends vt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Jr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):fe("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:A}=y,P=(0,ie._T)(y,["providerId","signInMethod"]);if(!w||!A)return null;const ce=new Jr(w,A);return ce.idToken=P.idToken||void 0,ce.accessToken=P.accessToken||void 0,ce.secret=P.secret,ce.nonce=P.nonce,ce.pendingToken=P.pendingToken||null,ce}_getIdTokenResponse(g){return fr(g,this.buildRequest())}_linkToIdToken(g,y){const w=this.buildRequest();return w.idToken=y,fr(g,w)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,fr(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,V.xO)(y)}return g}}function Ka(E,g){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,f.Z)(function*(E,g){return st(E,"POST","/v1/accounts:sendVerificationCode",bt(E,g))})).apply(this,arguments)}function Lc(){return(Lc=(0,f.Z)(function*(E,g){return Qt(E,"POST","/v1/accounts:signInWithPhoneNumber",bt(E,g))})).apply(this,arguments)}function dl(){return(dl=(0,f.Z)(function*(E,g){const y=yield Qt(E,"POST","/v1/accounts:signInWithPhoneNumber",bt(E,g));if(y.temporaryProof)throw Vn(E,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const m_={USER_NOT_FOUND:"user-not-found"};function Za(){return(Za=(0,f.Z)(function*(E,g){return Qt(E,"POST","/v1/accounts:signInWithPhoneNumber",bt(E,Object.assign(Object.assign({},g),{operation:"REAUTH"})),m_)})).apply(this,arguments)}class ua extends vt{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new ua({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new ua({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function(E,g){return Lc.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function(E,g){return dl.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(E,g){return Za.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:w,verificationCode:A}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:w,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:w,phoneNumber:A,temporaryProof:P}=g;return w||y||A||P?new ua({verificationId:y,verificationCode:w,phoneNumber:A,temporaryProof:P}):null}}class Ya{constructor(g){var y,w,A,P,ce,Be;const lt=(0,V.zd)((0,V.pd)(g)),It=null!==(y=lt.apiKey)&&void 0!==y?y:null,Xt=null!==(w=lt.oobCode)&&void 0!==w?w:null,Wn=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=lt.mode)&&void 0!==A?A:null);ye(It&&Xt&&Wn,"argument-error"),this.apiKey=It,this.operation=Wn,this.code=Xt,this.continueUrl=null!==(P=lt.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(ce=lt.languageCode)&&void 0!==ce?ce:null,this.tenantId=null!==(Be=lt.tenantId)&&void 0!==Be?Be:null}static parseLink(g){const y=function(E){const g=(0,V.zd)((0,V.pd)(E)).link,y=g?(0,V.zd)((0,V.pd)(g)).deep_link_id:null,w=(0,V.zd)((0,V.pd)(E)).deep_link_id;return(w?(0,V.zd)((0,V.pd)(w)).link:null)||w||y||g||E}(g);try{return new Ya(y)}catch(w){return null}}}let Qa=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(y,w){return uo._fromEmailAndPassword(y,w)}static credentialWithLink(y,w){const A=Ya.parseLink(w);return ye(A,"argument-error"),uo._fromEmailAndCode(y,A.code,A.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class xs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Mo extends xs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class la extends Mo{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return ye("providerId"in y&&"signInMethod"in y,"argument-error"),Jr._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ye(g.idToken||g.accessToken,"argument-error"),Jr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return la.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return la.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:P,nonce:ce,providerId:Be}=g;if(!w&&!A&&!y&&!P||!Be)return null;try{return new la(Be)._credential({idToken:y,accessToken:w,nonce:ce,pendingToken:P})}catch(lt){return null}}}let Vc=(()=>{class E extends Mo{constructor(){super("facebook.com")}static credential(y){return Jr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch(w){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),hl=(()=>{class E extends Mo{constructor(){super("google.com"),this.addScope("profile")}static credential(y,w){return Jr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:w})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:w,oauthAccessToken:A}=y;if(!w&&!A)return null;try{return E.credential(w,A)}catch(P){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Ja=(()=>{class E extends Mo{constructor(){super("github.com")}static credential(y){return Jr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch(w){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Os extends vt{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return fr(g,this.buildRequest())}_linkToIdToken(g,y){const w=this.buildRequest();return w.idToken=y,fr(g,w)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,fr(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:A,pendingToken:P}=y;return w&&A&&P&&w===A?new Os(w,P):null}static _create(g,y){return new Os(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ca extends xs{constructor(g){ye(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ca.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ca.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Os.fromJSON(g);return ye(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:w}=g;if(!y||!w)return null;try{return Os._create(w,y)}catch(A){return null}}}let ps=(()=>{class E extends Mo{constructor(){super("twitter.com")}static credential(y,w){return Jr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:w})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=y;if(!w||!A)return null;try{return E.credential(w,A)}catch(P){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function jc(E,g){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,f.Z)(function*(E,g){return Qt(E,"POST","/v1/accounts:signUp",bt(E,g))})).apply(this,arguments)}class Vr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,w,A=!1){return(0,f.Z)(function*(){const P=yield Fe._fromIdTokenResponse(g,w,A),ce=Nh(w);return new Vr({user:P,providerId:ce,_tokenResponse:w,operationType:y})})()}static _forOperation(g,y,w){return(0,f.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const A=Nh(w);return new Vr({user:g,providerId:A,_tokenResponse:w,operationType:y})})()}}function Nh(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function cg(E){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,f.Z)(function*(E){var g;const y=nr(E);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new Vr({user:y.currentUser,providerId:null,operationType:"signIn"});const w=yield jc(y,{returnSecureToken:!0}),A=yield Vr._fromIdTokenResponse(y,"signIn",w,!0);return yield y._updateCurrentUser(A.user),A})).apply(this,arguments)}class lo extends V.ZR{constructor(g,y,w,A){var P;super(y.code,y.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,lo.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:y.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,y,w,A){return new lo(g,y,w,A)}}function Bc(E,g,y,w){return("reauthenticate"===g?y._getReauthenticationResolver(E):y._getIdTokenResponse(E)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?lo._fromErrorAndOperation(E,P,g,w):P})}function da(E){return new Set(E.map(({providerId:g})=>g).filter(g=>!!g))}function co(E,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,f.Z)(function*(E,g){const y=(0,V.m9)(E);yield ho(!0,y,g);const{providerUserInfo:w}=yield tr(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),A=da(w||[]);return y.providerData=y.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function zi(E,g){return pl.apply(this,arguments)}function pl(){return(pl=(0,f.Z)(function*(E,g,y=!1){const w=yield Xe(E,g._linkToIdToken(E.auth,yield E.getIdToken()),y);return Vr._forOperation(E,"link",w)})).apply(this,arguments)}function ho(E,g,y){return ks.apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(E,g,y){yield Zt(g);const A=!1===E?"provider-already-linked":"no-such-provider";ye(da(g.providerData).has(y)===E,g.auth,A)})).apply(this,arguments)}function eu(E,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,f.Z)(function*(E,g,y=!1){const{auth:w}=E,A="reauthenticate";try{const P=yield Xe(E,Bc(w,A,g,E),y);ye(P.idToken,w,"internal-error");const ce=zt(P.idToken);ye(ce,w,"internal-error");const{sub:Be}=ce;return ye(E.uid===Be,w,"user-mismatch"),Vr._forOperation(E,A,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&fe(w,"user-mismatch"),P}})).apply(this,arguments)}function jn(E,g){return O.apply(this,arguments)}function O(){return(O=(0,f.Z)(function*(E,g,y=!1){const w="signIn",A=yield Bc(E,w,g),P=yield Vr._fromIdTokenResponse(E,w,A);return y||(yield E._updateCurrentUser(P.user)),P})).apply(this,arguments)}function k(E,g){return X.apply(this,arguments)}function X(){return(X=(0,f.Z)(function*(E,g){return jn(nr(E),g)})).apply(this,arguments)}function ue(E,g){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,f.Z)(function*(E,g){const y=(0,V.m9)(E);return yield ho(!1,y,g.providerId),zi(y,g)})).apply(this,arguments)}function ot(E,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,f.Z)(function*(E,g){return eu((0,V.m9)(E),g)})).apply(this,arguments)}function _n(E,g){return jt.apply(this,arguments)}function jt(){return(jt=(0,f.Z)(function*(E,g){return Qt(E,"POST","/v1/accounts:signInWithCustomToken",bt(E,g))})).apply(this,arguments)}function Bn(E,g){return kn.apply(this,arguments)}function kn(){return(kn=(0,f.Z)(function*(E,g){const y=nr(E),w=yield _n(y,{token:g,returnSecureToken:!0}),A=yield Vr._fromIdTokenResponse(y,"signIn",w);return yield y._updateCurrentUser(A.user),A})).apply(this,arguments)}class $n{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?qi._fromServerResponse(g,y):fe(g,"internal-error")}}class qi extends $n{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new qi(y)}}function ei(E,g,y){var w;ye((null===(w=y.url)||void 0===w?void 0:w.length)>0,E,"invalid-continue-uri"),ye(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ye(y.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(ye(y.android.packageName.length>0,E,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function fa(E,g,y){return pi.apply(this,arguments)}function pi(){return(pi=(0,f.Z)(function*(E,g,y){const w=(0,V.m9)(E),A={requestType:"PASSWORD_RESET",email:g};y&&ei(w,A,y),yield xi(w,A)})).apply(this,arguments)}function xo(E,g,y){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,f.Z)(function*(E,g,y){yield Cn((0,V.m9)(E),{oobCode:g,newPassword:y})})).apply(this,arguments)}function wt(E,g){return gl.apply(this,arguments)}function gl(){return(gl=(0,f.Z)(function*(E,g){yield Ut((0,V.m9)(E),{oobCode:g})})).apply(this,arguments)}function tu(E,g){return nu.apply(this,arguments)}function nu(){return(nu=(0,f.Z)(function*(E,g){const y=(0,V.m9)(E),w=yield Cn(y,{oobCode:g}),A=w.requestType;switch(ye(A,y,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(w.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(w.mfaInfo,y,"internal-error");default:ye(w.email,y,"internal-error")}let P=null;return w.mfaInfo&&(P=$n._fromServerResponse(nr(y),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function Mh(E,g){return ml.apply(this,arguments)}function ml(){return(ml=(0,f.Z)(function*(E,g){const{data:y}=yield tu((0,V.m9)(E),g);return y.email})).apply(this,arguments)}function yl(E,g,y){return $c.apply(this,arguments)}function $c(){return($c=(0,f.Z)(function*(E,g,y){const w=nr(E),A=yield jc(w,{returnSecureToken:!0,email:g,password:y}),P=yield Vr._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function Ue(E,g,y){return k((0,V.m9)(E),Qa.credential(g,y))}function rn(E,g,y){return _l.apply(this,arguments)}function _l(){return(_l=(0,f.Z)(function*(E,g,y){const w=(0,V.m9)(E),A={requestType:"EMAIL_SIGNIN",email:g};ye(y.handleCodeInApp,w,"argument-error"),y&&ei(w,A,y),yield al(w,A)})).apply(this,arguments)}function pr(E,g){const y=Ya.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function dg(E,g,y){return pa.apply(this,arguments)}function pa(){return(pa=(0,f.Z)(function*(E,g,y){const w=(0,V.m9)(E),A=Qa.credentialWithLink(g,y||ve());return ye(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),k(w,A)})).apply(this,arguments)}function Fs(E,g){return vl.apply(this,arguments)}function vl(){return(vl=(0,f.Z)(function*(E,g){return st(E,"POST","/v1/accounts:createAuthUri",bt(E,g))})).apply(this,arguments)}function ru(E,g){return xh.apply(this,arguments)}function xh(){return(xh=(0,f.Z)(function*(E,g){const w={identifier:g,continueUri:at()?ve():"http://localhost"},{signinMethods:A}=yield Fs((0,V.m9)(E),w);return A||[]})).apply(this,arguments)}function Jw(E,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,f.Z)(function*(E,g){const y=(0,V.m9)(E),A={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};g&&ei(y.auth,A,g);const{email:P}=yield No(y.auth,A);P!==E.email&&(yield E.reload())})).apply(this,arguments)}function iu(E,g,y){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(E,g,y){const w=(0,V.m9)(E),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:g};y&&ei(w.auth,P,y);const{email:ce}=yield aa(w.auth,P);ce!==E.email&&(yield E.reload())})).apply(this,arguments)}function Ls(E,g){return El.apply(this,arguments)}function El(){return(El=(0,f.Z)(function*(E,g){return st(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function su(E,g){return gs.apply(this,arguments)}function gs(){return(gs=(0,f.Z)(function*(E,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const w=(0,V.m9)(E),P={idToken:yield w.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},ce=yield Xe(w,Ls(w.auth,P));w.displayName=ce.displayName||null,w.photoURL=ce.photoUrl||null;const Be=w.providerData.find(({providerId:lt})=>"password"===lt);Be&&(Be.displayName=w.displayName,Be.photoURL=w.photoURL),yield w._updateTokensIfNecessary(ce)})).apply(this,arguments)}function E_(E,g){return Hc((0,V.m9)(E),g,null)}function hg(E,g){return Hc((0,V.m9)(E),null,g)}function Hc(E,g,y){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,f.Z)(function*(E,g,y){const{auth:w}=E,P={idToken:yield E.getIdToken(),returnSecureToken:!0};g&&(P.email=g),y&&(P.password=y);const ce=yield Xe(E,Mi(w,P));yield E._updateTokensIfNecessary(ce,!0)})).apply(this,arguments)}class Oo{constructor(g,y,w={}){this.isNewUser=g,this.providerId=y,this.profile=w}}class Ph extends Oo{constructor(g,y,w,A){super(g,y,w),this.username=A}}class fg extends Oo{constructor(g,y){super(g,"facebook.com",y)}}class b_ extends Ph{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class w_ extends Oo{constructor(g,y){super(g,"google.com",y)}}class bl extends Ph{constructor(g,y,w){super(g,"twitter.com",y,w)}}function pg(E){const{user:g,_tokenResponse:y}=E;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function(E){var g,y;if(!E)return null;const{providerId:w}=E,A=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},P=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!w&&(null==E?void 0:E.idToken)){const ce=null===(y=null===(g=zt(E.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(ce)return new Oo(P,"anonymous"!==ce&&"custom"!==ce?ce:null)}if(!w)return null;switch(w){case"facebook.com":return new fg(P,A);case"github.com":return new b_(P,A);case"google.com":return new w_(P,A);case"twitter.com":return new bl(P,A,E.screenName||null);case"custom":case"anonymous":return new Oo(P,null);default:return new Oo(P,w,A)}}(y)}class Dn{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new Dn("enroll",g)}static _fromMfaPendingCredential(g){return new Dn("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,w;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Dn._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(w=g.multiFactorSession)||void 0===w?void 0:w.idToken)return Dn._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ou{constructor(g,y,w){this.session=g,this.hints=y,this.signInResolver=w}static _fromError(g,y){const w=nr(g),A=y.customData._serverResponse,P=(A.mfaInfo||[]).map(Be=>$n._fromServerResponse(w,Be));ye(A.mfaPendingCredential,w,"internal-error");const ce=Dn._fromMfaPendingCredential(A.mfaPendingCredential);return new ou(ce,P,function(){var Be=(0,f.Z)(function*(lt){const It=yield lt._process(w,ce);delete A.mfaInfo,delete A.mfaPendingCredential;const Xt=Object.assign(Object.assign({},A),{idToken:It.idToken,refreshToken:It.refreshToken});switch(y.operationType){case"signIn":const Wn=yield Vr._fromIdTokenResponse(w,y.operationType,Xt);return yield w._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return ye(y.user,w,"internal-error"),Vr._forOperation(y.user,y.operationType,Xt);default:fe(w,"internal-error")}});return function(lt){return Be.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,f.Z)(function*(){return y.signInResolver(g)})()}}function I_(E,g){var y;const w=(0,V.m9)(E),A=g;return ye(g.customData.operationType,w,"argument-error"),ye(null===(y=A.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,w,"argument-error"),ou._fromError(w,A)}function kh(E,g){return st(E,"POST","/v2/accounts/mfaEnrollment:start",bt(E,g))}class Fh{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(w=>$n._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new Fh(g)}getSession(){var g=this;return(0,f.Z)(function*(){return Dn._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var w=this;return(0,f.Z)(function*(){const A=g,P=yield w.getSession(),ce=yield Xe(w.user,A._process(w.user.auth,P,y));return yield w.user._updateTokensIfNecessary(ce),w.user.reload()})()}unenroll(g){var y=this;return(0,f.Z)(function*(){const w="string"==typeof g?g:g.uid,A=yield y.user.getIdToken(),P=yield Xe(y.user,function(E,g){return st(E,"POST","/v2/accounts/mfaEnrollment:withdraw",bt(E,g))}(y.user.auth,{idToken:A,mfaEnrollmentId:w}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ce})=>ce!==w),yield y.user._updateTokensIfNecessary(P);try{yield y.user.reload()}catch(ce){if("auth/user-token-expired"!==ce.code)throw ce}})()}}const au=new WeakMap;function Wc(E){const g=(0,V.m9)(E);return au.has(g)||au.set(g,Fh._fromUser(g)),au.get(g)}const uu="__sak";class Lh{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(uu,"1"),this.storage.removeItem(uu),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const S_=(()=>{class E extends Lh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,w)=>this.onStorageEvent(y,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,V.z$)();return ge(E)||wn(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=Tn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),P=this.localCache[w];A!==P&&y(w,P,A)}}onStorageEvent(y,w=!1){if(!y.key)return void this.forAllChangedKeys((Be,lt,It)=>{this.notifyListeners(Be,It)});const A=y.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Be=this.storage.getItem(A);if(y.newValue!==Be)null!==y.newValue?this.storage.setItem(A,y.newValue):this.storage.removeItem(A);else if(this.localCache[A]===y.newValue&&!w)return}const P=()=>{const Be=this.storage.getItem(A);!w&&this.localCache[A]===Be||this.notifyListeners(A,Be)},ce=this.storage.getItem(A);(0,V.w1)()&&10===document.documentMode&&ce!==y.newValue&&y.newValue!==y.oldValue?setTimeout(P,10):P()}notifyListeners(y,w){this.localCache[y]=w;const A=this.listeners[y];if(A)for(const P of Array.from(A))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(w)}_removeListener(y,w){this.listeners[y]&&(this.listeners[y].delete(w),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,w){var A=()=>super._set,P=this;return(0,f.Z)(function*(){yield A().call(P,y,w),P.localCache[y]=JSON.stringify(w)})()}_get(y){var w=()=>super._get,A=this;return(0,f.Z)(function*(){const P=yield w().call(A,y);return A.localCache[y]=JSON.stringify(P),P})()}_remove(y){var w=()=>super._remove,A=this;return(0,f.Z)(function*(){yield w().call(A,y),delete A.localCache[y]})()}}return E.type="LOCAL",E})(),cu=(()=>{class E extends Lh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,w){}_removeListener(y,w){}}return E.type="SESSION",E})();let _g=(()=>{class E{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const w=this.receivers.find(P=>P.isListeningto(y));if(w)return w;const A=new E(y);return this.receivers.push(A),A}isListeningto(y){return this.eventTarget===y}handleEvent(y){var w=this;return(0,f.Z)(function*(){const A=y,{eventId:P,eventType:ce,data:Be}=A.data,lt=w.handlersMap[ce];if(!(null==lt?void 0:lt.size))return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:ce});const It=Array.from(lt).map(function(){var Wn=(0,f.Z)(function*(Qi){return Qi(A.origin,Be)});return function(Qi){return Wn.apply(this,arguments)}}()),Xt=yield function(E){return Promise.all(E.map(function(){var g=(0,f.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(w){return{fulfilled:!1,reason:w}}});return function(y){return g.apply(this,arguments)}}()))}(It);A.ports[0].postMessage({status:"done",eventId:P,eventType:ce,response:Xt})})()}_subscribe(y,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(w)}_unsubscribe(y,w){this.handlersMap[y]&&w&&this.handlersMap[y].delete(w),(!w||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Ki(E="",g=10){let y="";for(let w=0;w<g;w++)y+=Math.floor(10*Math.random());return E+y}class t0{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,w=50){var A=this;return(0,f.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let ce,Be;return new Promise((lt,It)=>{const Xt=Ki("",20);P.port1.start();const Wn=setTimeout(()=>{It(new Error("unsupported_event"))},w);Be={messageChannel:P,onMessage(Qi){const jo=Qi;if(jo.data.eventId===Xt)switch(jo.data.status){case"ack":clearTimeout(Wn),ce=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(ce),lt(jo.data.response);break;default:clearTimeout(Wn),clearTimeout(ce),It(new Error("invalid_response"))}}},A.handlers.add(Be),P.port1.addEventListener("message",Be.onMessage),A.target.postMessage({eventType:g,eventId:Xt,data:y},[P.port2])}).finally(()=>{Be&&A.removeMessageHandler(Be)})})()}}function Nr(){return window}function wl(){return void 0!==Nr().WorkerGlobalScope&&"function"==typeof Nr().importScripts}function Cl(){return(Cl=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const hu="firebaseLocalStorageDb",ko="firebaseLocalStorage",Uh="fbase_key";class ga{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function jh(E,g){return E.transaction([ko],g?"readwrite":"readonly").objectStore(ko)}function Hn(){const E=indexedDB.open(hu,1);return new Promise((g,y)=>{E.addEventListener("error",()=>{y(E.error)}),E.addEventListener("upgradeneeded",()=>{const w=E.result;try{w.createObjectStore(ko,{keyPath:Uh})}catch(A){y(A)}}),E.addEventListener("success",(0,f.Z)(function*(){const w=E.result;w.objectStoreNames.contains(ko)?g(w):(w.close(),yield function(){const E=indexedDB.deleteDatabase(hu);return new ga(E).toPromise()}(),g(yield Hn()))}))})}function Pi(E,g,y){return Il.apply(this,arguments)}function Il(){return(Il=(0,f.Z)(function*(E,g,y){const w=jh(E,!0).put({[Uh]:g,value:y});return new ga(w).toPromise()})).apply(this,arguments)}function Tl(){return(Tl=(0,f.Z)(function*(E,g){const y=jh(E,!1).get(g),w=yield new ga(y).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function zc(E,g){const y=jh(E,!0).delete(g);return new ga(y).toPromise()}const Zi=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,f.Z)(function*(){return y.db||(y.db=yield Hn()),y.db})()}_withRetries(y){var w=this;return(0,f.Z)(function*(){let A=0;for(;;)try{const P=yield w._openDb();return yield y(P)}catch(P){if(A++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,f.Z)(function*(){return wl()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,f.Z)(function*(){y.receiver=_g._getInstance(wl()?self:null),y.receiver._subscribe("keyChanged",function(){var w=(0,f.Z)(function*(A,P){return{keyProcessed:(yield y._poll()).includes(P.key)}});return function(A,P){return w.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var w=(0,f.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return w.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,f.Z)(function*(){var w,A;if(y.activeServiceWorker=yield function(){return Cl.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new t0(y.activeServiceWorker);const P=yield y.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var w=this;return(0,f.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:y},w.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Hn();return yield Pi(y,uu,"1"),yield zc(y,uu),!0}catch(y){}return!1})()}_withPendingWrite(y){var w=this;return(0,f.Z)(function*(){w.pendingWrites++;try{yield y()}finally{w.pendingWrites--}})()}_set(y,w){var A=this;return(0,f.Z)(function*(){return A._withPendingWrite((0,f.Z)(function*(){return yield A._withRetries(P=>Pi(P,y,w)),A.localCache[y]=w,A.notifyServiceWorker(y)}))})()}_get(y){var w=this;return(0,f.Z)(function*(){const A=yield w._withRetries(P=>function(E,g){return Tl.apply(this,arguments)}(P,y));return w.localCache[y]=A,A})()}_remove(y){var w=this;return(0,f.Z)(function*(){return w._withPendingWrite((0,f.Z)(function*(){return yield w._withRetries(A=>zc(A,y)),delete w.localCache[y],w.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,f.Z)(function*(){const w=yield y._withRetries(ce=>{const Be=jh(ce,!1).getAll();return new ga(Be).toPromise()});if(!w)return[];if(0!==y.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:ce,value:Be}of w)P.add(ce),JSON.stringify(y.localCache[ce])!==JSON.stringify(Be)&&(y.notifyListeners(ce,Be),A.push(ce));for(const ce of Object.keys(y.localCache))y.localCache[ce]&&!P.has(ce)&&(y.notifyListeners(ce,null),A.push(ce));return A})()}notifyListeners(y,w){this.localCache[y]=w;const A=this.listeners[y];if(A)for(const P of Array.from(A))P(w)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(w)}_removeListener(y,w){this.listeners[y]&&(this.listeners[y].delete(w),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function bg(E,g){return st(E,"POST","/v2/accounts/mfaSignIn:start",bt(E,g))}function $h(){return($h=(0,f.Z)(function*(E){return(yield st(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fo(E){return new Promise((g,y)=>{const w=document.createElement("script");w.setAttribute("src",E),w.onload=g,w.onerror=A=>{const P=ke("internal-error");P.customData=A,y(P)},w.type="text/javascript",w.charset="UTF-8",function(){var E,g;return null!==(g=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==g?g:document}().appendChild(w)})}function ki(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Yi=1e12;class pu{constructor(g){this.auth=g,this.counter=Yi,this._widgets=new Map}render(g,y){const w=this.counter;return this._widgets.set(w,new ms(g,this.auth.name,y||{})),this.counter++,w}reset(g){var y;const w=g||Yi;null===(y=this._widgets.get(w))||void 0===y||y.delete(),this._widgets.delete(w)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Yi))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,f.Z)(function*(){var w;return null===(w=y._widgets.get(g||Yi))||void 0===w||w.execute(),""})()}}class ms{constructor(g,y,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;ye(A,"argument-error",{appName:y}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}();const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gu=ki("rcb"),ya=new Ot(3e4,6e4);class va{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nr().grecaptcha}load(g,y=""){return ye((E=y).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Nr().grecaptcha):new Promise((w,A)=>{const P=Nr().setTimeout(()=>{A(ke(g,"network-request-failed"))},ya.get());Nr()[gu]=()=>{Nr().clearTimeout(P),delete Nr()[gu];const Be=Nr().grecaptcha;if(!Be)return void A(ke(g,"internal-error"));const lt=Be.render;Be.render=(It,Xt)=>{const Wn=lt(It,Xt);return this.counter++,Wn},this.hostLanguage=y,w(Be)},Fo(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:gu,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(P),A(ke(g,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Nr().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Kc{load(g){return(0,f.Z)(function*(){return new pu(g)})()}clearedOneInstance(){}}const po="recaptcha",Ea={theme:"light",type:"image"};class O_{constructor(g,y=Object.assign({},Ea),w){this.parameters=y,this.type=po,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(w),this.isInvisible="invisible"===this.parameters.size,ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;ye(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Kc:new va,this.validateStartingState()}verify(){var g=this;return(0,f.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(y)||new Promise(P=>{const ce=Be=>{!Be||(g.tokenChangeListeners.delete(ce),P(Be))};g.tokenChangeListeners.add(ce),g.isInvisible&&w.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(w=>w(y)),"function"==typeof g)g(y);else if("string"==typeof g){const w=Nr()[g];"function"==typeof w&&w(y)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,f.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const w=document.createElement("div");y.appendChild(w),y=w}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,f.Z)(function*(){ye(at()&&!wl(),g.auth,"internal-error"),yield function(){let E=null;return new Promise(g=>{"complete"!==document.readyState?(E=()=>g(),window.addEventListener("load",E)):g()}).catch(g=>{throw E&&window.removeEventListener("load",E),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function(E){return $h.apply(this,arguments)}(g.auth);ye(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hh{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=ua._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Tg(E,g,y){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,f.Z)(function*(E,g,y){const w=nr(E),A=yield Sl(w,g,(0,V.m9)(y));return new Hh(A,P=>k(w,P))})).apply(this,arguments)}function Dg(E,g,y){return Al.apply(this,arguments)}function Al(){return(Al=(0,f.Z)(function*(E,g,y){const w=(0,V.m9)(E);yield ho(!1,w,"phone");const A=yield Sl(w.auth,g,(0,V.m9)(y));return new Hh(A,P=>ue(w,P))})).apply(this,arguments)}function Ag(E,g,y){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,f.Z)(function*(E,g,y){const w=(0,V.m9)(E),A=yield Sl(w.auth,g,(0,V.m9)(y));return new Hh(A,P=>ot(w,P))})).apply(this,arguments)}function Sl(E,g,y){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,f.Z)(function*(E,g,y){var w;const A=yield y.verify();try{let P;if(ye("string"==typeof A,E,"argument-error"),ye(y.type===po,E,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const ce=P.session;if("phoneNumber"in P)return ye("enroll"===ce.type,E,"internal-error"),(yield kh(E,{idToken:ce.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{ye("signin"===ce.type,E,"internal-error");const Be=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return ye(Be,E,"missing-multi-factor-info"),(yield bg(E,{mfaPendingCredential:ce.credential,mfaEnrollmentId:Be,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ce}=yield Ka(E,{phoneNumber:P.phoneNumber,recaptchaToken:A});return ce}}finally{y._reset()}})).apply(this,arguments)}function P_(E,g){return zh.apply(this,arguments)}function zh(){return(zh=(0,f.Z)(function*(E,g){yield zi((0,V.m9)(E),g)})).apply(this,arguments)}let Sg=(()=>{class E{constructor(y){this.providerId=E.PROVIDER_ID,this.auth=nr(y)}verifyPhoneNumber(y,w){return Sl(this.auth,y,(0,V.m9)(w))}static credential(y,w){return ua._fromVerification(y,w)}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:w,temporaryProof:A}=y;return w&&A?ua._fromTokenResponse(w,A):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function go(E,g){return g?he(g):(ye(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class qh extends vt{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return fr(g,this._buildIdpRequest())}_linkToIdToken(g,y){return fr(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return fr(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function yu(E){return jn(E.auth,new qh(E),E.bypassAuthState)}function k_(E){const{auth:g,user:y}=E;return ye(y,g,"internal-error"),eu(y,new qh(E),E.bypassAuthState)}function hn(E){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,f.Z)(function*(E){const{auth:g,user:y}=E;return ye(y,g,"internal-error"),zi(y,new qh(E),E.bypassAuthState)})).apply(this,arguments)}class _u{constructor(g,y,w,A,P=!1){this.auth=g,this.resolver=w,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,f.Z)(function*(w,A){g.pendingPromise={resolve:w,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(w,A){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,f.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:P,tenantId:ce,error:Be,type:lt}=g;if(Be)return void y.reject(Be);const It={auth:y.auth,requestUri:w,sessionId:A,tenantId:ce||void 0,postBody:P||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(lt)(It))}catch(Xt){y.reject(Xt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return yu;case"linkViaPopup":case"linkViaRedirect":return hn;case"reauthViaPopup":case"reauthViaRedirect":return k_;default:fe(this.auth,"internal-error")}}resolve(g){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vA=new Ot(2e3,1e4);function n0(E,g,y){return ti.apply(this,arguments)}function ti(){return(ti=(0,f.Z)(function*(E,g,y){const w=nr(E);ze(E,g,xs);const A=go(w,y);return new vu(w,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function ys(E,g,y){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,f.Z)(function*(E,g,y){const w=(0,V.m9)(E);ze(w.auth,g,xs);const A=go(w.auth,y);return new vu(w.auth,"reauthViaPopup",g,A,w).executeNotNull()})).apply(this,arguments)}function Us(E,g,y){return js.apply(this,arguments)}function js(){return(js=(0,f.Z)(function*(E,g,y){const w=(0,V.m9)(E);ze(w.auth,g,xs);const A=go(w.auth,y);return new vu(w.auth,"linkViaPopup",g,A,w).executeNotNull()})).apply(this,arguments)}let vu=(()=>{class E extends _u{constructor(y,w,A,P,ce){super(y,w,P,ce),this.provider=A,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var y=this;return(0,f.Z)(function*(){const w=yield y.execute();return ye(w,y.auth,"internal-error"),w})()}onExecution(){var y=this;return(0,f.Z)(function*(){le(1===y.filter.length,"Popup operations only handle one event");const w=Ki();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],w),y.authWindow.associatedEvent=w,y.resolver._originValidation(y.auth).catch(A=>{y.reject(A)}),y.resolver._isIframeWebStorageSupported(y.auth,A=>{A||y.reject(ke(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const y=()=>{var w,A;this.pollId=(null===(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,vA.get())};y()}}return E.currentPopupAction=null,E})();const Kh=new Map;class EA extends _u{constructor(g,y,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,f.Z)(function*(){let w=Kh.get(y.auth._key());if(!w){try{const P=(yield function(E,g){return Zh.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;w=()=>Promise.resolve(P)}catch(A){w=()=>Promise.reject(A)}Kh.set(y.auth._key(),w)}return y.bypassAuthState||Kh.set(y.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,w=this;return(0,f.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(w,g);if("unknown"!==g.type){if(g.eventId){const A=yield w.auth._redirectUserForId(g.eventId);if(A)return w.user=A,y().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Zh(){return(Zh=(0,f.Z)(function*(E,g){const y=ba(g),w=Yc(E);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(y));return yield w._remove(y),A})).apply(this,arguments)}function mi(E,g){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,f.Z)(function*(E,g){return Yc(E)._set(ba(g),"true")})).apply(this,arguments)}function Eu(){Kh.clear()}function Yc(E){return he(E._redirectPersistence)}function ba(E){return Ke("pendingRedirect",E.config.apiKey,E.name)}function Qc(E,g,y){return function(E,g,y){return Yh.apply(this,arguments)}(E,g,y)}function Yh(){return(Yh=(0,f.Z)(function*(E,g,y){const w=nr(E);ze(E,g,xs);const A=go(w,y);return yield mi(A,w),A._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function Qh(E,g,y){return function(E,g,y){return wa.apply(this,arguments)}(E,g,y)}function wa(){return(wa=(0,f.Z)(function*(E,g,y){const w=(0,V.m9)(E);ze(w.auth,g,xs);const A=go(w.auth,y);yield mi(A,w.auth);const P=yield ed(w);return A._openRedirect(w.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function Jh(E,g,y){return function(E,g,y){return Rg.apply(this,arguments)}(E,g,y)}function Rg(){return(Rg=(0,f.Z)(function*(E,g,y){const w=(0,V.m9)(E);ze(w.auth,g,xs);const A=go(w.auth,y);yield ho(!1,w,g.providerId),yield mi(A,w.auth);const P=yield ed(w);return A._openRedirect(w.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function bu(E,g){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,f.Z)(function*(E,g){return yield nr(E)._initializationPromise,Ca(E,g,!1)})).apply(this,arguments)}function Ca(E,g){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,f.Z)(function*(E,g,y=!1){const w=nr(E),A=go(w,g),ce=yield new EA(w,A,y).execute();return ce&&!y&&(delete ce.user._redirectEventId,yield w._persistUserIfCurrent(ce.user),yield w._setRedirectUser(null,g)),ce})).apply(this,arguments)}function ed(E){return ef.apply(this,arguments)}function ef(){return(ef=(0,f.Z)(function*(E){const g=Ki(`${E.uid}:::`);return E._redirectEventId=g,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),g})).apply(this,arguments)}class tf{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(y=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ml(E);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var w;if(g.error&&!Ml(g)){const A=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";y.onError(ke(this.auth,A))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const w=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ia(g))}saveEventToCache(g){this.cachedEventUids.add(Ia(g)),this.lastProcessedEventTime=Date.now()}}function Ia(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(g=>g).join("-")}function Ml({type:E,error:g}){return"unknown"===E&&"auth/no-auth-event"===(null==g?void 0:g.code)}function xl(E){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,f.Z)(function*(E,g={}){return st(E,"GET","/v1/projects",g)})).apply(this,arguments)}const wu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r0=/^https?/;function Vo(){return(Vo=(0,f.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:g}=yield xl(E);for(const y of g)try{if(nf(y))return}catch(w){}fe(E,"unauthorized-domain")})).apply(this,arguments)}function nf(E){const g=ve(),{protocol:y,hostname:w}=new URL(g);if(E.startsWith("chrome-extension://")){const ce=new URL(E);return""===ce.hostname&&""===w?"chrome-extension:"===y&&E.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&ce.hostname===w}if(!r0.test(y))return!1;if(wu.test(E))return w===E;const A=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const rf=new Ot(3e4,6e4);function Ol(){const E=Nr().___jsl;if(null==E?void 0:E.H)for(const g of Object.keys(E.H))if(E.H[g].r=E.H[g].r||[],E.H[g].L=E.H[g].L||[],E.H[g].r=[...E.H[g].L],E.CP)for(let y=0;y<E.CP.length;y++)E.CP[y]=null}let yi=null;function Li(E){return yi=yi||function(E){return new Promise((g,y)=>{var w,A,P;function ce(){Ol(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ol(),y(ke(E,"network-request-failed"))},timeout:rf.get()})}if(null===(A=null===(w=Nr().gapi)||void 0===w?void 0:w.iframes)||void 0===A?void 0:A.Iframe)g(gapi.iframes.getContext());else{if(!(null===(P=Nr().gapi)||void 0===P?void 0:P.load)){const Be=ki("iframefcb");return Nr()[Be]=()=>{gapi.load?ce():y(ke(E,"network-request-failed"))},Fo(`https://apis.google.com/js/api.js?onload=${Be}`).catch(lt=>y(lt))}ce()}}).catch(g=>{throw yi=null,g})}(E),yi}const Cu=new Ot(5e3,15e3),Iu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kl(E){const g=E.config;ye(g.authDomain,E,"auth-domain-config-required");const y=g.emulator?Mn(g,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:E.name,v:x.SDK_VERSION},A=Pl.get(E.config.apiHost);A&&(w.eid=A);const P=E._getFrameworks();return P.length&&(w.fw=P.join(",")),`${y}?${(0,V.xO)(w).slice(1)}`}function Mg(){return(Mg=(0,f.Z)(function*(E){const g=yield Li(E),y=Nr().gapi;return ye(y,E,"internal-error"),g.open({where:document.body,url:kl(E),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iu,dontclear:!0},w=>new Promise(function(){var A=(0,f.Z)(function*(P,ce){yield w.restyle({setHideOnLeave:!1});const Be=ke(E,"network-request-failed"),lt=Nr().setTimeout(()=>{ce(Be)},Cu.get());function It(){Nr().clearTimeout(lt),P(w)}w.ping(It).then(It,()=>{ce(Be)})});return function(P,ce){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const o0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Og{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function nd(E,g,y,w,A,P){ye(E.config.authDomain,E,"auth-domain-config-required"),ye(E.config.apiKey,E,"invalid-api-key");const ce={apiKey:E.config.apiKey,appName:E.name,authType:y,redirectUrl:w,v:x.SDK_VERSION,eventId:A};if(g instanceof xs){g.setDefaultLanguage(E.languageCode),ce.providerId=g.providerId||"",(0,V.xb)(g.getCustomParameters())||(ce.customParameters=JSON.stringify(g.getCustomParameters()));for(const[lt,It]of Object.entries(P||{}))ce[lt]=It}if(g instanceof Mo){const lt=g.getScopes().filter(It=>""!==It);lt.length>0&&(ce.scopes=lt.join(","))}E.tenantId&&(ce.tid=E.tenantId);const Be=ce;for(const lt of Object.keys(Be))void 0===Be[lt]&&delete Be[lt];return`${function({config:E}){return E.emulator?Mn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,V.xO)(Be).slice(1)}`}const id="webStorageSupport",Fg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cu,this._completeRedirectFn=Ca}_openPopup(g,y,w,A){var P=this;return(0,f.Z)(function*(){var ce;le(null===(ce=P.eventManagers[g._key()])||void 0===ce?void 0:ce.manager,"_initialize() not called before _openPopup()");const Be=nd(g,y,w,ve(),A);return function(E,g,y,w=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),ce=Math.max((window.screen.availWidth-w)/2,0).toString();let Be="";const lt=Object.assign(Object.assign({},o0),{width:w.toString(),height:A.toString(),top:P,left:ce}),It=(0,V.z$)().toLowerCase();y&&(Be=Ze(It)?"_blank":y),H(It)&&(g=g||"http://localhost",lt.scrollbars="yes");const Xt=Object.entries(lt).reduce((Qi,[jo,af])=>`${Qi}${jo}=${af},`,"");if(function(E=(0,V.z$)()){var g;return wn(E)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(It)&&"_self"!==Be)return function(E,g){const y=document.createElement("a");y.href=E,y.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(w)}(g||"",Be),new Og(null);const Wn=window.open(g||"",Be,Xt);ye(Wn,E,"popup-blocked");try{Wn.focus()}catch(Qi){}return new Og(Wn)}(g,Be,Ki())})()}_openRedirect(g,y,w,A){var P=this;return(0,f.Z)(function*(){return yield P._originValidation(g),E=nd(g,y,w,ve(),A),Nr().location.href=E,new Promise(()=>{});var E})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:A,promise:P}=this.eventManagers[y];return A?Promise.resolve(A):(le(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(g);return this.eventManagers[y]={promise:w},w.catch(()=>{delete this.eventManagers[y]}),w}initAndGetManager(g){var y=this;return(0,f.Z)(function*(){const w=yield function(E){return Mg.apply(this,arguments)}(g),A=new tf(g);return w.register("authEvent",P=>(ye(null==P?void 0:P.authEvent,g,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:A},y.iframes[g._key()]=w,A})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(id,{type:id},A=>{var P;const ce=null===(P=null==A?void 0:A[0])||void 0===P?void 0:P[id];void 0!==ce&&y(!!ce),fe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(E){return Vo.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Tn()||ge()||wn()}};class Vg extends class{constructor(g){this.factorId=g}_process(g,y,w){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,w);case"signin":return this._finalizeSignIn(g,y.credential);default:return Gt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Vg(g)}_finalizeEnroll(g,y,w){return function(E,g){return st(E,"POST","/v2/accounts/mfaEnrollment:finalize",bt(E,g))}(g,{idToken:y,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function(E,g){return st(E,"POST","/v2/accounts/mfaSignIn:finalize",bt(E,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vl=(()=>{class E{constructor(){}static assertion(y){return Vg._fromCredential(y)}}return E.FACTOR_ID="phone",E})();var E,Tu="@firebase/auth";class of{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,f.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(w=>{var A;g((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}E="Browser",(0,x._registerComponent)(new de.wA("auth",(g,{options:y})=>{const w=g.getProvider("app").getImmediate(),{apiKey:A,authDomain:P}=w.options;return(ce=>{ye(A&&!A.includes(":"),"invalid-api-key",{appName:ce.name}),ye(!(null==P?void 0:P.includes(":")),"argument-error",{appName:ce.name});const Be={apiKey:A,authDomain:P,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wi(E)},lt=new dr(ce,Be);return function(E,g){const y=(null==g?void 0:g.persistence)||[],w=(Array.isArray(y)?y:[y]).map(he);(null==g?void 0:g.errorMap)&&E._updateErrorMap(g.errorMap),E._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(lt,y),lt})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,w)=>{g.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new de.wA("auth-internal",g=>{const y=nr(g.getProvider("auth").getImmediate());return new of(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(Tu,"0.19.5",void 0),(0,x.registerVersion)(Tu,"0.19.5","esm2017")},3854:(ut,Me,M)=>{"use strict";M.d(Me,{BH:()=>K,LL:()=>ve,ZR:()=>je,zI:()=>we,US:()=>de,tV:()=>ne,$s:()=>cr,r3:()=>bt,Sg:()=>ae,ne:()=>ur,vZ:()=>_r,ZB:()=>L,pd:()=>xn,m9:()=>Fr,z$:()=>Oe,jU:()=>Te,ru:()=>Se,d:()=>ke,xb:()=>cn,w1:()=>nt,hl:()=>Gt,uI:()=>_e,UG:()=>J,b$:()=>fe,G6:()=>ye,Mn:()=>ze,xO:()=>Kn,zd:()=>Zn,eu:()=>le});const ie=function(z){const q=[];let G=0;for(let Re=0;Re<z.length;Re++){let se=z.charCodeAt(Re);se<128?q[G++]=se:se<2048?(q[G++]=se>>6|192,q[G++]=63&se|128):55296==(64512&se)&&Re+1<z.length&&56320==(64512&z.charCodeAt(Re+1))?(se=65536+((1023&se)<<10)+(1023&z.charCodeAt(++Re)),q[G++]=se>>18|240,q[G++]=se>>12&63|128,q[G++]=se>>6&63|128,q[G++]=63&se|128):(q[G++]=se>>12|224,q[G++]=se>>6&63|128,q[G++]=63&se|128)}return q},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,q){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Re=[];for(let se=0;se<z.length;se+=3){const et=z[se],Q=se+1<z.length,be=Q?z[se+1]:0,Fe=se+2<z.length,qe=Fe?z[se+2]:0;let Z=(15&be)<<2|qe>>6,B=63&qe;Fe||(B=64,Q||(Z=64)),Re.push(G[et>>2],G[(3&et)<<4|be>>4],G[Z],G[B])}return Re.join("")},encodeString(z,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(z):this.encodeByteArray(ie(z),q)},decodeString(z,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(z):function(z){const q=[];let G=0,Re=0;for(;G<z.length;){const se=z[G++];if(se<128)q[Re++]=String.fromCharCode(se);else if(se>191&&se<224){const et=z[G++];q[Re++]=String.fromCharCode((31&se)<<6|63&et)}else if(se>239&&se<365){const Fe=((7&se)<<18|(63&z[G++])<<12|(63&z[G++])<<6|63&z[G++])-65536;q[Re++]=String.fromCharCode(55296+(Fe>>10)),q[Re++]=String.fromCharCode(56320+(1023&Fe))}else{const et=z[G++],Q=z[G++];q[Re++]=String.fromCharCode((15&se)<<12|(63&et)<<6|63&Q)}}return q.join("")}(this.decodeStringToByteArray(z,q))},decodeStringToByteArray(z,q){this.init_();const G=q?this.charToByteMapWebSafe_:this.charToByteMap_,Re=[];for(let se=0;se<z.length;){const et=G[z.charAt(se++)],be=se<z.length?G[z.charAt(se)]:0;++se;const qe=se<z.length?G[z.charAt(se)]:64;++se;const Ke=se<z.length?G[z.charAt(se)]:64;if(++se,null==et||null==be||null==qe||null==Ke)throw Error();Re.push(et<<2|be>>4),64!==qe&&(Re.push(be<<4&240|qe>>2),64!==Ke&&Re.push(qe<<6&192|Ke))}return Re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},me=function(z){return function(z){const q=ie(z);return de.encodeByteArray(q,!0)}(z).replace(/\./g,"")},ne=function(z){try{return de.decodeString(z,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function L(z,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return q}for(const G in q)!q.hasOwnProperty(G)||!ee(G)||(z[G]=L(z[G],q[G]));return z}function ee(z){return"__proto__"!==z}class K{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,G)=>{this.resolve=q,this.reject=G})}wrapCallback(q){return(G,Re)=>{G?this.reject(G):this.resolve(Re),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(G):q(G,Re))}}}function ae(z,q){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Re=q||"demo-project",se=z.iat||0,et=z.sub||z.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Q=Object.assign({iss:`https://securetoken.google.com/${Re}`,aud:Re,iat:se,exp:se+3600,auth_time:se,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},z);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(Q)),""].join(".")}function Oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function J(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function Te(){return"object"==typeof self&&self.self===self}function Se(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){return Oe().indexOf("Electron/")>=0}function nt(){const z=Oe();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function ze(){return Oe().indexOf("MSAppHost/")>=0}function ye(){return!J()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gt(){return"object"==typeof indexedDB}function le(){return new Promise((z,q)=>{try{let G=!0;const Re="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Re);se.onsuccess=()=>{se.result.close(),G||self.indexedDB.deleteDatabase(Re),z(!0)},se.onupgradeneeded=()=>{G=!1},se.onerror=()=>{var et;q((null===(et=se.error)||void 0===et?void 0:et.message)||"")}}catch(G){q(G)}})}function we(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class je extends Error{constructor(q,G,Re){super(G),this.code=q,this.customData=Re,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ve.prototype.create)}}class ve{constructor(q,G,Re){this.service=q,this.serviceName=G,this.errors=Re}create(q,...G){const Re=G[0]||{},se=`${this.service}/${q}`,et=this.errors[q],Q=et?function(z,q){return z.replace(Yt,(G,Re)=>{const se=q[Re];return null!=se?String(se):`<${Re}?>`})}(et,Re):"Error";return new je(se,`${this.serviceName}: ${Q} (${se}).`,Re)}}const Yt=/\{\$([^}]+)}/g;function bt(z,q){return Object.prototype.hasOwnProperty.call(z,q)}function cn(z){for(const q in z)if(Object.prototype.hasOwnProperty.call(z,q))return!1;return!0}function _r(z,q){if(z===q)return!0;const G=Object.keys(z),Re=Object.keys(q);for(const se of G){if(!Re.includes(se))return!1;const et=z[se],Q=q[se];if(Qt(et)&&Qt(Q)){if(!_r(et,Q))return!1}else if(et!==Q)return!1}for(const se of Re)if(!G.includes(se))return!1;return!0}function Qt(z){return null!==z&&"object"==typeof z}function Kn(z){const q=[];for(const[G,Re]of Object.entries(z))Array.isArray(Re)?Re.forEach(se=>{q.push(encodeURIComponent(G)+"="+encodeURIComponent(se))}):q.push(encodeURIComponent(G)+"="+encodeURIComponent(Re));return q.length?"&"+q.join("&"):""}function Zn(z){const q={};return z.replace(/^\?/,"").split("&").forEach(Re=>{if(Re){const[se,et]=Re.split("=");q[decodeURIComponent(se)]=decodeURIComponent(et)}}),q}function xn(z){const q=z.indexOf("?");if(!q)return"";const G=z.indexOf("#",q);return z.substring(q,G>0?G:void 0)}function ur(z,q){const G=new vr(z,q);return G.subscribe.bind(G)}class vr{constructor(q,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{q(this)}).catch(Re=>{this.error(Re)})}next(q){this.forEachObserver(G=>{G.next(q)})}error(q){this.forEachObserver(G=>{G.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,G,Re){let se;if(void 0===q&&void 0===G&&void 0===Re)throw new Error("Missing Observer.");se=function(z,q){if("object"!=typeof z||null===z)return!1;for(const G of["next","error","complete"])if(G in z&&"function"==typeof z[G])return!0;return!1}(q)?q:{next:q,error:G,complete:Re},void 0===se.next&&(se.next=Un),void 0===se.error&&(se.error=Un),void 0===se.complete&&(se.complete=Un);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(Q){}}),this.observers.push(se),et}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,q)}sendOne(q,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{G(this.observers[q])}catch(Re){"undefined"!=typeof console&&console.error&&console.error(Re)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Un(){}function cr(z,q=1e3,G=2){const Re=q*Math.pow(G,z),se=Math.round(.5*Re*(Math.random()-.5)*2);return Math.min(144e5,Re+se)}function Fr(z){return z&&z._delegate?z._delegate:z}},9079:(ut,Me,M)=>{"use strict";M.d(Me,{Gb:()=>f.Gb});var f=M(3488)},2329:(ut,Me,M)=>{"use strict";M.d(Me,{Mq:()=>f.getApp,C6:()=>f.getApps,ZF:()=>f.initializeApp,KN:()=>f.registerVersion});var f=M(8026);(0,f.registerVersion)("firebase","9.6.3","app")},7841:(ut,Me,M)=>{"use strict";M.d(Me,{Z:()=>f.Z});var f=M(3394);f.Z.registerVersion("firebase","9.6.3","app-compat")},4828:(ut,Me,M)=>{"use strict";M.r(Me);var f=M(8239),V=M(3394),x=M(7379),ie=M(3854),Ce=(M(8026),M(5422),M(3910));function me(){return window}function L(){return(L=(0,f.Z)(function*(Z,B,H){var ge;const{BuildInfo:Ze}=me();(0,x.ap)(B.sessionId,"AuthEvent did not contain a session ID");const yt=yield Te(B.sessionId),Mt={};return(0,x.aq)()?Mt.ibi=Ze.packageName:(0,x.ar)()?Mt.apn=Ze.packageName:(0,x.as)(Z,"operation-not-supported-in-this-environment"),Ze.displayName&&(Mt.appDisplayName=Ze.displayName),Mt.sessionId=yt,(0,x.at)(Z,H,B.type,void 0,null!==(ge=B.eventId)&&void 0!==ge?ge:void 0,Mt)})).apply(this,arguments)}function K(){return(K=(0,f.Z)(function*(Z){const{BuildInfo:B}=me(),H={};(0,x.aq)()?H.iosBundleId=B.packageName:(0,x.ar)()?H.androidPackageName=B.packageName:(0,x.as)(Z,"operation-not-supported-in-this-environment"),yield(0,x.au)(Z,H)})).apply(this,arguments)}function _e(){return(_e=(0,f.Z)(function*(Z,B,H){const{cordova:ge}=me();let Ze=()=>{};try{yield new Promise((yt,Mt)=>{let Ft=null;function On(){var Jt;yt();const Lr=null===(Jt=ge.plugins.browsertab)||void 0===Jt?void 0:Jt.close;"function"==typeof Lr&&Lr(),"function"==typeof(null==H?void 0:H.close)&&H.close()}function wn(){Ft||(Ft=window.setTimeout(()=>{Mt((0,x.av)(Z,"redirect-cancelled-by-user"))},2e3))}function Yn(){"visible"===(null==document?void 0:document.visibilityState)&&wn()}B.addPassiveListener(On),document.addEventListener("resume",wn,!1),(0,x.ar)()&&document.addEventListener("visibilitychange",Yn,!1),Ze=()=>{B.removePassiveListener(On),document.removeEventListener("resume",wn,!1),document.removeEventListener("visibilitychange",Yn,!1),Ft&&window.clearTimeout(Ft)}})}finally{Ze()}})).apply(this,arguments)}function Te(Z){return Se.apply(this,arguments)}function Se(){return(Se=(0,f.Z)(function*(Z){const B=fe(Z),H=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(H)).map(Ze=>Ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function fe(Z){if((0,x.ap)(/[0-9a-zA-Z]+/.test(Z),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Z);const B=new ArrayBuffer(Z.length),H=new Uint8Array(B);for(let ge=0;ge<Z.length;ge++)H[ge]=Z.charCodeAt(ge);return H}class nt extends x.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(B)),super.onEvent(B)}initialized(){var B=this;return(0,f.Z)(function*(){yield B.initPromise})()}}function ye(Z){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,f.Z)(function*(Z){const B=yield he()._get(Ie(Z));return B&&(yield he()._remove(Ie(Z))),B})).apply(this,arguments)}function we(){const Z=[],B="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const ge=Math.floor(Math.random()*B.length);Z.push(B.charAt(ge))}return Z.join("")}function he(){return(0,x.ax)(x.b)}function Ie(Z){return(0,x.ay)("authEvent",Z.config.apiKey,Z.name)}function at(Z){if(!(null==Z?void 0:Z.includes("?")))return{};const[B,...H]=Z.split("?");return(0,ie.zd)(H.join("?"))}function Ot(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,x.av)("no-auth-event")}}function bt(){var Z;return(null===(Z=null==self?void 0:self.location)||void 0===Z?void 0:Z.protocol)||null}function cn(Z=(0,ie.z$)()){return!("file:"!==bt()&&"ionic:"!==bt()||!Z.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zn(){try{const Z=self.localStorage,B=x.aG();if(Z)return Z.setItem(B,"1"),Z.removeItem(B),!function(Z=(0,ie.z$)()){return(0,ie.w1)()&&11===(null==document?void 0:document.documentMode)||function(Z=(0,ie.z$)()){return/Edge\/\d+/.test(Z)}(Z)}()||(0,ie.hl)()}catch(Z){return xn()&&(0,ie.hl)()}return!1}function xn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return("http:"===bt()||"https:"===bt()||(0,ie.ru)()||cn())&&!((0,ie.b$)()||(0,ie.UG)())&&Zn()&&!xn()}function ur(){return cn()&&"undefined"!=typeof document}function tr(){return(tr=(0,f.Z)(function*(){return!!ur()&&new Promise(Z=>{const B=setTimeout(()=>{Z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(B),Z(!0)})})})).apply(this,arguments)}const At={LOCAL:"local",NONE:"none",SESSION:"session"},Un=x.aw,lr="persistence";function Le(Z){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,f.Z)(function*(Z){yield Z._initializationPromise;const B=un(),H=x.ay(lr,Z.config.apiKey,Z.name);(null==B?void 0:B.sessionStorage)&&B.sessionStorage.setItem(H,Z._getPersistence())})).apply(this,arguments)}function un(){return"undefined"!=typeof window?window:null}const zt=x.aw;class rt{constructor(){this.browserResolver=x.ax(x.k),this.cordovaResolver=x.ax(class{constructor(){this._redirectPersistence=x.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x.aA}_initialize(B){var H=this;return(0,f.Z)(function*(){const ge=B._key();let Ze=H.eventManagers.get(ge);return Ze||(Ze=new nt(B),H.eventManagers.set(ge,Ze),H.attachCallbackListeners(B,Ze)),Ze})()}_openPopup(B){(0,x.as)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,H,ge,Ze){var yt=this;return(0,f.Z)(function*(){!function(Z){var B,H,ge,Ze,yt,Mt,Ft,On,wn,Yn;const Jt=me();(0,x.aw)("function"==typeof(null===(B=null==Jt?void 0:Jt.universalLinks)||void 0===B?void 0:B.subscribe),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,x.aw)(void 0!==(null===(H=null==Jt?void 0:Jt.BuildInfo)||void 0===H?void 0:H.packageName),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,x.aw)("function"==typeof(null===(yt=null===(Ze=null===(ge=null==Jt?void 0:Jt.cordova)||void 0===ge?void 0:ge.plugins)||void 0===Ze?void 0:Ze.browsertab)||void 0===yt?void 0:yt.openUrl),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.aw)("function"==typeof(null===(On=null===(Ft=null===(Mt=null==Jt?void 0:Jt.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===Ft?void 0:Ft.browsertab)||void 0===On?void 0:On.isAvailable),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.aw)("function"==typeof(null===(Yn=null===(wn=null==Jt?void 0:Jt.cordova)||void 0===wn?void 0:wn.InAppBrowser)||void 0===Yn?void 0:Yn.open),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const Mt=yield yt._initialize(B);yield Mt.initialized(),Mt.resetRedirect(),(0,x.aB)(),yield yt._originValidation(B);const Ft=function(Z,B,H=null){return{type:B,eventId:H,urlResponse:null,sessionId:we(),postBody:null,tenantId:Z.tenantId,error:(0,x.av)(Z,"no-auth-event")}}(B,ge,Ze);yield function(Z,B){return he()._set(Ie(Z),B)}(B,Ft);const On=yield function(Z,B,H){return L.apply(this,arguments)}(B,Ft,H),wn=yield function(Z){const{cordova:B}=me();return new Promise(H=>{B.plugins.browsertab.isAvailable(ge=>{let Ze=null;ge?B.plugins.browsertab.openUrl(Z):Ze=B.InAppBrowser.open(Z,(0,x.ao)()?"_blank":"_system","location=yes"),H(Ze)})})}(On);return function(Z,B,H){return _e.apply(this,arguments)}(B,Mt,wn)})()}_isIframeWebStorageSupported(B,H){throw new Error("Method not implemented.")}_originValidation(B){const H=B._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function(Z){return K.apply(this,arguments)}(B)),this.originValidationPromises[H]}attachCallbackListeners(B,H){const{universalLinks:ge,handleOpenURL:Ze,BuildInfo:yt}=me(),Mt=setTimeout((0,f.Z)(function*(){yield ye(B),H.onEvent(Ot())}),500),Ft=function(){var Yn=(0,f.Z)(function*(Jt){clearTimeout(Mt);const Lr=yield ye(B);let Tn=null;Lr&&(null==Jt?void 0:Jt.url)&&(Tn=function(Z,B){var H,ge;const Ze=function(Z){const B=at(Z),H=B.link?decodeURIComponent(B.link):void 0,ge=at(H).link,Ze=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return at(Ze).link||Ze||ge||H||Z}(B);if(Ze.includes("/__/auth/callback")){const yt=at(Ze),Mt=yt.firebaseError?function(Z){try{return JSON.parse(Z)}catch(B){return null}}(decodeURIComponent(yt.firebaseError)):null,Ft=null===(ge=null===(H=null==Mt?void 0:Mt.code)||void 0===H?void 0:H.split("auth/"))||void 0===ge?void 0:ge[1],On=Ft?(0,x.av)(Ft):null;return On?{type:Z.type,eventId:Z.eventId,tenantId:Z.tenantId,error:On,urlResponse:null,sessionId:null,postBody:null}:{type:Z.type,eventId:Z.eventId,tenantId:Z.tenantId,sessionId:Z.sessionId,urlResponse:Ze,postBody:null}}return null}(Lr,Jt.url)),H.onEvent(Tn||Ot())});return function(Lr){return Yn.apply(this,arguments)}}();void 0!==ge&&"function"==typeof ge.subscribe&&ge.subscribe(null,Ft);const On=Ze,wn=`${yt.packageName.toLowerCase()}://`;me().handleOpenURL=function(){var Yn=(0,f.Z)(function*(Jt){if(Jt.toLowerCase().startsWith(wn)&&Ft({url:Jt}),"function"==typeof On)try{On(Jt)}catch(Lr){console.error(Lr)}});return function(Jt){return Yn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=x.a,this._completeRedirectFn=x.aA}_initialize(B){var H=this;return(0,f.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,H,ge,Ze){var yt=this;return(0,f.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openPopup(B,H,ge,Ze)})()}_openRedirect(B,H,ge,Ze){var yt=this;return(0,f.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openRedirect(B,H,ge,Ze)})()}_isIframeWebStorageSupported(B,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,H)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return ur()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,f.Z)(function*(){if(B.underlyingResolver)return;const H=yield function(){return tr.apply(this,arguments)}();B.underlyingResolver=H?B.cordovaResolver:B.browserResolver})()}}function Xe(Z){return Z.unwrap()}function Ni(Z){return nn(Z)}function nn(Z){const{_tokenResponse:B}=Z instanceof ie.ZR?Z.customData:Z;if(!B)return null;if(!(Z instanceof ie.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return x.P.credentialFromResult(Z);const H=B.providerId;if(!H||H===x.o.PASSWORD)return null;let ge;switch(H){case x.o.GOOGLE:ge=x.N;break;case x.o.FACEBOOK:ge=x.M;break;case x.o.GITHUB:ge=x.Q;break;case x.o.TWITTER:ge=x.V;break;default:const{oauthIdToken:Ze,oauthAccessToken:yt,oauthTokenSecret:Mt,pendingToken:Ft,nonce:On}=B;return yt||Mt||Ze||Ft?Ft?H.startsWith("saml.")?x.aJ._create(H,Ft):x.I._fromParams({providerId:H,signInMethod:H,pendingToken:Ft,idToken:Ze,accessToken:yt}):new x.T(H).credential({idToken:Ze,accessToken:yt,rawNonce:On}):null}return Z instanceof ie.ZR?ge.credentialFromError(Z):ge.credentialFromResult(Z)}function Zt(Z,B){return B.catch(H=>{throw H instanceof ie.ZR&&function(Z,B){var H;const ge=null===(H=B.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===B.code)B.resolver=new q(Z,x.am(Z,B));else if(ge){const Ze=nn(B),yt=B;Ze&&(yt.credential=Ze,yt.tenantId=ge.tenantId||void 0,yt.email=ge.email||void 0,yt.phoneNumber=ge.phoneNumber||void 0)}}(Z,H),H}).then(H=>{const Ze=H.user;return{operationType:H.operationType,credential:Ni(H),additionalUserInfo:x.ak(H),user:G.getOrCreate(Ze)}})}function Fr(Z,B){return z.apply(this,arguments)}function z(){return(z=(0,f.Z)(function*(Z,B){const H=yield B;return{verificationId:H.verificationId,confirm:ge=>Zt(Z,H.confirm(ge))}})).apply(this,arguments)}class q{constructor(B,H){this.resolver=H,this.auth=B.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return Zt(Xe(this.auth),this.resolver.resolveSignIn(B))}}class G{constructor(B){this._delegate=B,this.multiFactor=x.an(B)}static getOrCreate(B){return G.USER_MAP.has(B)||G.USER_MAP.set(B,new G(B)),G.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var H=this;return(0,f.Z)(function*(){return Zt(H.auth,x.Y(H._delegate,B))})()}linkWithPhoneNumber(B,H){var ge=this;return(0,f.Z)(function*(){return Fr(ge.auth,x.l(ge._delegate,B,H))})()}linkWithPopup(B){var H=this;return(0,f.Z)(function*(){return Zt(H.auth,x.d(H._delegate,B,rt))})()}linkWithRedirect(B){var H=this;return(0,f.Z)(function*(){return yield Le(x.aC(H.auth)),x.g(H._delegate,B,rt)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var H=this;return(0,f.Z)(function*(){return Zt(H.auth,x.Z(H._delegate,B))})()}reauthenticateWithPhoneNumber(B,H){return Fr(this.auth,x.r(this._delegate,B,H))}reauthenticateWithPopup(B){return Zt(this.auth,x.e(this._delegate,B,rt))}reauthenticateWithRedirect(B){var H=this;return(0,f.Z)(function*(){return yield Le(x.aC(H.auth)),x.h(H._delegate,B,rt)})()}sendEmailVerification(B){return x.aa(this._delegate,B)}unlink(B){var H=this;return(0,f.Z)(function*(){return yield x.aj(H._delegate,B),H})()}updateEmail(B){return x.af(this._delegate,B)}updatePassword(B){return x.ag(this._delegate,B)}updatePhoneNumber(B){return x.u(this._delegate,B)}updateProfile(B){return x.ae(this._delegate,B)}verifyBeforeUpdateEmail(B,H){return x.ab(this._delegate,B,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}G.USER_MAP=new WeakMap;const Re=x.aw;let se=(()=>{class Z{constructor(H,ge){if(this.app=H,ge.isInitialized())return this._delegate=ge.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ze}=H.options;Re(Ze,"invalid-api-key",{appName:H.name}),Re(Ze,"invalid-api-key",{appName:H.name});const yt="undefined"!=typeof window?rt:void 0;this._delegate=ge.initialize({options:{persistence:Q(Ze,H.name),popupRedirectResolver:yt}}),this._delegate._updateErrorMap(x.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?G.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,ge){x.E(this._delegate,H,ge)}applyActionCode(H){return x.a1(this._delegate,H)}checkActionCode(H){return x.a2(this._delegate,H)}confirmPasswordReset(H,ge){return x.a0(this._delegate,H,ge)}createUserWithEmailAndPassword(H,ge){var Ze=this;return(0,f.Z)(function*(){return Zt(Ze._delegate,x.a4(Ze._delegate,H,ge))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return x.a9(this._delegate,H)}isSignInWithEmailLink(H){return x.a7(this._delegate,H)}getRedirectResult(){var H=this;return(0,f.Z)(function*(){Re(Vn(),H._delegate,"operation-not-supported-in-this-environment");const ge=yield x.j(H._delegate,rt);return ge?Zt(H._delegate,Promise.resolve(ge)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function(Z,B){(0,x.aC)(Z)._logFramework(B)}(this._delegate,H)}onAuthStateChanged(H,ge,Ze){const{next:yt,error:Mt,complete:Ft}=et(H,ge,Ze);return this._delegate.onAuthStateChanged(yt,Mt,Ft)}onIdTokenChanged(H,ge,Ze){const{next:yt,error:Mt,complete:Ft}=et(H,ge,Ze);return this._delegate.onIdTokenChanged(yt,Mt,Ft)}sendSignInLinkToEmail(H,ge){return x.a6(this._delegate,H,ge)}sendPasswordResetEmail(H,ge){return x.$(this._delegate,H,ge||void 0)}setPersistence(H){var ge=this;return(0,f.Z)(function*(){let Ze;switch(function(Z,B){Un(Object.values(At).includes(B),Z,"invalid-persistence-type"),(0,ie.b$)()?Un(B!==At.SESSION,Z,"unsupported-persistence-type"):(0,ie.UG)()?Un(B===At.NONE,Z,"unsupported-persistence-type"):xn()?Un(B===At.NONE||B===At.LOCAL&&(0,ie.hl)(),Z,"unsupported-persistence-type"):Un(B===At.NONE||Zn(),Z,"unsupported-persistence-type")}(ge._delegate,H),H){case At.SESSION:Ze=x.a;break;case At.LOCAL:Ze=(yield x.ax(x.i)._isAvailable())?x.i:x.b;break;case At.NONE:Ze=x.K;break;default:return x.as("argument-error",{appName:ge._delegate.name})}return ge._delegate.setPersistence(Ze)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return Zt(this._delegate,x.W(this._delegate))}signInWithCredential(H){return Zt(this._delegate,x.X(this._delegate,H))}signInWithCustomToken(H){return Zt(this._delegate,x._(this._delegate,H))}signInWithEmailAndPassword(H,ge){return Zt(this._delegate,x.a5(this._delegate,H,ge))}signInWithEmailLink(H,ge){return Zt(this._delegate,x.a8(this._delegate,H,ge))}signInWithPhoneNumber(H,ge){return Fr(this._delegate,x.s(this._delegate,H,ge))}signInWithPopup(H){var ge=this;return(0,f.Z)(function*(){return Re(Vn(),ge._delegate,"operation-not-supported-in-this-environment"),Zt(ge._delegate,x.c(ge._delegate,H,rt))})()}signInWithRedirect(H){var ge=this;return(0,f.Z)(function*(){return Re(Vn(),ge._delegate,"operation-not-supported-in-this-environment"),yield Le(ge._delegate),x.f(ge._delegate,H,rt)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return x.a3(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Z.Persistence=At,Z})();function et(Z,B,H){let ge=Z;"function"!=typeof Z&&({next:ge,error:B,complete:H}=Z);const Ze=ge;return{next:Mt=>Ze(Mt&&G.getOrCreate(Mt)),error:B,complete:H}}function Q(Z,B){const H=function(Z,B){const H=un();if(!(null==H?void 0:H.sessionStorage))return[];const ge=x.ay(lr,Z,B);switch(H.sessionStorage.getItem(ge)){case At.NONE:return[x.K];case At.LOCAL:return[x.i,x.a];case At.SESSION:return[x.a];default:return[]}}(Z,B);if("undefined"!=typeof self&&!H.includes(x.i)&&H.push(x.i),"undefined"!=typeof window)for(const ge of[x.b,x.a])H.includes(ge)||H.push(ge);return H.includes(x.K)||H.push(x.K),H}class be{constructor(){this.providerId="phone",this._delegate=new x.P(Xe(V.Z.auth()))}static credential(B,H){return x.P.credential(B,H)}verifyPhoneNumber(B,H){return this._delegate.verifyPhoneNumber(B,H)}unwrap(){return this._delegate}}be.PHONE_SIGN_IN_METHOD=x.P.PHONE_SIGN_IN_METHOD,be.PROVIDER_ID=x.P.PROVIDER_ID;const Fe=x.aw;var Z;(Z=V.Z).INTERNAL.registerComponent(new Ce.wA("auth-compat",B=>{const H=B.getProvider("app-compat").getImmediate(),ge=B.getProvider("auth");return new se(H,ge)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:x.A.EMAIL_SIGNIN,PASSWORD_RESET:x.A.PASSWORD_RESET,RECOVER_EMAIL:x.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:x.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:x.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:x.A.VERIFY_EMAIL}},EmailAuthProvider:x.L,FacebookAuthProvider:x.M,GithubAuthProvider:x.Q,GoogleAuthProvider:x.N,OAuthProvider:x.T,SAMLAuthProvider:x.U,PhoneAuthProvider:be,PhoneMultiFactorGenerator:x.m,RecaptchaVerifier:class{constructor(B,H,ge=V.Z.app()){var Ze;Fe(null===(Ze=ge.options)||void 0===Ze?void 0:Ze.apiKey,"invalid-api-key",{appName:ge.name}),this._delegate=new x.R(B,H,ge.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:x.V,Auth:se,AuthCredential:x.G,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Z.registerVersion("@firebase/auth-compat","0.2.5")},6676:function(ut,Me){!function(M){"use strict";function f(J){return Array.prototype.slice.call(J)}function V(J){return new Promise(function(Te,Se){J.onsuccess=function(){Te(J.result)},J.onerror=function(){Se(J.error)}})}function x(J,Te,Se){var fe,ke=new Promise(function(nt,ze){V(fe=J[Te].apply(J,Se)).then(nt,ze)});return ke.request=fe,ke}function ie(J,Te,Se){var fe=x(J,Te,Se);return fe.then(function(ke){if(ke)return new F(ke,fe.request)})}function pe(J,Te,Se){Se.forEach(function(fe){Object.defineProperty(J.prototype,fe,{get:function(){return this[Te][fe]},set:function(ke){this[Te][fe]=ke}})})}function de(J,Te,Se,fe){fe.forEach(function(ke){ke in Se.prototype&&(J.prototype[ke]=function(){return x(this[Te],ke,arguments)})})}function Ce(J,Te,Se,fe){fe.forEach(function(ke){ke in Se.prototype&&(J.prototype[ke]=function(){return this[Te][ke].apply(this[Te],arguments)})})}function me(J,Te,Se,fe){fe.forEach(function(ke){ke in Se.prototype&&(J.prototype[ke]=function(){return ie(this[Te],ke,arguments)})})}function ne(J){this._index=J}function F(J,Te){this._cursor=J,this._request=Te}function L(J){this._store=J}function ee(J){this._tx=J,this.complete=new Promise(function(Te,Se){J.oncomplete=function(){Te()},J.onerror=function(){Se(J.error)},J.onabort=function(){Se(J.error)}})}function K(J,Te,Se){this._db=J,this.oldVersion=Te,this.transaction=new ee(Se)}function ae(J){this._db=J}pe(ne,"_index",["name","keyPath","multiEntry","unique"]),de(ne,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),me(ne,"_index",IDBIndex,["openCursor","openKeyCursor"]),pe(F,"_cursor",["direction","key","primaryKey","value"]),de(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(J){J in IDBCursor.prototype&&(F.prototype[J]=function(){var Te=this,Se=arguments;return Promise.resolve().then(function(){return Te._cursor[J].apply(Te._cursor,Se),V(Te._request).then(function(fe){if(fe)return new F(fe,Te._request)})})})}),L.prototype.createIndex=function(){return new ne(this._store.createIndex.apply(this._store,arguments))},L.prototype.index=function(){return new ne(this._store.index.apply(this._store,arguments))},pe(L,"_store",["name","keyPath","indexNames","autoIncrement"]),de(L,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),me(L,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Ce(L,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new L(this._tx.objectStore.apply(this._tx,arguments))},pe(ee,"_tx",["objectStoreNames","mode"]),Ce(ee,"_tx",IDBTransaction,["abort"]),K.prototype.createObjectStore=function(){return new L(this._db.createObjectStore.apply(this._db,arguments))},pe(K,"_db",["name","version","objectStoreNames"]),Ce(K,"_db",IDBDatabase,["deleteObjectStore","close"]),ae.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},pe(ae,"_db",["name","version","objectStoreNames"]),Ce(ae,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(J){[L,ne].forEach(function(Te){J in Te.prototype&&(Te.prototype[J.replace("open","iterate")]=function(){var Se=f(arguments),fe=Se[Se.length-1],ke=this._store||this._index,nt=ke[J].apply(ke,Se.slice(0,-1));nt.onsuccess=function(){fe(nt.result)}})})}),[ne,L].forEach(function(J){J.prototype.getAll||(J.prototype.getAll=function(Te,Se){var fe=this,ke=[];return new Promise(function(nt){fe.iterateCursor(Te,function(ze){ze?(ke.push(ze.value),void 0===Se||ke.length!=Se?ze.continue():nt(ke)):nt(ke)})})})}),M.openDb=function(J,Te,Se){var fe=x(indexedDB,"open",[J,Te]),ke=fe.request;return ke&&(ke.onupgradeneeded=function(nt){Se&&Se(new K(ke.result,nt.oldVersion,ke.transaction))}),fe.then(function(nt){return new ae(nt)})},M.deleteDb=function(J){return x(indexedDB,"deleteDatabase",[J])},Object.defineProperty(M,"__esModule",{value:!0})}(Me)},7574:(ut,Me,M)=>{"use strict";M.d(Me,{y:()=>L});var f=M(7393),x=M(9181),ie=M(6490),de=M(6554),Ce=M(4487);var F=M(2494);let L=(()=>{class K{constructor(Oe){this._isScalar=!1,Oe&&(this._subscribe=Oe)}lift(Oe){const _e=new K;return _e.source=this,_e.operator=Oe,_e}subscribe(Oe,_e,J){const{operator:Te}=this,Se=function(K,ae,Oe){if(K){if(K instanceof f.L)return K;if(K[x.b])return K[x.b]()}return K||ae||Oe?new f.L(K,ae,Oe):new f.L(ie.c)}(Oe,_e,J);if(Se.add(Te?Te.call(Se,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),F.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(_e){F.v.useDeprecatedSynchronousErrorHandling&&(Oe.syncErrorThrown=!0,Oe.syncErrorValue=_e),function(K){for(;K;){const{closed:ae,destination:Oe,isStopped:_e}=K;if(ae||_e)return!1;K=Oe&&Oe instanceof f.L?Oe:null}return!0}(Oe)?Oe.error(_e):console.warn(_e)}}forEach(Oe,_e){return new(_e=ee(_e))((J,Te)=>{let Se;Se=this.subscribe(fe=>{try{Oe(fe)}catch(ke){Te(ke),Se&&Se.unsubscribe()}},Te,J)})}_subscribe(Oe){const{source:_e}=this;return _e&&_e.subscribe(Oe)}[de.L](){return this}pipe(...Oe){return 0===Oe.length?this:function(K){return 0===K.length?Ce.y:1===K.length?K[0]:function(Oe){return K.reduce((_e,J)=>J(_e),Oe)}}(Oe)(this)}toPromise(Oe){return new(Oe=ee(Oe))((_e,J)=>{let Te;this.subscribe(Se=>Te=Se,Se=>J(Se),()=>_e(Te))})}}return K.create=ae=>new K(ae),K})();function ee(K){if(K||(K=F.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(ut,Me,M)=>{"use strict";M.d(Me,{c:()=>x});var f=M(2494),V=M(4449);const x={closed:!0,next(ie){},error(ie){if(f.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,V.z)(ie)},complete(){}}},9765:(ut,Me,M)=>{"use strict";M.d(Me,{Yc:()=>Ce,xQ:()=>me});var f=M(7574),V=M(7393),x=M(5319),ie=M(7971),pe=M(8858),de=M(9181);class Ce extends V.L{constructor(L){super(L),this.destination=L}}let me=(()=>{class F extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[de.b](){return new Ce(this)}lift(ee){const K=new ne(this,this);return K.operator=ee,K}next(ee){if(this.closed)throw new ie.N;if(!this.isStopped){const{observers:K}=this,ae=K.length,Oe=K.slice();for(let _e=0;_e<ae;_e++)Oe[_e].next(ee)}}error(ee){if(this.closed)throw new ie.N;this.hasError=!0,this.thrownError=ee,this.isStopped=!0;const{observers:K}=this,ae=K.length,Oe=K.slice();for(let _e=0;_e<ae;_e++)Oe[_e].error(ee);this.observers.length=0}complete(){if(this.closed)throw new ie.N;this.isStopped=!0;const{observers:ee}=this,K=ee.length,ae=ee.slice();for(let Oe=0;Oe<K;Oe++)ae[Oe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ee){if(this.closed)throw new ie.N;return super._trySubscribe(ee)}_subscribe(ee){if(this.closed)throw new ie.N;return this.hasError?(ee.error(this.thrownError),x.w.EMPTY):this.isStopped?(ee.complete(),x.w.EMPTY):(this.observers.push(ee),new pe.W(this,ee))}asObservable(){const ee=new f.y;return ee.source=this,ee}}return F.create=(L,ee)=>new ne(L,ee),F})();class ne extends me{constructor(L,ee){super(),this.destination=L,this.source=ee}next(L){const{destination:ee}=this;ee&&ee.next&&ee.next(L)}error(L){const{destination:ee}=this;ee&&ee.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:ee}=this;return ee?this.source.subscribe(L):x.w.EMPTY}}},8858:(ut,Me,M)=>{"use strict";M.d(Me,{W:()=>V});var f=M(5319);class V extends f.w{constructor(ie,pe){super(),this.subject=ie,this.subscriber=pe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ie=this.subject,pe=ie.observers;if(this.subject=null,!pe||0===pe.length||ie.isStopped||ie.closed)return;const de=pe.indexOf(this.subscriber);-1!==de&&pe.splice(de,1)}}},7393:(ut,Me,M)=>{"use strict";M.d(Me,{L:()=>Ce});var f=M(9105),V=M(6490),x=M(5319),ie=M(9181),pe=M(2494),de=M(4449);class Ce extends x.w{constructor(F,L,ee){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=V.c;break;case 1:if(!F){this.destination=V.c;break}if("object"==typeof F){F instanceof Ce?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new me(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new me(this,F,L,ee)}}[ie.b](){return this}static create(F,L,ee){const K=new Ce(F,L,ee);return K.syncErrorThrowable=!1,K}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class me extends Ce{constructor(F,L,ee,K){super(),this._parentSubscriber=F;let ae,Oe=this;(0,f.m)(L)?ae=L:L&&(ae=L.next,ee=L.error,K=L.complete,L!==V.c&&(Oe=Object.create(L),(0,f.m)(Oe.unsubscribe)&&this.add(Oe.unsubscribe.bind(Oe)),Oe.unsubscribe=this.unsubscribe.bind(this))),this._context=Oe,this._next=ae,this._error=ee,this._complete=K}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;pe.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:ee}=pe.v;if(this._error)ee&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(L.syncErrorThrowable)ee?(L.syncErrorValue=F,L.syncErrorThrown=!0):(0,de.z)(F),this.unsubscribe();else{if(this.unsubscribe(),ee)throw F;(0,de.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const L=()=>this._complete.call(this._context);pe.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,L){try{F.call(this._context,L)}catch(ee){if(this.unsubscribe(),pe.v.useDeprecatedSynchronousErrorHandling)throw ee;(0,de.z)(ee)}}__tryOrSetError(F,L,ee){if(!pe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,ee)}catch(K){return pe.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=K,F.syncErrorThrown=!0,!0):((0,de.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(ut,Me,M)=>{"use strict";M.d(Me,{w:()=>de});var f=M(9796),V=M(1555),x=M(9105);const pe=(()=>{function me(ne){return Error.call(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((F,L)=>`${L+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne,this}return me.prototype=Object.create(Error.prototype),me})();class de{constructor(ne){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ne&&(this._ctorUnsubscribe=!0,this._unsubscribe=ne)}unsubscribe(){let ne;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:L,_unsubscribe:ee,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof de)F.remove(this);else if(null!==F)for(let ae=0;ae<F.length;++ae)F[ae].remove(this);if((0,x.m)(ee)){L&&(this._unsubscribe=void 0);try{ee.call(this)}catch(ae){ne=ae instanceof pe?Ce(ae.errors):[ae]}}if((0,f.k)(K)){let ae=-1,Oe=K.length;for(;++ae<Oe;){const _e=K[ae];if((0,V.K)(_e))try{_e.unsubscribe()}catch(J){ne=ne||[],J instanceof pe?ne=ne.concat(Ce(J.errors)):ne.push(J)}}}if(ne)throw new pe(ne)}add(ne){let F=ne;if(!ne)return de.EMPTY;switch(typeof ne){case"function":F=new de(ne);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof de)){const K=F;F=new de,F._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+ne+" added to Subscription.")}let{_parentOrParents:L}=F;if(null===L)F._parentOrParents=this;else if(L instanceof de){if(L===this)return F;F._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return F;L.push(this)}const ee=this._subscriptions;return null===ee?this._subscriptions=[F]:ee.push(F),F}remove(ne){const F=this._subscriptions;if(F){const L=F.indexOf(ne);-1!==L&&F.splice(L,1)}}}var me;function Ce(me){return me.reduce((ne,F)=>ne.concat(F instanceof pe?F.errors:F),[])}de.EMPTY=((me=new de).closed=!0,me)},2494:(ut,Me,M)=>{"use strict";M.d(Me,{v:()=>V});let f=!1;const V={Promise:void 0,set useDeprecatedSynchronousErrorHandling(x){if(x){const ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ie.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=x},get useDeprecatedSynchronousErrorHandling(){return f}}},5345:(ut,Me,M)=>{"use strict";M.d(Me,{IY:()=>ie,Ds:()=>de,ft:()=>me});var f=M(7393),V=M(7574),x=M(7444);class ie extends f.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class de extends f.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function me(ne,F){if(F.closed)return;if(ne instanceof V.y)return ne.subscribe(F);let L;try{L=(0,x.s)(ne)(F)}catch(ee){F.error(ee)}return L}},2441:(ut,Me,M)=>{"use strict";M.d(Me,{c:()=>pe,N:()=>de});var f=M(9765),V=M(7574),x=M(5319),ie=M(1307);class pe extends V.y{constructor(L,ee){super(),this.source=L,this.subjectFactory=ee,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new x.w,L.add(this.source.subscribe(new Ce(this.getSubject(),this))),L.closed&&(this._connection=null,L=x.w.EMPTY)),L}refCount(){return(0,ie.x)()(this)}}const de=(()=>{const F=pe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class Ce extends f.Yc{constructor(L,ee){super(L),this.connectable=ee}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const ee=L._connection;L._refCount=0,L._subject=null,L._connection=null,ee&&ee.unsubscribe()}}}},9193:(ut,Me,M)=>{"use strict";M.d(Me,{E:()=>V,c:()=>x});var f=M(7574);const V=new f.y(pe=>pe.complete());function x(pe){return pe?function(pe){return new f.y(de=>pe.schedule(()=>de.complete()))}(pe):V}},4402:(ut,Me,M)=>{"use strict";M.d(Me,{D:()=>Oe});var f=M(7574),V=M(7444),x=M(5319),ie=M(6554),Ce=M(4087),me=M(377),L=M(4072),ee=M(9489);function Oe(_e,J){return J?function(_e,J){if(null!=_e){if(function(_e){return _e&&"function"==typeof _e[ie.L]}(_e))return function(_e,J){return new f.y(Te=>{const Se=new x.w;return Se.add(J.schedule(()=>{const fe=_e[ie.L]();Se.add(fe.subscribe({next(ke){Se.add(J.schedule(()=>Te.next(ke)))},error(ke){Se.add(J.schedule(()=>Te.error(ke)))},complete(){Se.add(J.schedule(()=>Te.complete()))}}))})),Se})}(_e,J);if((0,L.t)(_e))return function(_e,J){return new f.y(Te=>{const Se=new x.w;return Se.add(J.schedule(()=>_e.then(fe=>{Se.add(J.schedule(()=>{Te.next(fe),Se.add(J.schedule(()=>Te.complete()))}))},fe=>{Se.add(J.schedule(()=>Te.error(fe)))}))),Se})}(_e,J);if((0,ee.z)(_e))return(0,Ce.r)(_e,J);if(function(_e){return _e&&"function"==typeof _e[me.hZ]}(_e)||"string"==typeof _e)return function(_e,J){if(!_e)throw new Error("Iterable cannot be null");return new f.y(Te=>{const Se=new x.w;let fe;return Se.add(()=>{fe&&"function"==typeof fe.return&&fe.return()}),Se.add(J.schedule(()=>{fe=_e[me.hZ](),Se.add(J.schedule(function(){if(Te.closed)return;let ke,nt;try{const ze=fe.next();ke=ze.value,nt=ze.done}catch(ze){return void Te.error(ze)}nt?Te.complete():(Te.next(ke),this.schedule())}))})),Se})}(_e,J)}throw new TypeError((null!==_e&&typeof _e||_e)+" is not observable")}(_e,J):_e instanceof f.y?_e:new f.y((0,V.s)(_e))}},6693:(ut,Me,M)=>{"use strict";M.d(Me,{n:()=>ie});var f=M(7574),V=M(5015),x=M(4087);function ie(pe,de){return de?(0,x.r)(pe,de):new f.y((0,V.V)(pe))}},6682:(ut,Me,M)=>{"use strict";M.d(Me,{T:()=>pe});var f=M(7574),V=M(4869),x=M(3282),ie=M(6693);function pe(...de){let Ce=Number.POSITIVE_INFINITY,me=null,ne=de[de.length-1];return(0,V.K)(ne)?(me=de.pop(),de.length>1&&"number"==typeof de[de.length-1]&&(Ce=de.pop())):"number"==typeof ne&&(Ce=de.pop()),null===me&&1===de.length&&de[0]instanceof f.y?de[0]:(0,x.J)(Ce)((0,ie.n)(de,me))}},5917:(ut,Me,M)=>{"use strict";M.d(Me,{of:()=>ie});var f=M(4869),V=M(6693),x=M(4087);function ie(...pe){let de=pe[pe.length-1];return(0,f.K)(de)?(pe.pop(),(0,x.r)(pe,de)):(0,V.n)(pe)}},8002:(ut,Me,M)=>{"use strict";M.d(Me,{U:()=>V});var f=M(7393);function V(pe,de){return function(me){if("function"!=typeof pe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return me.lift(new x(pe,de))}}class x{constructor(de,Ce){this.project=de,this.thisArg=Ce}call(de,Ce){return Ce.subscribe(new ie(de,this.project,this.thisArg))}}class ie extends f.L{constructor(de,Ce,me){super(de),this.project=Ce,this.count=0,this.thisArg=me||this}_next(de){let Ce;try{Ce=this.project.call(this.thisArg,de,this.count++)}catch(me){return void this.destination.error(me)}this.destination.next(Ce)}}},3282:(ut,Me,M)=>{"use strict";M.d(Me,{J:()=>x});var f=M(9773),V=M(4487);function x(ie=Number.POSITIVE_INFINITY){return(0,f.zg)(V.y,ie)}},9773:(ut,Me,M)=>{"use strict";M.d(Me,{zg:()=>ie});var f=M(8002),V=M(4402),x=M(5345);function ie(me,ne,F=Number.POSITIVE_INFINITY){return"function"==typeof ne?L=>L.pipe(ie((ee,K)=>(0,V.D)(me(ee,K)).pipe((0,f.U)((ae,Oe)=>ne(ee,ae,K,Oe))),F)):("number"==typeof ne&&(F=ne),L=>L.lift(new pe(me,F)))}class pe{constructor(ne,F=Number.POSITIVE_INFINITY){this.project=ne,this.concurrent=F}call(ne,F){return F.subscribe(new de(ne,this.project,this.concurrent))}}class de extends x.Ds{constructor(ne,F,L=Number.POSITIVE_INFINITY){super(ne),this.project=F,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ne){this.active<this.concurrent?this._tryNext(ne):this.buffer.push(ne)}_tryNext(ne){let F;const L=this.index++;try{F=this.project(ne,L)}catch(ee){return void this.destination.error(ee)}this.active++,this._innerSub(F)}_innerSub(ne){const F=new x.IY(this),L=this.destination;L.add(F);const ee=(0,x.ft)(ne,F);ee!==F&&L.add(ee)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ne){this.destination.next(ne)}notifyComplete(){const ne=this.buffer;this.active--,ne.length>0?this._next(ne.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(ut,Me,M)=>{"use strict";M.d(Me,{ht:()=>L,QV:()=>ne});var f=M(7393),V=M(9193),x=M(5917),ie=M(7574);class me{constructor(ae,Oe,_e){this.kind=ae,this.value=Oe,this.error=_e,this.hasValue="N"===ae}observe(ae){switch(this.kind){case"N":return ae.next&&ae.next(this.value);case"E":return ae.error&&ae.error(this.error);case"C":return ae.complete&&ae.complete()}}do(ae,Oe,_e){switch(this.kind){case"N":return ae&&ae(this.value);case"E":return Oe&&Oe(this.error);case"C":return _e&&_e()}}accept(ae,Oe,_e){return ae&&"function"==typeof ae.next?this.observe(ae):this.do(ae,Oe,_e)}toObservable(){switch(this.kind){case"N":return(0,x.of)(this.value);case"E":return K=this.error,new ie.y(Oe=>Oe.error(K));case"C":return(0,V.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(ae){return void 0!==ae?new me("N",ae):me.undefinedValueNotification}static createError(ae){return new me("E",void 0,ae)}static createComplete(){return me.completeNotification}}function ne(K,ae=0){return function(_e){return _e.lift(new F(K,ae))}}me.completeNotification=new me("C"),me.undefinedValueNotification=new me("N",void 0);class F{constructor(ae,Oe=0){this.scheduler=ae,this.delay=Oe}call(ae,Oe){return Oe.subscribe(new L(ae,this.scheduler,this.delay))}}class L extends f.L{constructor(ae,Oe,_e=0){super(ae),this.scheduler=Oe,this.delay=_e}static dispatch(ae){const{notification:Oe,destination:_e}=ae;Oe.observe(_e),this.unsubscribe()}scheduleMessage(ae){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new ee(ae,this.destination)))}_next(ae){this.scheduleMessage(me.createNext(ae))}_error(ae){this.scheduleMessage(me.createError(ae)),this.unsubscribe()}_complete(){this.scheduleMessage(me.createComplete()),this.unsubscribe()}}class ee{constructor(ae,Oe){this.notification=ae,this.destination=Oe}}},1307:(ut,Me,M)=>{"use strict";M.d(Me,{x:()=>V});var f=M(7393);function V(){return function(de){return de.lift(new x(de))}}class x{constructor(de){this.connectable=de}call(de,Ce){const{connectable:me}=this;me._refCount++;const ne=new ie(de,me),F=Ce.subscribe(ne);return ne.closed||(ne.connection=me.connect()),F}}class ie extends f.L{constructor(de,Ce){super(de),this.connectable=Ce}_unsubscribe(){const{connectable:de}=this;if(!de)return void(this.connection=null);this.connectable=null;const Ce=de._refCount;if(Ce<=0)return void(this.connection=null);if(de._refCount=Ce-1,Ce>1)return void(this.connection=null);const{connection:me}=this,ne=de._connection;this.connection=null,ne&&(!me||ne===me)&&ne.unsubscribe()}}},3101:(ut,Me,M)=>{"use strict";M.d(Me,{R:()=>J});var f=M(7574);let V=1;const x=Promise.resolve(),ie={};function pe(Se){return Se in ie&&(delete ie[Se],!0)}const de={setImmediate(Se){const fe=V++;return ie[fe]=!0,x.then(()=>pe(fe)&&Se()),fe},clearImmediate(Se){pe(Se)}};var me=M(6465),F=M(6102);const K=new class extends F.v{flush(fe){this.active=!0,this.scheduled=void 0;const{actions:ke}=this;let nt,ze=-1,Nt=ke.length;fe=fe||ke.shift();do{if(nt=fe.execute(fe.state,fe.delay))break}while(++ze<Nt&&(fe=ke.shift()));if(this.active=!1,nt){for(;++ze<Nt&&(fe=ke.shift());)fe.unsubscribe();throw nt}}}(class extends me.o{constructor(fe,ke){super(fe,ke),this.scheduler=fe,this.work=ke}requestAsyncId(fe,ke,nt=0){return null!==nt&&nt>0?super.requestAsyncId(fe,ke,nt):(fe.actions.push(this),fe.scheduled||(fe.scheduled=de.setImmediate(fe.flush.bind(fe,null))))}recycleAsyncId(fe,ke,nt=0){if(null!==nt&&nt>0||null===nt&&this.delay>0)return super.recycleAsyncId(fe,ke,nt);0===fe.actions.length&&(de.clearImmediate(ke),fe.scheduled=void 0)}});var ae=M(9796);class _e extends f.y{constructor(fe,ke=0,nt=K){var Se;super(),this.source=fe,this.delayTime=ke,this.scheduler=nt,(!(!(0,ae.k)(Se=ke)&&Se-parseFloat(Se)+1>=0)||ke<0)&&(this.delayTime=0),(!nt||"function"!=typeof nt.schedule)&&(this.scheduler=K)}static create(fe,ke=0,nt=K){return new _e(fe,ke,nt)}static dispatch(fe){const{source:ke,subscriber:nt}=fe;return this.add(ke.subscribe(nt))}_subscribe(fe){return this.scheduler.schedule(_e.dispatch,this.delayTime,{source:this.source,subscriber:fe})}}function J(Se,fe=0){return function(nt){return nt.lift(new Te(Se,fe))}}class Te{constructor(fe,ke){this.scheduler=fe,this.delay=ke}call(fe,ke){return new _e(ke,this.delay,this.scheduler).subscribe(fe)}}},3342:(ut,Me,M)=>{"use strict";M.d(Me,{b:()=>ie});var f=M(7393);function V(){}var x=M(9105);function ie(Ce,me,ne){return function(L){return L.lift(new pe(Ce,me,ne))}}class pe{constructor(me,ne,F){this.nextOrObserver=me,this.error=ne,this.complete=F}call(me,ne){return ne.subscribe(new de(me,this.nextOrObserver,this.error,this.complete))}}class de extends f.L{constructor(me,ne,F,L){super(me),this._tapNext=V,this._tapError=V,this._tapComplete=V,this._tapError=F||V,this._tapComplete=L||V,(0,x.m)(ne)?(this._context=this,this._tapNext=ne):ne&&(this._context=ne,this._tapNext=ne.next||V,this._tapError=ne.error||V,this._tapComplete=ne.complete||V)}_next(me){try{this._tapNext.call(this._context,me)}catch(ne){return void this.destination.error(ne)}this.destination.next(me)}_error(me){try{this._tapError.call(this._context,me)}catch(ne){return void this.destination.error(ne)}this.destination.error(me)}_complete(){try{this._tapComplete.call(this._context)}catch(me){return void this.destination.error(me)}return this.destination.complete()}}},4087:(ut,Me,M)=>{"use strict";M.d(Me,{r:()=>x});var f=M(7574),V=M(5319);function x(ie,pe){return new f.y(de=>{const Ce=new V.w;let me=0;return Ce.add(pe.schedule(function(){me!==ie.length?(de.next(ie[me++]),de.closed||Ce.add(this.schedule())):de.complete()})),Ce})}},6465:(ut,Me,M)=>{"use strict";M.d(Me,{o:()=>x});var f=M(5319);class V extends f.w{constructor(pe,de){super()}schedule(pe,de=0){return this}}class x extends V{constructor(pe,de){super(pe,de),this.scheduler=pe,this.work=de,this.pending=!1}schedule(pe,de=0){if(this.closed)return this;this.state=pe;const Ce=this.id,me=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(me,Ce,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(me,this.id,de),this}requestAsyncId(pe,de,Ce=0){return setInterval(pe.flush.bind(pe,this),Ce)}recycleAsyncId(pe,de,Ce=0){if(null!==Ce&&this.delay===Ce&&!1===this.pending)return de;clearInterval(de)}execute(pe,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(pe,de);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,de){let me,Ce=!1;try{this.work(pe)}catch(ne){Ce=!0,me=!!ne&&ne||new Error(ne)}if(Ce)return this.unsubscribe(),me}_unsubscribe(){const pe=this.id,de=this.scheduler,Ce=de.actions,me=Ce.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==me&&Ce.splice(me,1),null!=pe&&(this.id=this.recycleAsyncId(de,pe,null)),this.delay=null}}},6102:(ut,Me,M)=>{"use strict";M.d(Me,{v:()=>V});let f=(()=>{class x{constructor(pe,de=x.now){this.SchedulerAction=pe,this.now=de}schedule(pe,de=0,Ce){return new this.SchedulerAction(this,pe).schedule(Ce,de)}}return x.now=()=>Date.now(),x})();class V extends f{constructor(ie,pe=f.now){super(ie,()=>V.delegate&&V.delegate!==this?V.delegate.now():pe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ie,pe=0,de){return V.delegate&&V.delegate!==this?V.delegate.schedule(ie,pe,de):super.schedule(ie,pe,de)}flush(ie){const{actions:pe}=this;if(this.active)return void pe.push(ie);let de;this.active=!0;do{if(de=ie.execute(ie.state,ie.delay))break}while(ie=pe.shift());if(this.active=!1,de){for(;ie=pe.shift();)ie.unsubscribe();throw de}}}},3637:(ut,Me,M)=>{"use strict";M.d(Me,{z:()=>x});var f=M(6465);const x=new(M(6102).v)(f.o)},7771:(ut,Me,M)=>{"use strict";M.d(Me,{c:()=>de,N:()=>pe});var f=M(6465),x=M(6102);const pe=new class extends x.v{}(class extends f.o{constructor(me,ne){super(me,ne),this.scheduler=me,this.work=ne}schedule(me,ne=0){return ne>0?super.schedule(me,ne):(this.delay=ne,this.state=me,this.scheduler.flush(this),this)}execute(me,ne){return ne>0||this.closed?super.execute(me,ne):this._execute(me,ne)}requestAsyncId(me,ne,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(me,ne,F):me.flush(this)}}),de=pe},377:(ut,Me,M)=>{"use strict";M.d(Me,{hZ:()=>V});const V="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ut,Me,M)=>{"use strict";M.d(Me,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ut,Me,M)=>{"use strict";M.d(Me,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(ut,Me,M)=>{"use strict";M.d(Me,{N:()=>V});const V=(()=>{function x(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return x.prototype=Object.create(Error.prototype),x})()},4449:(ut,Me,M)=>{"use strict";function f(V){setTimeout(()=>{throw V},0)}M.d(Me,{z:()=>f})},4487:(ut,Me,M)=>{"use strict";function f(V){return V}M.d(Me,{y:()=>f})},9796:(ut,Me,M)=>{"use strict";M.d(Me,{k:()=>f});const f=Array.isArray||(V=>V&&"number"==typeof V.length)},9489:(ut,Me,M)=>{"use strict";M.d(Me,{z:()=>f});const f=V=>V&&"number"==typeof V.length&&"function"!=typeof V},9105:(ut,Me,M)=>{"use strict";function f(V){return"function"==typeof V}M.d(Me,{m:()=>f})},1555:(ut,Me,M)=>{"use strict";function f(V){return null!==V&&"object"==typeof V}M.d(Me,{K:()=>f})},4072:(ut,Me,M)=>{"use strict";function f(V){return!!V&&"function"!=typeof V.subscribe&&"function"==typeof V.then}M.d(Me,{t:()=>f})},4869:(ut,Me,M)=>{"use strict";function f(V){return V&&"function"==typeof V.schedule}M.d(Me,{K:()=>f})},7444:(ut,Me,M)=>{"use strict";M.d(Me,{s:()=>L});var f=M(5015),V=M(4449),ie=M(377),de=M(6554),me=M(9489),ne=M(4072),F=M(1555);const L=ee=>{if(ee&&"function"==typeof ee[de.L])return(ee=>K=>{const ae=ee[de.L]();if("function"!=typeof ae.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ae.subscribe(K)})(ee);if((0,me.z)(ee))return(0,f.V)(ee);if((0,ne.t)(ee))return(ee=>K=>(ee.then(ae=>{K.closed||(K.next(ae),K.complete())},ae=>K.error(ae)).then(null,V.z),K))(ee);if(ee&&"function"==typeof ee[ie.hZ])return(ee=>K=>{const ae=ee[ie.hZ]();for(;;){let Oe;try{Oe=ae.next()}catch(_e){return K.error(_e),K}if(Oe.done){K.complete();break}if(K.next(Oe.value),K.closed)break}return"function"==typeof ae.return&&K.add(()=>{ae.return&&ae.return()}),K})(ee);{const ae=`You provided ${(0,F.K)(ee)?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ae)}}},5015:(ut,Me,M)=>{"use strict";M.d(Me,{V:()=>f});const f=V=>x=>{for(let ie=0,pe=V.length;ie<pe&&!x.closed;ie++)x.next(V[ie]);x.complete()}},1515:(ut,Me,M)=>{"use strict";var f=M(3018);let V=null;function x(){return V}const Ce=new f.OlP("DocumentToken");let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:ne,token:n,providedIn:"platform"}),n})();function ne(){return(0,f.LFG)(L)}const F=new f.OlP("Location Initialized");let L=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,a){ee()?this._history.pushState(t,r,a):this.location.hash=a}replaceState(t,r,a){ee()?this._history.replaceState(t,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ce))},n.\u0275prov=(0,f.Yz7)({factory:K,token:n,providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function K(){return new L((0,f.LFG)(Ce))}function ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function _e(n){return n&&"?"!==n[0]?"?"+n:n}let J=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:Te,token:n,providedIn:"root"}),n})();function Te(n){const e=(0,f.LFG)(Ce).location;return new fe((0,f.LFG)(me),e&&e.origin||"")}const Se=new f.OlP("appBaseHref");let fe=(()=>{class n extends J{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+_e(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,l){const h=this.prepareExternalUrl(a+_e(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,a,l){const h=this.prepareExternalUrl(a+_e(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(me),f.LFG(Se,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n extends J{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,a,l){let h=this.prepareExternalUrl(a+_e(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,a,l){let h=this.prepareExternalUrl(a+_e(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(me),f.LFG(Se,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),nt=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Oe(ye(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_e(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ye(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._platformStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_e(r)),a)}replaceState(t,r="",a=null){this._platformStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_e(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(J),f.LFG(me))},n.normalizeQueryParams=_e,n.joinWithSlash=ae,n.stripTrailingSlash=Oe,n.\u0275prov=(0,f.Yz7)({factory:ze,token:n,providedIn:"root"}),n})();function ze(){return new nt((0,f.LFG)(J),(0,f.LFG)(me))}function ye(n){return n.replace(/\/index.html$/,"")}var we=(()=>((we=we||{})[we.Zero=0]="Zero",we[we.One=1]="One",we[we.Two=2]="Two",we[we.Few=3]="Few",we[we.Many=4]="Many",we[we.Other=5]="Other",we))();const xn=f.kL8;class Cn{}let Mi=(()=>{class n extends Cn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(xn(r||this.locale)(t)){case we.Zero:return"zero";case we.One:return"one";case we.Two:return"two";case we.Few:return"few";case we.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.soG))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class oa{constructor(e,t,r,a){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fi=(()=>{class n{constructor(t,r,a){this._viewContainer=t,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new oa(null,this._ngForOf,-1,-1),null===h?void 0:h),v=new br(a,m);r.push(v)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const m=this._viewContainer.get(l);this._viewContainer.move(m,h);const v=new br(a,m);r.push(v)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class br{constructor(e,t){this.record=e,this.view=t}}let Hr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new xi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class xi{constructor(){this.$implicit=null,this.ngIf=null}}function dn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let Os=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[{provide:Cn,useClass:Mi}]}),n})();function Vr(n){return"server"===n}let lo=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Bc((0,f.LFG)(Ce),window)}),n})();class Bc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}a=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=da(this.window.history)||da(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function da(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ho extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ho,V||(V=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(ks=ks||document.querySelector("base"),ks?ks.getAttribute("href"):null);return null==t?null:function(n){ha=ha||document.createElement("a"),ha.setAttribute("href",n);const e=ha.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ks=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[a,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let ha,ks=null;const O=new f.OlP("TRANSITION_ID"),X=[{provide:f.ip1,useFactory:function(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=x(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)r.remove(a[l])})}},deps:[O,Ce,f.zs3],multi:!0}];class ue{static init(){(0,f.VLi)(new ue)}addToWindow(e){f.dqk.getAngularTestability=(r,a=!0)=>{const l=e.findTestabilityInTree(r,a);if(null==l)throw new Error("Could not find testability for element.");return l},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const a=f.dqk.getAllAngularTestabilities();let l=a.length,h=!1;const m=function(v){h=h||v,l--,0==l&&r(h)};a.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:r?x().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ge=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const tu=new f.OlP("EventManagerPlugins");let nu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,a){return this._findPluginFor(r).addEventListener(t,r,a)}addGlobalEventListener(t,r,a){return this._findPluginFor(r).addGlobalEventListener(t,r,a)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(tu),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Mh{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const a=x().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,r)}}let ml=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),yl=(()=>{class n extends ml{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,a){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach($c),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(t,a,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($c))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ce))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function $c(n){x().remove(n)}const Ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rn=/%COMP%/g;function ru(n,e,t){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?ru(n,a,t):(a=a.replace(rn,n),t.push(a))}return t}function xh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let fo=(()=>{class n{constructor(t,r,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new iu(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new su(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(t),a}case 1:case f.ifc.ShadowDom:return new gs(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const a=ru(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(nu),f.LFG(yl),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class iu{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ue[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const l=Ue[a];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=Ue[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,a&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xh(r)):this.eventManager.addEventListener(e,t,xh(r))}}class su extends iu{constructor(e,t,r,a){super(e),this.component=r;const l=ru(a+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(rn,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(rn,n)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class gs extends iu{constructor(e,t,r,a){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ru(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let E_=(()=>{class n extends Mh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a){return t.addEventListener(r,a,!1),()=>this.removeEventListener(t,r,a)}removeEventListener(t,r,a){return t.removeEventListener(r,a)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ce))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const bl=["alt","control","meta","shift"],C_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gg={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vs=(()=>{class n extends Mh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,a){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(r.pop());let h="";if(bl.forEach(v=>{const I=r.indexOf(v);I>-1&&(r.splice(I,1),h+=v+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=a,m.fullKey=h,m}static getEventFullKey(t){let r="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&gg.hasOwnProperty(e)&&(e=gg[e]))}return C_[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),bl.forEach(l=>{l!=a&&gi[l](t)&&(r+=l+".")}),r+=a,r}static eventCallback(t,r,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>r(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ce))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),ou=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:function(){return(0,f.LFG)(kh)},token:n,providedIn:"root"}),n})(),kh=(()=>{class n extends ou{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case f.q3G.NONE:return r;case f.q3G.HTML:return(0,f.qzn)(r,"HTML")?(0,f.z3N)(r):(0,f.EiD)(this._doc,String(r)).toString();case f.q3G.STYLE:return(0,f.qzn)(r,"Style")?(0,f.z3N)(r):r;case f.q3G.SCRIPT:if((0,f.qzn)(r,"Script"))return(0,f.z3N)(r);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.yhl)(r),(0,f.qzn)(r,"URL")?(0,f.z3N)(r):(0,f.mCW)(String(r));case f.q3G.RESOURCE_URL:if((0,f.qzn)(r,"ResourceURL"))return(0,f.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,f.JVY)(t)}bypassSecurityTrustStyle(t){return(0,f.L6k)(t)}bypassSecurityTrustScript(t){return(0,f.eBb)(t)}bypassSecurityTrustUrl(t){return(0,f.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,f.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ce))},n.\u0275prov=(0,f.Yz7)({factory:function(){return function(n){return new kh(n.get(Ce))}((0,f.LFG)(f.gxx))},token:n,providedIn:"root"}),n})();const A_=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function(){ho.makeCurrent(),ue.init()},multi:!0},{provide:Ce,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),Po=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:tu,useClass:E_,multi:!0,deps:[Ce,f.R0b,f.Lbi]},{provide:tu,useClass:Vs,multi:!0,deps:[Ce]},[],{provide:fo,useClass:fo,deps:[nu,yl,f.AFp]},{provide:f.FYo,useExisting:fo},{provide:ml,useExisting:yl},{provide:yl,useClass:yl,deps:[Ce]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:nu,useClass:nu,deps:[tu,f.R0b]},{provide:class{},useClass:Ge,deps:[]},[]];let lu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:O,useExisting:f.AFp},X]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:Po,imports:[Os,f.hGG]}),n})();function Vh(){return new _g((0,f.LFG)(Ce))}let _g=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ce))},n.\u0275prov=(0,f.Yz7)({factory:Vh,token:n,providedIn:"root"}),n})();"undefined"!=typeof window&&window;var Hn=M(4402),Pi=M(7574),Il=M(9796),Pt=M(8002),Tl=M(1555);function ma(n,e){return new Pi.y(t=>{const r=n.length;if(0===r)return void t.complete();const a=new Array(r);let l=0,h=0;for(let m=0;m<r;m++){const v=(0,Hn.D)(n[m]);let I=!1;t.add(v.subscribe({next:D=>{I||(I=!0,h++),a[m]=D},error:D=>t.error(D),complete:()=>{l++,(l===r||!I)&&(h===r&&t.next(e?e.reduce((D,S,U)=>(D[S]=a[U],D),{}):a),t.complete())}}))}})}let Dl=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),fu=(()=>{class n extends Dl{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Zi=new f.OlP("NgValueAccessor"),wg={provide:Zi,useExisting:(0,f.Gpc)(()=>Fo),multi:!0},x_=new f.OlP("CompositionEventMode");let Fo=(()=>{class n extends Dl{constructor(t,r,a){super(t,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(x_,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[f._Bn([wg]),f.qOj]}),n})();function ki(n){return null==n||0===n.length}function Cg(n){return null!=n&&"number"==typeof n.length}const Ur=new f.OlP("NgValidators"),Yi=new f.OlP("NgAsyncValidators"),pu=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ms{static min(e){return function(n){return e=>{if(ki(e.value)||ki(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(ki(e.value)||ki(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return ki(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return ki(n.value)||pu.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>ki(e.value)||!Cg(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return Kc(e)}static pattern(e){return function(n){if(!n)return Ea;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ki(r.value))return null;const a=r.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(e)}static nullValidator(e){return null}static compose(e){return Al(e)}static composeAsync(e){return Gh(e)}}function Kc(n){return e=>Cg(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Ea(n){return null}function O_(n){return null!=n}function Ig(n){const e=(0,f.QGY)(n)?(0,Hn.D)(n):n;return(0,f.CqO)(e),e}function Hh(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Tg(n,e){return e.map(t=>t(n))}function Dg(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function Al(n){if(!n)return null;const e=n.filter(O_);return 0==e.length?null:function(t){return Hh(Tg(t,e))}}function Ag(n){return null!=n?Al(Dg(n)):null}function Gh(n){if(!n)return null;const e=n.filter(O_);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,Il.k)(e))return ma(e,null);if((0,Tl.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ma(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return ma(n=1===n.length&&(0,Il.k)(n[0])?n[0]:n,null).pipe((0,Pt.U)(t=>e(...t)))}return ma(n,null)}(Tg(t,e).map(Ig)).pipe((0,Pt.U)(Hh))}}function Sl(n){return null!=n?Gh(Dg(n)):null}function Wh(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function P_(n){return n._rawValidators}function zh(n){return n._rawAsyncValidators}function Sg(n){return n?Array.isArray(n)?n:[n]:[]}function go(n,e){return Array.isArray(n)?n.includes(e):n===e}function qh(n,e){const t=Sg(e);return Sg(n).forEach(a=>{go(t,a)||t.push(a)}),t}function yu(n,e){return Sg(e).filter(t=>!go(n,t))}let k_=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ag(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Sl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n}),n})(),hn=(()=>{class n extends k_{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();class Fi extends k_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _u{constructor(e){this._cd=e}is(e){var t,r,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[e])}}let ti=(()=>{class n extends _u{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Fi,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[f.qOj]}),n})(),ys=(()=>{class n extends _u{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(hn,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[f.qOj]}),n})();function ba(n,e){Qh(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Rl(n,e)})}(n,e),function(n,e){const t=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Rl(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Qc(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Xc(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Jc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Qh(n,e){const t=P_(n);null!==e.validator?n.setValidators(Wh(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=zh(n);null!==e.asyncValidator?n.setAsyncValidators(Wh(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();Jc(e._rawValidators,a),Jc(e._rawAsyncValidators,a)}function Xc(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=P_(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==e.validator);l.length!==a.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const a=zh(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==e.asyncValidator);l.length!==a.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Jc(e._rawValidators,r),Jc(e._rawAsyncValidators,r),t}function Rl(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ia(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Bs="VALID",xl="INVALID",Rn="PENDING",wu="DISABLED";function mo(n){return(Ol(n)?n.validators:n)||null}function Vo(n){return Array.isArray(n)?Ag(n):n||null}function nf(n,e){return(Ol(e)?e.asyncValidators:n)||null}function rf(n){return Array.isArray(n)?Sl(n):n||null}function Ol(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ng{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Vo(this._rawValidators),this._composedAsyncValidatorFn=rf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Bs}get invalid(){return this.status===xl}get pending(){return this.status==Rn}get disabled(){return this.status===wu}get enabled(){return this.status!==wu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Vo(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=rf(e)}addValidators(e){this.setValidators(qh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yu(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yu(e,this._rawAsyncValidators))}hasValidator(e){return go(this._rawValidators,e)}hasAsyncValidator(e){return go(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rn,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wu,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bs,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bs||this.status===Rn)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wu:Bs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rn,this._hasOwnPendingAsyncValidator=!0;const t=Ig(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(a=>{r=r instanceof Li?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof Cu&&r.at(a)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?wu:this.errors?xl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rn)?Rn:this._anyControlsHaveStatus(xl)?xl:Bs}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ol(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class yi extends Ng{constructor(e=null,t,r){super(mo(t),nf(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ia(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ia(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Li extends Ng{constructor(e,t,r){super(mo(t),nf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof yi?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((a,l)=>{r=t(r,a,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class Cu extends Ng{constructor(e,t,r){super(mo(t),nf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof yi?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let kg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Ta=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Tu=new f.OlP("NgModelWithFormControlWarning"),Ug={provide:hn,useExisting:(0,f.Gpc)(()=>$s)};let $s=(()=>{class n extends hn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ba(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Qc(t.control||null,t,!1),Ia(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,a=this.form.get(t.path);r!==a&&(Qc(r||null,t),a instanceof yi&&(ba(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(n,e){Qh(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return Xc(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qh(this.form,this),this._oldForm&&Xc(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ur,10),f.Y36(Yi,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Ug]),f.qOj,f.TTD]}),n})();const A={provide:Fi,useExisting:(0,f.Gpc)(()=>P)};let P=(()=>{class n extends Fi{constructor(t,r,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,r,a;return Array.isArray(e),e.forEach(l=>{l.constructor===Fo?t=l:function(n){return Object.getPrototypeOf(n.constructor)===fu}(l)?r=l:a=l}),a||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(hn,13),f.Y36(Ur,10),f.Y36(Yi,10),f.Y36(Zi,10),f.Y36(Tu,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([A]),f.qOj,f.TTD]}),n._ngModelWarningSentOnce=!1,n})();const $_={provide:Ur,useExisting:(0,f.Gpc)(()=>l0),multi:!0};let l0=(()=>{class n{constructor(){this._validator=Ea}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this.enabled()?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=this.enabled()?Kc(function(n){return"number"==typeof n?n:parseInt(n,10)}(this.maxlength)):Ea}enabled(){return null!=this.maxlength}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&f.uIk("maxlength",r.enabled()?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[f._Bn([$_]),f.TTD]}),n})(),c0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Ta]]}),n})(),d0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[c0]}),n})(),df=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Tu,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[c0]}),n})(),G_=(()=>{class n{group(t,r=null){const a=this._reduceControls(t);let m,l=null,h=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,m=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new Li(a,{asyncValidators:h,updateOn:m,validators:l})}control(t,r,a){return new yi(t,r,a)}array(t,r,a){const l=t.map(h=>this._createControl(h));return new Cu(l,r,a)}_reduceControls(t){const r={};return Object.keys(t).forEach(a=>{r[a]=this._createControl(t[a])}),r}_createControl(t){return t instanceof yi||t instanceof Li||t instanceof Cu?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:function(){return new n},token:n,providedIn:df}),n})();class rr{}const Aa="*";function W_(n,e){return{type:7,name:n,definitions:e,options:{}}}function z_(n,e=null){return{type:4,styles:e,timings:n}}function p0(n,e=null){return{type:2,steps:n,options:e}}function hf(n){return{type:6,styles:n,offset:null}}function q_(n,e,t){return{type:0,name:n,styles:e,options:t}}function CA(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function K_(n){Promise.resolve(null).then(n)}class wr{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){K_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ad{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,a=0;const l=this.players.length;0==l?K_(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(a)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function m0(){return"undefined"!=typeof window&&void 0!==window.document}function Z_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Sa(n){switch(n.length){case 0:return new wr;case 1:return n[0];default:return new ad(n)}}function y0(n,e,t,r,a={},l={}){const h=[],m=[];let v=-1,I=null;if(r.forEach(D=>{const S=D.offset,U=S==v,W=U&&I||{};Object.keys(D).forEach(te=>{let Ae=te,Ve=D[te];if("offset"!==te)switch(Ae=e.normalizePropertyName(Ae,h),Ve){case"!":Ve=a[te];break;case Aa:Ve=l[te];break;default:Ve=e.normalizeStyleValue(te,Ae,Ve,h)}W[Ae]=Ve}),U||m.push(W),I=W,v=S}),h.length){const D="\n - ";throw new Error(`Unable to animate due to the following errors:${D}${h.join(D)}`)}return m}function Gg(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Y_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Y_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Y_(t,"destroy",n)))}}function Y_(n,e,t){const r=t.totalTime,l=Wg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function Wg(n,e,t,r,a="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:a,totalTime:l,disabled:!!h}}function vs(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function _0(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Q_=(n,e)=>!1,pf=(n,e)=>!1,v0=(n,e,t)=>[];const J_=Z_();(J_||"undefined"!=typeof Element)&&(Q_=m0()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),pf=(()=>{if(J_||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):pf}})(),v0=(n,e,t)=>{let r=[];if(t){const a=n.querySelectorAll(e);for(let l=0;l<a.length;l++)r.push(a[l])}else{const a=n.querySelector(e);a&&r.push(a)}return r});let Ul=null,E0=!1;function Au(n){Ul||(Ul=("undefined"!=typeof document?document.body:null)||{},E0=!!Ul.style&&"WebkitAppearance"in Ul.style);let e=!0;return Ul.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ul.style,!e&&E0&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ul.style)),e}const X_=pf,ev=Q_,tv=v0;function b0(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let gf=(()=>{class n{validateStyleProperty(t){return Au(t)}matchesElement(t,r){return X_(t,r)}containsElement(t,r){return ev(t,r)}query(t,r,a){return tv(t,r,a)}computeStyle(t,r,a){return a||""}animate(t,r,a,l,h,m=[],v){return new wr(a,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Xi=(()=>{class n{}return n.NOOP=new gf,n})();const qg="ng-enter",nv="ng-leave",Kg="ng-trigger",Zg=".ng-trigger",jl="ng-animating",Hs=".ng-animating";function ud(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:I0(parseFloat(e[1]),e[2])}function I0(n,e){switch(e){case"s":return 1e3*n;default:return n}}function mf(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let a,l=0,h="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=I0(parseFloat(m[1]),m[2]);const v=m[3];null!=v&&(l=I0(parseFloat(v),m[4]));const I=m[5];I&&(h=I)}else a=n;if(!t){let m=!1,v=e.length;a<0&&(e.push("Duration values below 0 are not allowed for this animation step."),m=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&e.splice(v,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:l,easing:h}}(n,e,t)}function Vi(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $o(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Vi(n,t);return t}function T0(n,e,t){return t?e+":"+t+";":""}function rv(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=T0(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=T0(0,NA(t),n.style[t]));n.setAttribute("style",e)}function es(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const a=Qg(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[a]),n.style[a]=e[r]}),Z_()&&rv(n))}function Su(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Qg(t);n.style[r]=""}),Z_()&&rv(n))}function ld(n){return Array.isArray(n)?1==n.length?n[0]:p0(n):n}const yf=new RegExp("{{\\s*(.+?)\\s*}}","g");function sv(n){let e=[];if("string"==typeof n){let t;for(;t=yf.exec(n);)e.push(t[1]);yf.lastIndex=0}return e}function ov(n,e,t){const r=n.toString(),a=r.replace(yf,(l,h)=>{let m=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),m=""),m.toString()});return a==r?n:a}function Ra(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const av=/-+([a-z0-9])/g;function Qg(n){return n.replace(av,(...e)=>e[1].toUpperCase())}function NA(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Jg(n,e){return 0===n||0===e}function D0(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],h=[];if(r.forEach(m=>{l.hasOwnProperty(m)||h.push(m),l[m]=t[m]}),h.length)for(var a=1;a<e.length;a++){let m=e[a];h.forEach(function(v){m[v]=uv(n,v)})}}return e}function Es(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function uv(n,e){return window.getComputedStyle(n)[e]}function MA(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const v=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const a=r[1],l=r[2],h=r[3];e.push(em(a,h));"<"==l[0]&&!("*"==a&&"*"==h)&&e.push(em(h,a))}(r,t,e)):t.push(n),t}const cd=new Set(["true","1"]),_f=new Set(["false","0"]);function em(n,e){const t=cd.has(n)||_f.has(n),r=cd.has(e)||_f.has(e);return(a,l)=>{let h="*"==n||n==a,m="*"==e||e==l;return!h&&t&&"boolean"==typeof a&&(h=a?cd.has(n):_f.has(n)),!m&&r&&"boolean"==typeof l&&(m=l?cd.has(e):_f.has(e)),h&&m}}const OA=new RegExp("s*:selfs*,?","g");function tm(n,e,t){return new Bl(n).build(e,t)}class Bl{constructor(e){this._driver=e}build(e,t){const r=new PA(t);return this._resetContextStyleTimingState(r),Es(this,ld(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,a=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const v=m,I=v.name;I.toString().split(/\s*,\s*/).forEach(D=>{v.name=D,l.push(this.visitState(v,t))}),v.name=I}else if(1==m.type){const v=this.visitTransition(m,t);r+=v.queryCount,a+=v.depCount,h.push(v)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:h,queryCount:r,depCount:a,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=a||{};if(r.styles.forEach(m=>{if(rm(m)){const v=m;Object.keys(v).forEach(I=>{sv(v[I]).forEach(D=>{h.hasOwnProperty(D)||l.add(D)})})}}),l.size){const m=Ra(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:e.name,style:r,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Es(this,ld(e.animation),t);return{type:1,matchers:MA(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ru(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Es(this,r,t)),options:Ru(e.options)}}visitGroup(e,t){const r=t.currentTime;let a=0;const l=e.steps.map(h=>{t.currentTime=r;const m=Es(this,h,t);return a=Math.max(a,t.currentTime),m});return t.currentTime=a,{type:3,steps:l,options:Ru(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return im(mf(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=im(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||mf(r,e),im(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let a,l=e.styles?e.styles:hf({});if(5==l.type)a=this.visitKeyframes(l,t);else{let h=e.styles,m=!1;if(!h){m=!0;const I={};r.easing&&(I.easing=r.easing),h=hf(I)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(h,t);v.isEmptyStep=m,a=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==Aa?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let a=!1,l=null;return r.forEach(h=>{if(rm(h)){const m=h,v=m.easing;if(v&&(l=v,delete m.easing),!a)for(let I in m)if(m[I].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let a=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void t.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const v=t.collectedStyles[t.currentQuerySelector],I=v[m];let D=!0;I&&(l!=a&&l>=I.startTime&&a<=I.endTime&&(t.errors.push(`The CSS property "${m}" that exists between the times of "${I.startTime}ms" and "${I.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${a}ms"`),D=!1),l=I.startTime),D&&(v[m]={startTime:l,endTime:a}),t.options&&function(n,e,t){const r=e.params||{},a=sv(n);a.length&&a.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const h=[];let m=!1,v=!1,I=0;const D=e.steps.map(mt=>{const _t=this._makeStyleAst(mt,t);let tn=null!=_t.offset?_t.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(rm(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(rm(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(_t.styles),Tt=0;return null!=tn&&(l++,Tt=_t.offset=tn),v=v||Tt<0||Tt>1,m=m||Tt<I,I=Tt,h.push(Tt),_t});v&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&t.errors.push("Please ensure that all keyframe offsets are in order");const S=e.steps.length;let U=0;l>0&&l<S?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(U=1/(S-1));const W=S-1,te=t.currentTime,Ae=t.currentAnimateTimings,Ve=Ae.duration;return D.forEach((mt,_t)=>{const tn=U>0?_t==W?1:U*_t:h[_t],Tt=tn*Ve;t.currentTime=te+Ae.delay+Tt,Ae.duration=Tt,this._validateStyleAst(mt,t),mt.offset=tn,r.styles.push(mt)}),r}visitReference(e,t){return{type:8,animation:Es(this,ld(e.animation),t),options:Ru(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ru(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ru(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(OA,"")),[n=n.replace(/@\*/g,Zg).replace(/@\w+/g,t=>Zg+"-"+t.substr(1)).replace(/:animating/g,Hs),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,vs(t.collectedStyles,t.currentQuerySelector,{});const m=Es(this,ld(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:m,originalSelector:e.selector,options:Ru(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:mf(e.timings,t.errors,!0);return{type:12,animation:Es(this,ld(e.animation),t),timings:r,options:null}}}class PA{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function rm(n){return!Array.isArray(n)&&"object"==typeof n}function Ru(n){return n?(n=Vi(n)).params&&(n.params=function(n){return n?Vi(n):null}(n.params)):n={},n}function im(n,e,t){return{duration:n,delay:e,easing:t}}function vf(n,e,t,r,a,l,h=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:a,delay:l,totalTime:a+l,easing:h,subTimeline:m}}class Ef{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const x0=new RegExp(":enter","g"),O0=new RegExp(":leave","g");function bf(n,e,t,r,a,l={},h={},m,v,I=[]){return(new wf).buildKeyframes(n,e,t,r,a,l,h,m,v,I)}class wf{buildKeyframes(e,t,r,a,l,h,m,v,I,D=[]){I=I||new Ef;const S=new um(e,t,I,a,l,D,[]);S.options=v,S.currentTimeline.setStyles([h],null,S.errors,v),Es(this,r,S);const U=S.timelines.filter(W=>W.containsAnimation());if(U.length&&Object.keys(m).length){const W=U[U.length-1];W.allowOnlyTimelineStyles()||W.setStyles([m],null,S.errors,v)}return U.length?U.map(W=>W.buildKeyframes()):[vf(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const a=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,a,a.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const h=null!=r.duration?ud(r.duration):null,m=null!=r.delay?ud(r.delay):null;return 0!==h&&e.forEach(v=>{const I=t.appendInstructionToTimeline(v,h,m);l=Math.max(l,I.duration+I.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Es(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let a=t;const l=e.options;if(l&&(l.params||l.delay)&&(a=t.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=am);const h=ud(l.delay);a.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Es(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let a=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?ud(e.options.delay):0;e.steps.forEach(h=>{const m=t.createSubContext(e.options);l&&m.delayNextStep(l),Es(this,h,m),a=Math.max(a,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return mf(t.params?ov(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),a.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,a=t.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=a&&a.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,a=t.currentTimeline.duration,l=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(v=>{m.forwardTime((v.offset||0)*l),m.setStyles(v.styles,v.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(a+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,a=e.options||{},l=a.delay?ud(a.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=am);let h=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=m.length;let v=null;m.forEach((I,D)=>{t.currentQueryIndex=D;const S=t.createSubContext(e.options,I);l&&S.delayNextStep(l),I===t.element&&(v=S.currentTimeline),Es(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,a=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),m=h*(t.currentQueryTotal-1);let v=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":v=m-v;break;case"full":v=r.currentStaggerTime}const D=t.currentTimeline;v&&D.delayNextStep(v);const S=D.currentTime;Es(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=a.currentTime-S+(a.startTime-r.currentTimeline.startTime)}}const am={};class um{constructor(e,t,r,a,l,h,m,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=l,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=am,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new lm(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let a=this.options;null!=r.duration&&(a.duration=ud(r.duration)),null!=r.delay&&(a.delay=ud(r.delay));const l=r.params;if(l){let h=a.params;h||(h=this.options.params={}),Object.keys(l).forEach(m=>{(!t||!h.hasOwnProperty(m))&&(h[m]=ov(l[m],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(a=>{r[a]=t[a]})}}return e}createSubContext(e=null,t,r){const a=t||this.element,l=new um(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=am,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const a={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new kA(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,a,l,h){let m=[];if(a&&m.push(this.element),e.length>0){e=(e=e.replace(x0,"."+this._enterClassName)).replace(O0,"."+this._leaveClassName);let I=this._driver.query(this.element,e,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),m.push(...I)}return!l&&0==m.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),m}}class lm{constructor(e,t,r,a){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new lm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Aa,this._currentKeyframe[t]=Aa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,a){t&&(this._previousKeyframe.easing=t);const l=a&&a.params||{},h=function(n,e){const t={};let r;return n.forEach(a=>{"*"===a?(r=r||Object.keys(e),r.forEach(l=>{t[l]=Aa})):$o(a,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const v=ov(h[m],l,r);this._pendingStyles[m]=v,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Aa),this._updateStyle(m,v)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],a=e._styleSummary[t];(!r||a.time>r.time)&&this._updateStyle(t,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((m,v)=>{const I=$o(m,!0);Object.keys(I).forEach(D=>{const S=I[D];"!"==S?e.add(D):S==Aa&&t.add(D)}),r||(I.offset=v/this.duration),a.push(I)});const l=e.size?Ra(e.values()):[],h=t.size?Ra(t.values()):[];if(r){const m=a[0],v=Vi(m);m.offset=0,v.offset=1,a=[m,v]}return vf(this.element,a,l,h,this.duration,this.startTime,this.easing,!1)}}class kA extends lm{constructor(e,t,r,a,l,h,m=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=r+t,m=t/h,v=$o(e[0],!1);v.offset=0,l.push(v);const I=$o(e[0],!1);I.offset=dv(m),l.push(I);const D=e.length-1;for(let S=1;S<=D;S++){let U=$o(e[S],!1);U.offset=dv((t+U.offset*r)/h),l.push(U)}r=h,t=0,a="",e=l}return vf(this.element,e,this.preStyleProps,this.postStyleProps,r,t,a,!0)}}function dv(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class P0{}class VA extends P0{normalizePropertyName(e,t){return Qg(e)}normalizeStyleValue(e,t,r,a){let l="";const h=r.toString().trim();if(jA[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&a.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+l}}const jA=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Gs(n,e,t,r,a,l,h,m,v,I,D,S,U){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:l,toState:r,toStyles:h,timelines:m,queriedElements:v,preStyleProps:I,postStyleProps:D,totalTime:S,errors:U}}const fv={};class pv{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,a){return function(n,e,t,r,a){return n.some(l=>l(e,t,r,a))}(this.ast.matchers,e,t,r,a)}buildStyles(e,t,r){const a=this._stateStyles["*"],l=this._stateStyles[e],h=a?a.buildStyles(t,r):{};return l?l.buildStyles(t,r):h}build(e,t,r,a,l,h,m,v,I,D){const S=[],U=this.ast.options&&this.ast.options.params||fv,te=this.buildStyles(r,m&&m.params||fv,S),Ae=v&&v.params||fv,Ve=this.buildStyles(a,Ae,S),mt=new Set,_t=new Map,tn=new Map,Tt="void"===a,Ln={params:Object.assign(Object.assign({},U),Ae)},Pr=D?[]:bf(e,t,this.ast.animation,l,h,te,Ve,Ln,I,S);let Qr=0;if(Pr.forEach(kc=>{Qr=Math.max(kc.duration+kc.delay,Qr)}),S.length)return Gs(t,this._triggerName,r,a,Tt,te,Ve,[],[],_t,tn,Qr,S);Pr.forEach(kc=>{const Fc=kc.element,Ik=vs(_t,Fc,{});kc.preStyleProps.forEach(ag=>Ik[ag]=!0);const Yw=vs(tn,Fc,{});kc.postStyleProps.forEach(ag=>Yw[ag]=!0),Fc!==t&&mt.add(Fc)});const Pc=Ra(mt.values());return Gs(t,this._triggerName,r,a,Tt,te,Ve,Pr,Pc,_t,tn,Qr)}}class HA{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},a=Vi(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!=h&&(a[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(m=>{let v=h[m];v.length>1&&(v=ov(v,a,t));const I=this.normalizer.normalizePropertyName(m,t);v=this.normalizer.normalizeStyleValue(m,I,v,t),r[I]=v})}}),r}}class WA{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(a=>{this.states[a.name]=new HA(a.style,a.options&&a.options.params||{},r)}),F0(this.states,"true","1"),F0(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new pv(e,a,this.states))}),this.fallbackTransition=function(n,e,t){return new pv(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,a){return this.transitionFactories.find(h=>h.match(e,t,r,a))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function F0(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const zA=new Ef;class qA{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=tm(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=a}_buildPlayer(e,t,r){const a=e.element,l=y0(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(a,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const a=[],l=this._animations[e];let h;const m=new Map;if(l?(h=bf(this._driver,t,l,qg,nv,{},{},r,zA,a),h.forEach(D=>{const S=vs(m,D.element,{});D.postStyleProps.forEach(U=>S[U]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);m.forEach((D,S)=>{Object.keys(D).forEach(U=>{D[U]=this._driver.computeStyle(S,U,Aa)})});const I=Sa(h.map(D=>{const S=m.get(D.element);return this._buildPlayer(D,{},S)}));return this._playersById[e]=I,I.onDestroy(()=>this.destroy(e)),this.players.push(I),I}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,a){const l=Wg(t,"","","");return Gg(this._getPlayer(e),r,l,a),()=>{}}command(e,t,r,a){if("register"==r)return void this.register(e,a[0]);if("create"==r)return void this.create(e,t,a[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const Bt="ng-animate-queued",gv="ng-animate-disabled",Cf=".ng-animate-disabled",KA=[],cm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Na={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ts="__ng_removed";class dm{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const l=Vi(e);delete l.value,this.options=l}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(a=>{null==r[a]&&(r[a]=t[a])})}}}const $l="void",U0=new dm($l);class j0{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,bs(t,this._hostClassName)}listen(e,t,r,a){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const l=vs(this._elementListeners,e,[]),h={name:t,phase:r,callback:a};l.push(h);const m=vs(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(bs(e,Kg),bs(e,Kg+"-"+t),m[t]=U0),()=>{this._engine.afterFlush(()=>{const v=l.indexOf(h);v>=0&&l.splice(v,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,a=!0){const l=this._getTrigger(t),h=new _o(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(bs(e,Kg),bs(e,Kg+"-"+t),this._engine.statesByElement.set(e,m={}));let v=m[t];const I=new dm(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&I.absorbOptions(v.options),m[t]=I,v||(v=U0),I.value!==$l&&v.value===I.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let a=0;a<t.length;a++){const l=t[a];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(v.params,I.params)){const Ae=[],Ve=l.matchStyles(v.value,v.params,Ae),mt=l.matchStyles(I.value,I.params,Ae);Ae.length?this._engine.reportError(Ae):this._engine.afterFlush(()=>{Su(e,Ve),es(e,mt)})}return}const U=vs(this._engine.playersByElement,e,[]);U.forEach(Ae=>{Ae.namespaceId==this.id&&Ae.triggerName==t&&Ae.queued&&Ae.destroy()});let W=l.matchTransition(v.value,I.value,e,I.params),te=!1;if(!W){if(!a)return;W=l.fallbackTransition,te=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:W,fromState:v,toState:I,player:h,isFallbackTransition:te}),te||(bs(e,Bt),h.onStart(()=>{Hl(e,Bt)})),h.onDone(()=>{let Ae=this.players.indexOf(h);Ae>=0&&this.players.splice(Ae,1);const Ve=this._engine.playersByElement.get(e);if(Ve){let mt=Ve.indexOf(h);mt>=0&&Ve.splice(mt,1)}}),this.players.push(h),U.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Zg,!0);r.forEach(a=>{if(a[ts])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(h=>h.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,r,a){const l=this._engine.statesByElement.get(e);if(l){const h=[];if(Object.keys(l).forEach(m=>{if(this._triggers[m]){const v=this.trigger(e,m,$l,a);v&&h.push(v)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Sa(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const a=new Set;t.forEach(l=>{const h=l.name;if(a.has(h))return;a.add(h);const v=this._triggers[h].fallbackTransition,I=r[h]||U0,D=new dm($l),S=new _o(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:v,fromState:I,toState:D,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)a=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[ts];(!l||l===cm)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){bs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(m=>{if(m.name==r.triggerName){const v=Wg(l,r.triggerName,r.fromState.value,r.toState.value);v._data=e,Gg(r.player,m.phase,v,m.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(r)}),this._queue=[],t.sort((r,a)=>{const l=r.transition.ast.depCount,h=a.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Ax{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new j0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let a=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),a=!0;break}a||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let a=this._namespaceLookup[e];a&&a.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const a=Object.keys(r);for(let l=0;l<a.length;l++){const h=r[a[l]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&t.add(m)}}}return t}trigger(e,t,r,a){if(dd(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,a),!0}return!1}insertNode(e,t,r,a){if(!dd(t))return;const l=t[ts];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),bs(e,gv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Hl(e,gv))}removeNode(e,t,r,a){if(dd(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,r,a){this.collectedLeaveElements.push(t),t[ts]={namespaceId:e,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,a,l){return dd(t)?this._fetchNamespace(e).listen(t,r,a,l):()=>{}}_buildInstruction(e,t,r,a,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,a,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,Zg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Hs,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Sa(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ts];if(t&&t.setForRemoval){if(e[ts]=cm,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Cf)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Cf,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)bs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Sa(t).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Ef,a=[],l=new Map,h=[],m=new Map,v=new Map,I=new Map,D=new Set;this.disabledNodes.forEach(dt=>{D.add(dt);const Rt=this.driver.query(dt,".ng-animate-queued",!0);for(let qt=0;qt<Rt.length;qt++)D.add(Rt[qt])});const S=this.bodyNode,U=Array.from(this.statesByElement.keys()),W=ZA(U,this.collectedEnterElements),te=new Map;let Ae=0;W.forEach((dt,Rt)=>{const qt=qg+Ae++;te.set(Rt,qt),dt.forEach(In=>bs(In,qt))});const Ve=[],mt=new Set,_t=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Rt=this.collectedLeaveElements[dt],qt=Rt[ts];qt&&qt.setForRemoval&&(Ve.push(Rt),mt.add(Rt),qt.hasAnimation?this.driver.query(Rt,".ng-star-inserted",!0).forEach(In=>mt.add(In)):_t.add(Rt))}const tn=new Map,Tt=ZA(U,Array.from(mt));Tt.forEach((dt,Rt)=>{const qt=nv+Ae++;tn.set(Rt,qt),dt.forEach(In=>bs(In,qt))}),e.push(()=>{W.forEach((dt,Rt)=>{const qt=te.get(Rt);dt.forEach(In=>Hl(In,qt))}),Tt.forEach((dt,Rt)=>{const qt=tn.get(Rt);dt.forEach(In=>Hl(In,qt))}),Ve.forEach(dt=>{this.processLeaveNode(dt)})});const Ln=[],Pr=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(qt=>{const In=qt.player,Ri=qt.element;if(Ln.push(In),this.collectedEnterElements.length){const ol=Ri[ts];if(ol&&ol.setForMove)return void In.destroy()}const sl=!S||!this.driver.containsElement(S,Ri),So=tn.get(Ri),Rh=te.get(Ri),kr=this._buildInstruction(qt,r,Rh,So,sl);if(kr.errors&&kr.errors.length)Pr.push(kr);else{if(sl)return In.onStart(()=>Su(Ri,kr.fromStyles)),In.onDestroy(()=>es(Ri,kr.toStyles)),void a.push(In);if(qt.isFallbackTransition)return In.onStart(()=>Su(Ri,kr.fromStyles)),In.onDestroy(()=>es(Ri,kr.toStyles)),void a.push(In);kr.timelines.forEach(ol=>ol.stretchStartingKeyframe=!0),r.append(Ri,kr.timelines),h.push({instruction:kr,player:In,element:Ri}),kr.queriedElements.forEach(ol=>vs(m,ol,[]).push(In)),kr.preStyleProps.forEach((ol,Qw)=>{const mA=Object.keys(ol);if(mA.length){let ug=v.get(Qw);ug||v.set(Qw,ug=new Set),mA.forEach(mx=>ug.add(mx))}}),kr.postStyleProps.forEach((ol,Qw)=>{const mA=Object.keys(ol);let ug=I.get(Qw);ug||I.set(Qw,ug=new Set),mA.forEach(mx=>ug.add(mx))})}});if(Pr.length){const dt=[];Pr.forEach(Rt=>{dt.push(`@${Rt.triggerName} has failed due to:\n`),Rt.errors.forEach(qt=>dt.push(`- ${qt}\n`))}),Ln.forEach(Rt=>Rt.destroy()),this.reportError(dt)}const Qr=new Map,Pc=new Map;h.forEach(dt=>{const Rt=dt.element;r.has(Rt)&&(Pc.set(Rt,Rt),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,Qr))}),a.forEach(dt=>{const Rt=dt.element;this._getPreviousPlayers(Rt,!1,dt.namespaceId,dt.triggerName,null).forEach(In=>{vs(Qr,Rt,[]).push(In),In.destroy()})});const kc=Ve.filter(dt=>JA(dt,v,I)),Fc=new Map;mv(Fc,this.driver,_t,I,Aa).forEach(dt=>{JA(dt,v,I)&&kc.push(dt)});const Yw=new Map;W.forEach((dt,Rt)=>{mv(Yw,this.driver,new Set(dt),v,"!")}),kc.forEach(dt=>{const Rt=Fc.get(dt),qt=Yw.get(dt);Fc.set(dt,Object.assign(Object.assign({},Rt),qt))});const ag=[],Tk=[],Dk={};h.forEach(dt=>{const{element:Rt,player:qt,instruction:In}=dt;if(r.has(Rt)){if(D.has(Rt))return qt.onDestroy(()=>es(Rt,In.toStyles)),qt.disabled=!0,qt.overrideTotalTime(In.totalTime),void a.push(qt);let Ri=Dk;if(Pc.size>1){let So=Rt;const Rh=[];for(;So=So.parentNode;){const kr=Pc.get(So);if(kr){Ri=kr;break}Rh.push(So)}Rh.forEach(kr=>Pc.set(kr,Ri))}const sl=this._buildAnimation(qt.namespaceId,In,Qr,l,Yw,Fc);if(qt.setRealPlayer(sl),Ri===Dk)ag.push(qt);else{const So=this.playersByElement.get(Ri);So&&So.length&&(qt.parentPlayer=Sa(So)),a.push(qt)}}else Su(Rt,In.fromStyles),qt.onDestroy(()=>es(Rt,In.toStyles)),Tk.push(qt),D.has(Rt)&&a.push(qt)}),Tk.forEach(dt=>{const Rt=l.get(dt.element);if(Rt&&Rt.length){const qt=Sa(Rt);dt.setRealPlayer(qt)}}),a.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<Ve.length;dt++){const Rt=Ve[dt],qt=Rt[ts];if(Hl(Rt,nv),qt&&qt.hasAnimation)continue;let In=[];if(m.size){let sl=m.get(Rt);sl&&sl.length&&In.push(...sl);let So=this.driver.query(Rt,Hs,!0);for(let Rh=0;Rh<So.length;Rh++){let kr=m.get(So[Rh]);kr&&kr.length&&In.push(...kr)}}const Ri=In.filter(sl=>!sl.destroyed);Ri.length?YA(this,Rt,Ri):this.processLeaveNode(Rt)}return Ve.length=0,ag.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Rt=this.players.indexOf(dt);this.players.splice(Rt,1)}),dt.play()}),ag}elementContainsData(e,t){let r=!1;const a=t[ts];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,a,l){let h=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(h=m)}else{const m=this.playersByElement.get(e);if(m){const v=!l||l==$l;m.forEach(I=>{I.queued||!v&&I.triggerName!=a||h.push(I)})}}return(r||a)&&(h=h.filter(m=>!(r&&r!=m.namespaceId||a&&a!=m.triggerName))),h}_beforeAnimationBuild(e,t,r){const l=t.element,h=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const I=v.element,D=I!==l,S=vs(r,I,[]);this._getPreviousPlayers(I,D,h,m,t.toState).forEach(W=>{const te=W.getRealPlayer();te.beforeDestroy&&te.beforeDestroy(),W.destroy(),S.push(W)})}Su(l,t.fromStyles)}_buildAnimation(e,t,r,a,l,h){const m=t.triggerName,v=t.element,I=[],D=new Set,S=new Set,U=t.timelines.map(te=>{const Ae=te.element;D.add(Ae);const Ve=Ae[ts];if(Ve&&Ve.removedBeforeQueried)return new wr(te.duration,te.delay);const mt=Ae!==v,_t=function(n){const e=[];return QA(n,e),e}((r.get(Ae)||KA).map(Qr=>Qr.getRealPlayer())).filter(Qr=>!!Qr.element&&Qr.element===Ae),tn=l.get(Ae),Tt=h.get(Ae),Ln=y0(0,this._normalizer,0,te.keyframes,tn,Tt),Pr=this._buildPlayer(te,Ln,_t);if(te.subTimeline&&a&&S.add(Ae),mt){const Qr=new _o(e,m,Ae);Qr.setRealPlayer(Pr),I.push(Qr)}return Pr});I.forEach(te=>{vs(this.playersByQueriedElement,te.element,[]).push(te),te.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,te.element,te))}),D.forEach(te=>bs(te,jl));const W=Sa(U);return W.onDestroy(()=>{D.forEach(te=>Hl(te,jl)),es(v,t.toStyles)}),S.forEach(te=>{vs(a,te,[]).push(W)}),W}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new wr(e.duration,e.delay)}}class _o{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new wr,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Gg(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){vs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function dd(n){return n&&1===n.nodeType}function B0(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function mv(n,e,t,r,a){const l=[];t.forEach(v=>l.push(B0(v)));const h=[];r.forEach((v,I)=>{const D={};v.forEach(S=>{const U=D[S]=e.computeStyle(I,S,a);(!U||0==U.length)&&(I[ts]=Na,h.push(I))}),n.set(I,D)});let m=0;return t.forEach(v=>B0(v,l[m++])),h}function ZA(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const a=new Set(e),l=new Map;function h(m){if(!m)return 1;let v=l.get(m);if(v)return v;const I=m.parentNode;return v=t.has(I)?I:a.has(I)?1:h(I),l.set(m,v),v}return e.forEach(m=>{const v=h(m);1!==v&&t.get(v).push(m)}),t}const pm="$$classes";function bs(n,e){if(n.classList)n.classList.add(e);else{let t=n[pm];t||(t=n[pm]={}),t[e]=!0}}function Hl(n,e){if(n.classList)n.classList.remove(e);else{let t=n[pm];t&&delete t[e]}}function YA(n,e,t){Sa(t).onDone(()=>n.processLeaveNode(e))}function QA(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof ad?QA(r.players,e):e.push(r)}}function JA(n,e,t){const r=t.get(n);if(!r)return!1;let a=e.get(n);return a?r.forEach(l=>a.add(l)):e.set(n,r),t.delete(n),!0}class _v{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new Ax(e,t,r),this._timelineEngine=new qA(e,t,r),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(e,t,r,a,l){const h=e+"-"+a;let m=this._triggerCache[h];if(!m){const v=[],I=tm(this._driver,l,v);if(v.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${v.join("\n - ")}`);m=function(n,e,t){return new WA(n,e,t)}(a,I,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(t,a,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,a){this._transitionEngine.insertNode(e,t,r,a)}onRemove(e,t,r,a){this._transitionEngine.removeNode(e,t,a||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,a){if("@"==r.charAt(0)){const[l,h]=_0(r);this._timelineEngine.command(l,t,h,a)}else this._transitionEngine.trigger(e,t,r,a)}listen(e,t,r,a,l){if("@"==r.charAt(0)){const[h,m]=_0(r);return this._timelineEngine.listen(h,t,m,l)}return this._transitionEngine.listen(e,t,r,a,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function XA(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=$0(e[0]),e.length>1&&(r=$0(e[e.length-1]))):e&&(t=$0(e)),t||r?new Nx(n,t,r):null}let Nx=(()=>{class n{constructor(t,r,a){this._element=t,this._startStyles=r,this._endStyles=a,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&es(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(es(this._element,this._initialStyles),this._endStyles&&(es(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Su(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Su(this._element,this._endStyles),this._endStyles=null),es(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $0(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const a=t[r];Mx(a)&&(e=e||{},e[a]=n[a])}return e}function Mx(n){return"display"===n||"position"===n}const eS="animation",tS="animationend";class vv{constructor(e,t,r,a,l,h,m){this._element=e,this._name=t,this._duration=r,this._delay=a,this._easing=l,this._fillMode=h,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=v=>this._handleCallback(v)}apply(){(function(n,e){const t=gm(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),vo(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),W0(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){H0(this._element,this._name,"paused")}resume(){H0(this._element,this._name,"running")}setPosition(e){const t=bv(this._element,this._name);this._position=e*this._duration,vo(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),W0(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=gm(n,"").split(","),a=If(r,e);a>=0&&(r.splice(a,1),vo(n,"",r.join(",")))}(this._element,this._name))}}function H0(n,e,t){vo(n,"PlayState",t,bv(n,e))}function bv(n,e){const t=gm(n,"");return t.indexOf(",")>0?If(t.split(","),e):If([t],e)}function If(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function W0(n,e,t){t?n.removeEventListener(tS,e):n.addEventListener(tS,e)}function vo(n,e,t,r){const a=eS+e;if(null!=r){const l=n.style[a];if(l.length){const h=l.split(",");h[r]=t,t=h.join(",")}}n.style[a]=t}function gm(n,e){return n.style[eS+e]||""}class z0{constructor(e,t,r,a,l,h,m,v){this.element=e,this.keyframes=t,this.animationName=r,this._duration=a,this._delay=l,this._finalStyles=m,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new vv(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:uv(this.element,r))})}this.currentSnapshot=e}}class q0 extends wr{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=b0(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class hd{constructor(){this._count=0}validateStyleProperty(e){return Au(e)}matchesElement(e,t){return X_(e,t)}containsElement(e,t){return ev(e,t)}query(e,t,r){return tv(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(m=>b0(m));let a=`@keyframes ${t} {\n`,l="";r.forEach(m=>{l=" ";const v=parseFloat(m.offset);a+=`${l}${100*v}% {\n`,l+=" ",Object.keys(m).forEach(I=>{const D=m[I];switch(I){case"offset":return;case"easing":return void(D&&(a+=`${l}animation-timing-function: ${D};\n`));default:return void(a+=`${l}${I}: ${D};\n`)}}),a+=`${l}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(e,t,r,a,l,h=[],m){const v=h.filter(Ve=>Ve instanceof z0),I={};Jg(r,a)&&v.forEach(Ve=>{let mt=Ve.currentSnapshot;Object.keys(mt).forEach(_t=>I[_t]=mt[_t])});const D=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(a=>{"offset"==a||"easing"==a||(e[a]=r[a])})}),e}(t=D0(e,t,I));if(0==r)return new q0(e,D);const S="gen_css_kf_"+this._count++,U=this.buildKeyframeElement(e,S,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(U);const te=XA(e,t),Ae=new z0(e,t,S,r,a,l,D,te);return Ae.onDestroy(()=>{var n;(n=U).parentNode.removeChild(n)}),Ae}}class Z0{constructor(e,t,r,a){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:uv(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Y0{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(mm().toString()),this._cssKeyframesDriver=new hd}validateStyleProperty(e){return Au(e)}matchesElement(e,t){return X_(e,t)}containsElement(e,t){return ev(e,t)}query(e,t,r){return tv(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,a,l,h=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,a,l,h);const D={duration:r,delay:a,fill:0==a?"both":"forwards"};l&&(D.easing=l);const S={},U=h.filter(te=>te instanceof Z0);Jg(r,a)&&U.forEach(te=>{let Ae=te.currentSnapshot;Object.keys(Ae).forEach(Ve=>S[Ve]=Ae[Ve])});const W=XA(e,t=D0(e,t=t.map(te=>$o(te,!1)),S));return new Z0(e,t,D,W)}}function mm(){return m0()&&Element.prototype.animate||{}}let Iv=(()=>{class n extends rr{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?p0(t):t;return X0(this._renderer,null,r,"register",[a]),new J0(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(Ce))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class J0 extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new ym(this._id,e,t||{},this._renderer)}}class ym{constructor(e,t,r,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return X0(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function X0(n,e,t,r,a){return n.setProperty(e,`@@${t}:${r}`,a)}const iS="@.disabled";let eC=(()=>{class n{constructor(t,r,a){this.delegate=t,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(l);return D||(D=new Tv("",l,this.engine),this._rendererCache.set(l,D)),D}const h=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const v=D=>{Array.isArray(D)?D.forEach(v):this.engine.registerTrigger(h,m,t,D.name,D)};return r.data.animation.forEach(v),new sS(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,a){t>=0&&t<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,m]=l;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(_v),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Tv{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,a=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,a){this.delegate.setAttribute(e,t,r,a)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,a){this.delegate.setStyle(e,t,r,a)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==iS?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class sS extends Tv{constructor(e,t,r,a){super(t,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==iS?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,a,l,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let aS=(()=>{class n extends _v{constructor(t,r,a){super(t.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ce),f.LFG(Xi),f.LFG(P0))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const cS=new f.OlP("AnimationModuleType"),dS=[{provide:rr,useClass:Iv},{provide:P0,useFactory:function(){return new VA}},{provide:_v,useClass:aS},{provide:f.FYo,useFactory:function(n,e,t){return new eC(n,e,t)},deps:[fo,_v,f.R0b]}],Dv=[{provide:Xi,useFactory:function(){return"function"==typeof mm()?new Y0:new hd}},{provide:cS,useValue:"BrowserAnimations"},...dS],hS=[{provide:Xi,useClass:gf},{provide:cS,useValue:"NoopAnimations"},...dS];let fS=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?hS:Dv}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:Dv,imports:[lu]}),n})();var zr=M(9765);const rC=["toast-component",""];function pS(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",5),f.NdJ("click",function(){return f.CHM(t),f.oxw().remove()}),f.TgZ(1,"span",6),f._uU(2,"\xd7"),f.qZA(),f.qZA()}}function gS(n,e){if(1&n&&(f.ynx(0),f._uU(1),f.BQk()),2&n){const t=f.oxw(2);f.xp6(1),f.hij("[",t.duplicatesCount+1,"]")}}function iC(n,e){if(1&n&&(f.TgZ(0,"div"),f._uU(1),f.YNc(2,gS,2,1,"ng-container",4),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.titleClass),f.uIk("aria-label",t.title),f.xp6(1),f.hij(" ",t.title," "),f.xp6(1),f.Q6J("ngIf",t.duplicatesCount)}}function mS(n,e){if(1&n&&f._UZ(0,"div",7),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.Q6J("innerHTML",t.message,f.oJD)}}function sC(n,e){if(1&n&&(f.TgZ(0,"div",8),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.uIk("aria-label",t.message),f.xp6(1),f.hij(" ",t.message," ")}}function yS(n,e){if(1&n&&(f.TgZ(0,"div"),f._UZ(1,"div",9),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Udp("width",t.width+"%")}}function _S(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",5),f.NdJ("click",function(){return f.CHM(t),f.oxw().remove()}),f.TgZ(1,"span",6),f._uU(2,"\xd7"),f.qZA(),f.qZA()}}function oC(n,e){if(1&n&&(f.ynx(0),f._uU(1),f.BQk()),2&n){const t=f.oxw(2);f.xp6(1),f.hij("[",t.duplicatesCount+1,"]")}}function aC(n,e){if(1&n&&(f.TgZ(0,"div"),f._uU(1),f.YNc(2,oC,2,1,"ng-container",4),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.titleClass),f.uIk("aria-label",t.title),f.xp6(1),f.hij(" ",t.title," "),f.xp6(1),f.Q6J("ngIf",t.duplicatesCount)}}function vS(n,e){if(1&n&&f._UZ(0,"div",7),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.Q6J("innerHTML",t.message,f.oJD)}}function Ho(n,e){if(1&n&&(f.TgZ(0,"div",8),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.uIk("aria-label",t.message),f.xp6(1),f.hij(" ",t.message," ")}}function Av(n,e){if(1&n&&(f.TgZ(0,"div"),f._UZ(1,"div",9),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Udp("width",t.width+"%")}}class Fx{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class _m{constructor(e,t,r,a,l,h){this.toastId=e,this.config=t,this.message=r,this.title=a,this.toastType=l,this.toastRef=h,this._onTap=new zr.xQ,this._onAction=new zr.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const lC={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},cC=new f.OlP("ToastConfig");class Sv{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new zr.xQ,this._activate=new zr.xQ,this._manualClose=new zr.xQ,this._resetTimeout=new zr.xQ,this._countDuplicate=new zr.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class ES{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===_m?this._toastPackage:this._parentInjector.get(e,t,r)}}class bS extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let a;return a=r.create(e.injector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(a),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(a)),a}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class vm{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Rv=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ce))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wS=(()=>{class n{constructor(t,r,a,l){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=a,this._document=l,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const a=this._document.createElement("div");return a.id="toast-container",a.classList.add(t),a.classList.add("toast-container"),r?r.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(t){return new bS(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new vm(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Rv),f.LFG(f._Vd),f.LFG(f.z2F),f.LFG(Ce))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),md=(()=>{class n{constructor(t,r,a,l,h){this.overlay=r,this._injector=a,this.sanitizer=l,this.ngZone=h,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,a={},l=""){return this._preBuildNotification(l,t,r,this.applyConfig(a))}success(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(a))}error(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(a))}info(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(a))}warning(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(a))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(t="",r="",a,l){const{includeTitleDuplicates:h}=this.toastrConfig;for(const m of this.toasts){const v=h&&m.title===t;if((!h||v)&&m.message===r)return m.toastRef.onDuplicate(a,l),m}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,a,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,a,l)):this._buildNotification(t,r,a,l)}_buildNotification(t,r,a,l){if(!l.toastComponent)throw new Error("toastComponent required");const h=this.findDuplicate(a,r,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||r)&&this.toastrConfig.preventDuplicates&&null!==h)return h;this.previousToastMessage=r;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const v=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let I=r;r&&l.enableHtml&&(I=this.sanitizer.sanitize(f.q3G.HTML,r));const D=new Sv(v),S=new _m(this.index,l,I,a,t,D),U=new ES(S,this._injector),W=new Fx(l.toastComponent,U),te=v.attach(W,this.toastrConfig.newestOnTop);D.componentInstance=te.instance;const Ae={toastId:this.index,title:a||"",message:r||"",toastRef:D,onShown:D.afterActivate(),onHidden:D.afterClosed(),onTap:S.onTap(),onAction:S.onAction(),portal:te};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ae.toastRef.activate()})),this.toasts.push(Ae),Ae}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(cC),f.LFG(wS),f.LFG(f.zs3),f.LFG(ou),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nv=(()=>{class n{constructor(t,r,a){this.toastrService=t,this.toastPackage=r,this.ngZone=a,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(md),f.Y36(_m),f.Y36(f.R0b))},n.\u0275cmp=f.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(f.d8E("@flyInOut",r.state),f.Tol(r.toastClasses),f.Udp("display",r.displayStyle))},attrs:rC,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(f.YNc(0,pS,3,0,"button",0),f.YNc(1,iC,3,5,"div",1),f.YNc(2,mS,1,3,"div",2),f.YNc(3,sC,2,4,"div",3),f.YNc(4,yS,2,2,"div",4)),2&t&&(f.Q6J("ngIf",r.options.closeButton),f.xp6(1),f.Q6J("ngIf",r.title),f.xp6(1),f.Q6J("ngIf",r.message&&r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.message&&!r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.options.progressBar))},directives:[Hr],encapsulation:2,data:{animation:[W_("flyInOut",[q_("inactive",hf({opacity:0})),q_("active",hf({opacity:1})),q_("removed",hf({opacity:0})),CA("inactive => active",z_("{{ easeTime }}ms {{ easing }}")),CA("active => removed",z_("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const dC=Object.assign(Object.assign({},lC),{toastComponent:Nv});let CS=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:cC,useValue:{default:dC,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Os]]}),n})(),Mv=(()=>{class n{constructor(t,r,a){this.toastrService=t,this.toastPackage=r,this.appRef=a,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(md),f.Y36(_m),f.Y36(f.z2F))},n.\u0275cmp=f.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(f.Tol(r.toastClasses),f.Udp("display",r.displayStyle))},attrs:rC,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(f.YNc(0,_S,3,0,"button",0),f.YNc(1,aC,3,5,"div",1),f.YNc(2,vS,1,3,"div",2),f.YNc(3,Ho,2,4,"div",3),f.YNc(4,Av,2,2,"div",4)),2&t&&(f.Q6J("ngIf",r.options.closeButton),f.xp6(1),f.Q6J("ngIf",r.title),f.xp6(1),f.Q6J("ngIf",r.message&&r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.message&&!r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.options.progressBar))},directives:[Hr],encapsulation:2}),n})();Object.assign(Object.assign({},lC),{toastComponent:Mv});var Ct=M(5917),xv=M(7971);class Ws extends zr.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xv.N;return this._value}next(e){super.next(this._value=e)}}var Ov=M(4869),ns=M(7393);class Ma extends ns.L{notifyNext(e,t,r,a,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Em extends ns.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var IS=M(7444);function TS(n,e,t,r,a=new Em(n,t,r)){if(!a.closed)return e instanceof Pi.y?e.subscribe(a):(0,IS.s)(e)(a)}var Ux=M(6693);const Gl={};class Af{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Sf(e,this.resultSelector))}}class Sf extends Ma{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Gl),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(TS(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const a=this.values,h=this.toRespond?a[r]===Gl?--this.toRespond:this.toRespond:0;a[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const yd=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Rf=M(3282);function bm(...n){return(0,Rf.J)(1)((0,Ct.of)(...n))}var xa=M(9193);function wm(n){return new Pi.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,Hn.D)(t):(0,xa.c)()).subscribe(e)})}var AS=M(2441),_d=M(5345);function Cr(n,e){return"function"==typeof e?t=>t.pipe(Cr((r,a)=>(0,Hn.D)(n(r,a)).pipe((0,Pt.U)((l,h)=>e(r,l,a,h))))):t=>t.lift(new vd(n))}class vd{constructor(e){this.project=e}call(e,t){return t.subscribe(new fC(e,this.project))}}class fC extends _d.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new _d.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,_d.ft)(e,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const pC=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Mu(n){return e=>0===n?(0,xa.c)():e.lift(new SS(n))}class SS{constructor(e){if(this.total=e,this.total<0)throw new pC}call(e,t){return t.subscribe(new RS(e,this.total))}}class RS extends ns.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Nf(...n){const e=n[n.length-1];return(0,Ov.K)(e)?(n.pop(),t=>bm(n,t,e)):t=>bm(n,t)}function Mf(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new $x(n,e,t))}}class $x{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new NS(e,this.accumulator,this.seed,this.hasSeed))}}class NS extends ns.L{constructor(e,t,r,a){super(e),this.accumulator=t,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}function zs(n,e){return function(r){return r.lift(new Qn(n,e))}}class Qn{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Pv(e,this.predicate,this.thisArg))}}class Pv extends ns.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function Ed(n){return function(t){const r=new Oa(n),a=t.lift(r);return r.caught=a}}class Oa{constructor(e){this.selector=e}call(e,t){return t.subscribe(new kv(e,this.selector,this.caught))}}class kv extends _d.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new _d.IY(this);this.add(r);const a=(0,_d.ft)(t,r);a!==r&&this.add(a)}}}var qr=M(9773);function Cm(n,e){return(0,qr.zg)(n,e,1)}function Fv(n){return function(t){return 0===n?(0,xa.c)():t.lift(new MS(n))}}class MS{constructor(e){if(this.total=e,this.total<0)throw new pC}call(e,t){return t.subscribe(new gC(e,this.total))}}class gC extends ns.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,a=this.count++;t.length<r?t.push(e):t[a%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<r;l++){const h=t++%r;e.next(a[h])}}e.complete()}}function Lv(n=xS){return e=>e.lift(new mC(n))}class mC{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new yC(e,this.errorFactory))}}class yC extends ns.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function xS(){return new yd}function _C(n=null){return e=>e.lift(new xf(n))}class xf{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Vv(e,this.defaultValue))}}class Vv extends ns.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Uv=M(4487);function xu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zs((a,l)=>n(a,l,r)):Uv.y,Mu(1),t?_C(e):Lv(()=>new yd))}var rs=M(3342),OS=M(1307),Im=M(5319);class kS{constructor(e){this.callback=e}call(e,t){return t.subscribe(new EC(e,this.callback))}}class EC extends ns.L{constructor(e,t){super(e),this.add(new Im.w(t))}}class Ou{constructor(e,t){this.id=e,this.url=t}}class Tm extends Ou{constructor(e,t,r="imperative",a=null){super(e,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Of extends Ou{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bC extends Ou{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hx extends Ou{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gx extends Ou{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jv extends Ou{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FS extends Ou{constructor(e,t,r,a,l){super(e,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wC extends Ou{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CC extends Ou{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LS{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qs{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wx{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zx{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qx{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bv{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $v{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const en="primary";class VS{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pf(n){return new VS(n)}const Hv="ngNavigationCancelingError";function kf(n){const e=Error("NavigationCancelingError: "+n);return e[Hv]=!0,e}function Gv(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const a={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))a[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function Go(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!IC(n[a],e[a]))return!1;return!0}function IC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((a,l)=>r[l]===a)}return n===e}function TC(n){return Array.prototype.concat.apply([],n)}function DC(n){return n.length>0?n[n.length-1]:null}function Mr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ui(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,Hn.D)(Promise.resolve(n)):(0,Ct.of)(n)}const Eo={exact:function Dm(n,e,t){if(!Ks(n.segments,e.segments)||!zo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Dm(n.children[r],e.children[r],t))return!1;return!0},subset:wd},bd={exact:function(n,e){return Go(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>IC(n[t],e[t]))},ignored:()=>!0};function SC(n,e,t){return Eo[t.paths](n.root,e.root,t.matrixParams)&&bd[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function wd(n,e,t){return ni(n,e,e.segments,t)}function ni(n,e,t,r){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!Ks(a,t)||e.hasChildren()||!zo(a,t,r))}if(n.segments.length===t.length){if(!Ks(n.segments,t)||!zo(n.segments,t,r))return!1;for(const a in e.children)if(!n.children[a]||!wd(n.children[a],e.children[a],r))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Ks(n.segments,a)&&zo(n.segments,a,r)&&n.children[en])&&ni(n.children[en],e,l,r)}}function zo(n,e,t){return e.every((r,a)=>bd[t](n[a].parameters,r.parameters))}class qo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pf(this.queryParams)),this._queryParamMap}toString(){return Td.serialize(this)}}class Lt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Mr(t,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pa(this)}}class Wl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pf(this.parameters)),this._parameterMap}toString(){return zv(this)}}function Ks(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Pu{}class zl{parse(e){const t=new GS(e);return new qo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Ko(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(a=>`${Ff(t)}=${Ff(a)}`).join("&"):`${Ff(t)}=${Ff(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Td=new zl;function Pa(n){return n.segments.map(e=>zv(e)).join("/")}function Ko(n,e){if(!n.hasChildren())return Pa(n);if(e){const t=n.children[en]?Ko(n.children[en],!1):"",r=[];return Mr(n.children,(a,l)=>{l!==en&&r.push(`${l}:${Ko(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Mr(n.children,(r,a)=>{a===en&&(t=t.concat(e(r,a)))}),Mr(n.children,(r,a)=>{a!==en&&(t=t.concat(e(r,a)))}),t}(n,(r,a)=>a===en?[Ko(n.children[en],!1)]:[`${a}:${Ko(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${Pa(n)}/${t[0]}`:`${Pa(n)}/(${t.join("//")})`}}function ql(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ff(n){return ql(n).replace(/%3B/gi,";")}function Am(n){return ql(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lf(n){return decodeURIComponent(n)}function Wv(n){return Lf(n.replace(/\+/g,"%20"))}function zv(n){return`${Am(n.path)}${function(n){return Object.keys(n).map(e=>`;${Am(e)}=${Am(n[e])}`).join("")}(n.parameters)}`}const xC=/^[^\/()?;=#]+/;function Sm(n){const e=n.match(xC);return e?e[0]:""}const OC=/^[^=?&#]+/,HS=/^[^?&#]+/;class GS{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[en]=new Lt(e,t)),r}parseSegment(){const e=Sm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Wl(Lf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Sm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=Sm(this.remaining);a&&(r=a,this.capture(r))}e[Lf(t)]=Lf(r)}parseQueryParam(e){const t=function(n){const e=n.match(OC);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(HS);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const a=Wv(t),l=Wv(r);if(e.hasOwnProperty(a)){let h=e[a];Array.isArray(h)||(h=[h],e[a]=h),h.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Sm(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=en);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[en]:new Lt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class WS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=qv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=qv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Rm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Rm(e,this._root).map(t=>t.value)}}function qv(n,e){if(n===e.value)return e;for(const t of e.children){const r=qv(n,t);if(r)return r}return null}function Rm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Rm(n,t);if(r.length)return r.unshift(e),r}return[]}class ka{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Dd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class kC extends WS{constructor(e,t){super(e),this.snapshot=t,Yv(this,e)}toString(){return this.snapshot.toString()}}function FC(n,e){const t=function(n,e){const h=new Zv([],{},{},"",{},en,e,null,n.root,-1,{});return new zS("",new ka(h,[]))}(n,e),r=new Ws([new Wl("",{})]),a=new Ws({}),l=new Ws({}),h=new Ws({}),m=new Ws(""),v=new Ad(r,a,h,m,l,en,e,t.root);return v.snapshot=t.root,new kC(new ka(v,[]),t)}class Ad{constructor(e,t,r,a,l,h,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(e=>Pf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(e=>Pf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const a=t[r],l=t[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Zv{constructor(e,t,r,a,l,h,m,v,I,D,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=m,this.routeConfig=v,this._urlSegment=I,this._lastPathIndex=D,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zS extends WS{constructor(e,t){super(t),this.url=e,Yv(this,t)}toString(){return qS(this._root)}}function Yv(n,e){e.value._routerState=n,e.children.forEach(t=>Yv(n,t))}function qS(n){const e=n.children.length>0?` { ${n.children.map(qS).join(", ")} } `:"";return`${n.value}${e}`}function Qv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Go(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Go(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Go(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Go(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Jv(n,e){return Go(n.params,e.params)&&function(n,e){return Ks(n,e)&&n.every((t,r)=>Go(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Jv(n.parent,e.parent))}function Sd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(r=>{for(const a of t.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return Sd(n,r,a);return Sd(n,r)})}(n,e,t);return new ka(r,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return LC(e,h),h}}const r=function(n){return new Ad(new Ws(n.url),new Ws(n.params),new Ws(n.queryParams),new Ws(n.fragment),new Ws(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>Sd(n,l));return new ka(r,a)}}function LC(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)LC(n.children[t],e.children[t])}function Nm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Rd(n){return"object"==typeof n&&null!=n&&n.outlets}function VC(n,e,t,r,a){let l={};return r&&Mr(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),new qo(t.root===n?e:UC(t.root,n,e),l,a)}function UC(n,e,t){const r={};return Mr(n.children,(a,l)=>{r[l]=a===e?t:UC(a,e,t)}),new Lt(n.segments,r)}class Kl{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Nm(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(Rd);if(a&&a!==DC(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mm{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function BC(n,e,t){if(n||(n=new Lt([],{})),0===n.segments.length&&n.hasChildren())return Vf(n,e,t);const r=function(n,e,t){let r=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=t.length)return l;const h=n.segments[a],m=t[r];if(Rd(m))break;const v=`${m}`,I=r<t.length-1?t[r+1]:null;if(a>0&&void 0===v)break;if(v&&I&&"object"==typeof I&&void 0===I.outlets){if(!HC(v,I,h))return l;r+=2}else{if(!HC(v,{},h))return l;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,e,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Lt(n.segments.slice(0,r.pathIndex),{});return l.children[en]=new Lt(n.segments.slice(r.pathIndex),n.children),Vf(l,0,a)}return r.match&&0===a.length?new Lt(n.segments,{}):r.match&&!n.hasChildren()?eE(n,e,t):r.match?Vf(n,0,a):eE(n,e,t)}function Vf(n,e,t){if(0===t.length)return new Lt(n.segments,{});{const r=function(n){return Rd(n[0])?n[0].outlets:{[en]:n}}(t),a={};return Mr(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=BC(n.children[h],e,l))}),Mr(n.children,(l,h)=>{void 0===r[h]&&(a[h]=l)}),new Lt(n.segments,a)}}function eE(n,e,t){const r=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(Rd(l)){const v=QS(l.outlets);return new Lt(r,v)}if(0===a&&Nm(t[0])){r.push(new Wl(n.segments[e].path,$C(t[0]))),a++;continue}const h=Rd(l)?l.outlets[en]:`${l}`,m=a<t.length-1?t[a+1]:null;h&&m&&Nm(m)?(r.push(new Wl(h,$C(m))),a+=2):(r.push(new Wl(h,{})),a++)}return new Lt(r,{})}function QS(n){const e={};return Mr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=eE(new Lt([],{}),0,t))}),e}function $C(n){const e={};return Mr(n,(t,r)=>e[r]=`${t}`),e}function HC(n,e,t){return n==t.path&&Go(e,t.parameters)}class JS{constructor(e,t,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Qv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const a=Dd(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],r),delete a[h]}),Mr(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const h=r.getContext(a.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,l=Dd(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const a=Dd(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],r),this.forwardEvent(new Bv(l.value.snapshot))}),e.children.length&&this.forwardEvent(new zx(e.value.snapshot))}activateRoutes(e,t,r){const a=e.value,l=t?t.value:null;if(Qv(a),a===l)if(a.component){const h=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(a.component){const h=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),tE(m.route)}else{const m=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),v=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=v,h.outlet&&h.outlet.activateWith(a,v),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function tE(n){Qv(n.value),n.children.forEach(tE)}class Uf{constructor(e,t){this.routes=e,this.module=t}}function Zl(n){return"function"==typeof n}function Yl(n){return n instanceof qo}const Ql=Symbol("INITIAL_VALUE");function Bf(){return Cr(n=>function(...n){let e,t;return(0,Ov.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Il.k)(n[0])&&(n=n[0]),(0,Ux.n)(n,t).lift(new Af(e))}(n.map(e=>e.pipe(Mu(1),Nf(Ql)))).pipe(Mf((e,t)=>{let r=!1;return t.reduce((a,l,h)=>a!==Ql?a:(l===Ql&&(r=!0),r||!1!==l&&h!==t.length-1&&!Yl(l)?a:l),e)},Ql),zs(e=>e!==Ql),(0,Pt.U)(e=>Yl(e)?e:!0===e),Mu(1)))}let $f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:function(){return[vI]},encapsulation:2}),n})();function Om(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];zC(r,tO(e,r))}}function zC(n,e){n.children&&Om(n.children,e)}function tO(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function iE(n){const e=n.children&&n.children.map(iE),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==en&&(t.component=$f),t}function is(n){return n.outlet||en}function Pm(n,e){const t=n.filter(r=>is(r)===e);return t.push(...n.filter(r=>is(r)!==e)),t}const qC={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Hf(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},qC):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Gv)(t,n,e);if(!l)return Object.assign({},qC);const h={};Mr(l.posParams,(v,I)=>{h[I]=v.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Nd(n,e,t,r,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>km(n,e,r)&&is(r)!==en)}(n,t,r)){const h=new Lt(e,function(n,e,t,r){const a={};a[en]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&is(l)!==en){const h=new Lt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,a[is(l)]=h}return a}(n,e,r,new Lt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>km(n,e,r))}(n,t,r)){const h=new Lt(n.segments,function(n,e,t,r,a,l){const h={};for(const m of r)if(km(n,t,m)&&!a[is(m)]){const v=new Lt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[is(m)]=v}return Object.assign(Object.assign({},a),h)}(n,e,t,r,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new Lt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function km(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function aE(n,e,t,r){return!!(is(n)===r||r!==en&&km(e,t,n))&&("**"===n.path||Hf(e,n,t).matched)}function uE(n,e,t){return 0===e.length&&!n.children[t]}class Jl{constructor(e){this.segmentGroup=e||null}}class lE{constructor(e){this.urlTree=e}}function Fm(n){return new Pi.y(e=>e.error(new Jl(n)))}function YC(n){return new Pi.y(e=>e.error(new lE(n)))}function eR(n){return new Pi.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class JC{constructor(e,t,r,a,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=Nd(this.urlTree.root,[],[],this.config).segmentGroup,t=new Lt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,en).pipe((0,Pt.U)(l=>this.createUrlTree(Lm(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ed(l=>{if(l instanceof lE)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Jl?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,en).pipe((0,Pt.U)(a=>this.createUrlTree(Lm(a),e.queryParams,e.fragment))).pipe(Ed(a=>{throw a instanceof Jl?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const a=e.segments.length>0?new Lt([],{[en]:e}):e;return new qo(a,t,r)}expandSegmentGroup(e,t,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Pt.U)(l=>new Lt([],l))):this.expandSegment(e,r,t,r.segments,a,!0)}expandChildren(e,t,r){const a=[];for(const l of Object.keys(r.children))"primary"===l?a.unshift(l):a.push(l);return(0,Hn.D)(a).pipe(Cm(l=>{const h=r.children[l],m=Pm(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,Pt.U)(v=>({segment:v,outlet:l})))}),Mf((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zs((a,l)=>n(a,l,r)):Uv.y,Fv(1),t?_C(e):Lv(()=>new yd))}())}expandSegment(e,t,r,a,l,h){return(0,Hn.D)(r).pipe(Cm(m=>this.expandSegmentAgainstRoute(e,t,r,m,a,l,h).pipe(Ed(I=>{if(I instanceof Jl)return(0,Ct.of)(null);throw I}))),xu(m=>!!m),Ed((m,v)=>{if(m instanceof yd||"EmptyError"===m.name){if(uE(t,a,l))return(0,Ct.of)(new Lt([],{}));throw new Jl(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,a,l,h,m){return aE(a,t,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h):Fm(t):Fm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,a){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?YC(l):this.lineralizeSegments(r,l).pipe((0,qr.zg)(h=>{const m=new Lt(h,{});return this.expandSegment(e,m,t,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h){const{matched:m,consumedSegments:v,lastChild:I,positionalParamSegments:D}=Hf(t,a,l);if(!m)return Fm(t);const S=this.applyRedirectCommands(v,a.redirectTo,D);return a.redirectTo.startsWith("/")?YC(S):this.lineralizeSegments(a,S).pipe((0,qr.zg)(U=>this.expandSegment(e,t,r,U.concat(l.slice(I)),h,!1)))}matchSegmentAgainstRoute(e,t,r,a,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ct.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Pt.U)(U=>(r._loadedConfig=U,new Lt(a,{})))):(0,Ct.of)(new Lt(a,{}));const{matched:h,consumedSegments:m,lastChild:v}=Hf(t,r,a);if(!h)return Fm(t);const I=a.slice(v);return this.getChildConfig(e,r,a).pipe((0,qr.zg)(S=>{const U=S.module,W=S.routes,{segmentGroup:te,slicedSegments:Ae}=Nd(t,m,I,W),Ve=new Lt(te.segments,te.children);if(0===Ae.length&&Ve.hasChildren())return this.expandChildren(U,W,Ve).pipe((0,Pt.U)(Tt=>new Lt(m,Tt)));if(0===W.length&&0===Ae.length)return(0,Ct.of)(new Lt(m,{}));const mt=is(r)===l;return this.expandSegment(U,Ve,W,Ae,mt?en:l,!0).pipe((0,Pt.U)(tn=>new Lt(m.concat(tn.segments),tn.children)))}))}getChildConfig(e,t,r){return t.children?(0,Ct.of)(new Uf(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ct.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,qr.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,Pt.U)(l=>(t._loadedConfig=l,l))):(n=t,new Pi.y(e=>e.error(kf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ct.of)(new Uf([],e))}runCanLoadGuards(e,t,r){const a=t.canLoad;if(!a||0===a.length)return(0,Ct.of)(!0);const l=a.map(h=>{const m=e.get(h);let v;if((n=m)&&Zl(n.canLoad))v=m.canLoad(t,r);else{if(!Zl(m))throw new Error("Invalid CanLoad guard");v=m(t,r)}var n;return Ui(v)});return(0,Ct.of)(l).pipe(Bf(),(0,rs.b)(h=>{if(!Yl(h))return;const m=kf(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,Pt.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,Ct.of)(r);if(a.numberOfChildren>1||!a.children[en])return eR(e.redirectTo);a=a.children[en]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,a){const l=this.createSegmentGroup(e,t.root,r,a);return new qo(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Mr(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const m=a.substring(1);r[l]=t[m]}else r[l]=a}),r}createSegmentGroup(e,t,r,a){const l=this.createSegments(e,t.segments,r,a);let h={};return Mr(t.children,(m,v)=>{h[v]=this.createSegmentGroup(e,m,r,a)}),new Lt(l,h)}createSegments(e,t,r,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,r))}findPosParam(e,t,r){const a=r[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let r=0;for(const a of t){if(a.path===e.path)return t.splice(r),a;r++}return e}}function Lm(n){const e={};for(const r of Object.keys(n.children)){const l=Lm(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[en]){const e=n.children[en];return new Lt(n.segments.concat(e.segments),e.children)}return n}(new Lt(n.segments,e))}class dE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gf{constructor(e,t){this.component=e,this.route=t}}function tI(n,e,t){const r=n._root;return Wf(r,e?e._root:null,t,[r.value])}function hE(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Wf(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=Dd(e);return n.children.forEach(h=>{(function(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const v=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ks(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ks(n.url,e.url)||!Go(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jv(n,e)||!Go(n.queryParams,e.queryParams);case"paramsChange":default:return!Jv(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);v?a.canActivateChecks.push(new dE(r)):(l.data=h.data,l._resolvedData=h._resolvedData),Wf(n,e,l.component?m?m.children:null:t,r,a),v&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new Gf(m.outlet.component,h))}else h&&ir(e,m,a),a.canActivateChecks.push(new dE(r)),Wf(n,null,l.component?m?m.children:null:t,r,a)})(h,l[h.value.outlet],t,r.concat([h.value]),a),delete l[h.value.outlet]}),Mr(l,(h,m)=>ir(h,t.getContext(m),a)),a}function ir(n,e,t){const r=Dd(n),a=n.value;Mr(r,(l,h)=>{ir(l,a.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Gf(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class oR{}function uI(n){return new Pi.y(e=>e.error(n))}class aR{constructor(e,t,r,a,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=Nd(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,en);if(null===t)return null;const r=new Zv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new ka(r,t),l=new zS(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=Kv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],m=Pm(e,l),v=this.processSegmentGroup(m,h,l);if(null===v)return null;r.push(...v)}const a=Vm(r);return a.sort((e,t)=>e.value.outlet===en?-1:t.value.outlet===en?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,r,a){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,a);if(null!==h)return h}return uE(t,r,a)?[]:null}processSegmentAgainstRoute(e,t,r,a){if(e.redirectTo||!aE(e,t,r,a))return null;let l,h=[],m=[];if("**"===e.path){const W=r.length>0?DC(r).parameters:{};l=new Zv(r,W,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bo(e),is(e),e.component,e,dI(t),pE(t)+r.length,Zs(e))}else{const W=Hf(t,e,r);if(!W.matched)return null;h=W.consumedSegments,m=r.slice(W.lastChild),l=new Zv(h,W.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bo(e),is(e),e.component,e,dI(t),pE(t)+h.length,Zs(e))}const v=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:I,slicedSegments:D}=Nd(t,h,m,v.filter(W=>void 0===W.redirectTo),this.relativeLinkResolution);var n;if(0===D.length&&I.hasChildren()){const W=this.processChildren(v,I);return null===W?null:[new ka(l,W)]}if(0===v.length&&0===D.length)return[new ka(l,[])];const S=is(e)===a,U=this.processSegment(v,I,D,S?en:a);return null===U?null:[new ka(l,U)]}}function fE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Vm(n){const e=[],t=new Set;for(const r of n){if(!fE(r)){e.push(r);continue}const a=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...r.children),t.add(a)):e.push(r)}for(const r of t){const a=Vm(r.children);e.push(new ka(r.value,a))}return e.filter(r=>!t.has(r))}function dI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pE(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function bo(n){return n.data||{}}function Zs(n){return n.resolve||{}}function gE(n){return Cr(e=>{const t=n(e);return t?(0,Hn.D)(t).pipe((0,Pt.U)(()=>e)):(0,Ct.of)(e)})}class zf extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const yE=new f.OlP("ROUTES");class _E{constructor(e,t,r,a){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,Pt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new Uf(TC(h.injector.get(yE,void 0,f.XFs.Self|f.XFs.Optional)).map(iE),h)}),Ed(l=>{throw t._loader$=void 0,l}));return t._loader$=new AS.c(a,()=>new zr.xQ).pipe((0,OS.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Hn.D)(this.loader.load(e)):Ui(e()).pipe((0,qr.zg)(t=>t instanceof f.YKP?(0,Ct.of)(t):(0,Hn.D)(this.compiler.compileModuleAsync(t))))}}class dR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xl,this.attachRef=null}}class Xl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new dR,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Um{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function hR(n){throw n}function gI(n,e,t){return e.parse("/")}function vE(n,e){return(0,Ct.of)(null)}const EE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _i=(()=>{class n{constructor(t,r,a,l,h,m,v,I){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=a,this.location=l,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zr.xQ,this.errorHandler=hR,this.malformedUriErrorHandler=gI,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vE,afterPreactivation:vE},this.urlHandlingStrategy=new Um,this.routeReuseStrategy=new zf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(f.h0i),this.console=h.get(f.c2e);const U=h.get(f.R0b);this.isNgZoneEnabled=U instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=new qo(new Lt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new _E(m,v,W=>this.triggerEvent(new LS(W)),W=>this.triggerEvent(new qs(W))),this.routerState=FC(this.currentUrlTree,this.rootComponentType),this.transitions=new Ws({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(zs(a=>0!==a.id),(0,Pt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Cr(a=>{let l=!1,h=!1;return(0,Ct.of)(a).pipe((0,rs.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Cr(m=>{const v=this.browserUrlTree.toString(),I=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return qf(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,Ct.of)(m).pipe(Cr(S=>{const U=this.transitions.getValue();return r.next(new Tm(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),U!==this.transitions.getValue()?xa.E:Promise.resolve(S)}),function(n,e,t,r){return Cr(a=>function(n,e,t,r,a){return new JC(n,e,t,r,a).apply()}(n,e,t,a.extractedUrl,r).pipe((0,Pt.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,rs.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function(n,e,t,r,a){return(0,qr.zg)(l=>function(n,e,t,r,a="emptyOnly",l="legacy"){try{const h=new aR(n,e,t,r,a,l).recognize();return null===h?uI(new oR):(0,Ct.of)(h)}catch(h){return uI(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,a).pipe((0,Pt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,rs.b)(S=>{"eager"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(S.urlAfterRedirects,S),this.browserUrlTree=S.urlAfterRedirects);const U=new Gx(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(U)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:W,source:te,restoredState:Ae,extras:Ve}=m,mt=new Tm(U,this.serializeUrl(W),te,Ae);r.next(mt);const _t=FC(W,this.rootComponentType).snapshot;return(0,Ct.of)(Object.assign(Object.assign({},m),{targetSnapshot:_t,urlAfterRedirects:W,extras:Object.assign(Object.assign({},Ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),xa.E}),gE(m=>{const{targetSnapshot:v,id:I,extractedUrl:D,rawUrl:S,extras:{skipLocationChange:U,replaceUrl:W}}=m;return this.hooks.beforePreactivation(v,{navigationId:I,appliedUrlTree:D,rawUrlTree:S,skipLocationChange:!!U,replaceUrl:!!W})}),(0,rs.b)(m=>{const v=new jv(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,Pt.U)(m=>Object.assign(Object.assign({},m),{guards:tI(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,e){return(0,qr.zg)(t=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?(0,Ct.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,Hn.D)(n).pipe((0,qr.zg)(a=>function(n,e,t,r,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Ct.of)(!0);const h=l.map(m=>{const v=hE(m,e,a);let I;if(function(n){return n&&Zl(n.canDeactivate)}(v))I=Ui(v.canDeactivate(n,e,t,r));else{if(!Zl(v))throw new Error("Invalid CanDeactivate guard");I=Ui(v(n,e,t,r))}return I.pipe(xu())});return(0,Ct.of)(h).pipe(Bf())}(a.component,a.route,t,e,r)),xu(a=>!0!==a,!0))}(h,r,a,n).pipe((0,qr.zg)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,e,t,r){return(0,Hn.D)(e).pipe(Cm(a=>bm(function(n,e){return null!==n&&e&&e(new Wx(n)),(0,Ct.of)(!0)}(a.route.parent,r),function(n,e){return null!==n&&e&&e(new qx(n)),(0,Ct.of)(!0)}(a.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>wm(()=>{const m=h.guards.map(v=>{const I=hE(v,h.node,t);let D;if(function(n){return n&&Zl(n.canActivateChild)}(I))D=Ui(I.canActivateChild(r,n));else{if(!Zl(I))throw new Error("Invalid CanActivateChild guard");D=Ui(I(r,n))}return D.pipe(xu())});return(0,Ct.of)(m).pipe(Bf())}));return(0,Ct.of)(l).pipe(Bf())}(n,a.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ct.of)(!0);const a=r.map(l=>wm(()=>{const h=hE(l,e,t);let m;if(function(n){return n&&Zl(n.canActivate)}(h))m=Ui(h.canActivate(e,n));else{if(!Zl(h))throw new Error("Invalid CanActivate guard");m=Ui(h(e,n))}return m.pipe(xu())}));return(0,Ct.of)(a).pipe(Bf())}(n,a.route,t))),xu(a=>!0!==a,!0))}(r,l,n,e):(0,Ct.of)(m)),(0,Pt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,rs.b)(m=>{if(Yl(m.guardsResult)){const I=kf(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw I.url=m.guardsResult,I}const v=new FS(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),zs(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),gE(m=>{if(m.guards.canActivateChecks.length)return(0,Ct.of)(m).pipe((0,rs.b)(v=>{const I=new wC(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(I)}),Cr(v=>{let I=!1;return(0,Ct.of)(v).pipe(function(n,e){return(0,qr.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,Ct.of)(t);let l=0;return(0,Hn.D)(a).pipe(Cm(h=>function(n,e,t,r){return function(n,e,t,r){const a=Object.keys(n);if(0===a.length)return(0,Ct.of)({});const l={};return(0,Hn.D)(a).pipe((0,qr.zg)(h=>function(n,e,t,r){const a=hE(n,e,r);return Ui(a.resolve?a.resolve(e,t):a(e,t))}(n[h],e,t,r).pipe((0,rs.b)(m=>{l[h]=m}))),Fv(1),(0,qr.zg)(()=>Object.keys(l).length===a.length?(0,Ct.of)(l):xa.E))}(n._resolve,n,e,r).pipe((0,Pt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Kv(n,t).resolve),null)))}(h.route,r,n,e)),(0,rs.b)(()=>l++),Fv(1),(0,qr.zg)(h=>l===a.length?(0,Ct.of)(t):xa.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,rs.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,rs.b)(v=>{const I=new CC(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(I)}))}),gE(m=>{const{targetSnapshot:v,id:I,extractedUrl:D,rawUrl:S,extras:{skipLocationChange:U,replaceUrl:W}}=m;return this.hooks.afterPreactivation(v,{navigationId:I,appliedUrlTree:D,rawUrlTree:S,skipLocationChange:!!U,replaceUrl:!!W})}),(0,Pt.U)(m=>{const v=function(n,e,t){const r=Sd(n,e._root,t?t._root:void 0);return new kC(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:v})}),(0,rs.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Pt.U)(r=>(new JS(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,rs.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new kS(n))}(()=>{var m;if(!l&&!h){const v=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,v)):this.cancelNavigationTransition(a,v)}(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===a.id&&(this.currentNavigation=null)}),Ed(m=>{if(h=!0,function(n){return n&&n[Hv]}(m)){const v=Yl(m.url);v||(this.navigated=!0,this.restoreHistory(a,!0));const I=new bC(a.id,this.serializeUrl(a.extractedUrl),m.message);r.next(I),v?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),S={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qf(a.source)};this.scheduleNavigation(D,"imperative",null,S,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const v=new Hx(a.id,this.serializeUrl(a.extractedUrl),m);r.next(v);try{a.resolve(this.errorHandler(m))}catch(I){a.reject(I)}}return xa.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:l,urlTree:h}=r,m={replaceUrl:!0};if(l){const v=Object.assign({},l);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(m.state=v)}this.scheduleNavigation(h,a,l,m)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const a=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!a||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Om(t),this.config=t.map(iE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:v}=r,I=a||this.routerState.root,D=v?this.currentUrlTree.fragment:h;let S=null;switch(m){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=l||null}return null!==S&&(S=this.removeEmptyProps(S)),function(n,e,t,r,a){if(0===t.length)return VC(e.root,e.root,e,r,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Kl(!0,0,n);let e=0,t=!1;const r=n.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Mr(l.outlets,(v,I)=>{m[I]="string"==typeof v?v.split("/"):v}),[...a,{outlets:m}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&a.push(m))}),a):[...a,l]},[]);return new Kl(t,e,r)}(t);if(l.toRoot())return VC(e.root,new Lt([],{}),e,r,a);const h=function(n,e,t){if(n.isAbsolute)return new Mm(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Mm(l,l===e.root,0)}const r=Nm(n.commands[0])?0:1;return function(n,e,t){let r=n,a=e,l=t;for(;l>a;){if(l-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new Mm(r,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=h.processChildren?Vf(h.segmentGroup,h.index,l.commands):BC(h.segmentGroup,h.index,l.commands);return VC(h.segmentGroup,m,e,r,a)}(I,this.currentUrlTree,t,S,null!=D?D:null)}navigateByUrl(t,r={skipLocationChange:!1}){const a=Yl(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return r}isActive(t,r){let a;if(a=!0===r?Object.assign({},EE):!1===r?Object.assign({},jm):r,Yl(t))return SC(this.currentUrlTree,t,a);const l=this.parseUrl(t);return SC(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((r,a)=>{const l=t[a];return null!=l&&(r[a]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Of(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,a,l,h){var m,v;if(this.disposed)return Promise.resolve(!1);const I=this.getTransition(),D=qf(r)&&I&&!qf(I.source),W=(this.lastSuccessfulId===I.id||this.currentNavigation?I.rawUrl:I.urlAfterRedirects).toString()===t.toString();if(D&&W)return Promise.resolve(!0);let te,Ae,Ve;h?(te=h.resolve,Ae=h.reject,Ve=h.promise):Ve=new Promise((tn,Tt)=>{te=tn,Ae=Tt});const mt=++this.navigationId;let _t;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),_t=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):_t=0,this.setTransition({id:mt,targetPageId:_t,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:te,reject:Ae,promise:Ve,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ve.catch(tn=>Promise.reject(tn))}setBrowserUrl(t,r){const a=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,r=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const a=new bC(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.DyG),f.LFG(Pu),f.LFG(Xl),f.LFG(nt),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function qf(n){return"imperative"!==n}let vI=(()=>{class n{constructor(t,r,a,l,h){this.parentContexts=t,this.location=r,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=l||en,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,v=new fR(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Xl),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class fR{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ad?this.route:e===Xl?this.childContexts:this.parent.get(e,t)}}class EI{}class bI{preload(e,t){return(0,Ct.of)(null)}}let wI=(()=>{class n{constructor(t,r,a,l,h){this.router=t,this.injector=l,this.preloadingStrategy=h,this.loader=new _E(r,a,I=>t.triggerEvent(new LS(I)),I=>t.triggerEvent(new qs(I)))}setUpPreloading(){this.subscription=this.router.events.pipe(zs(t=>t instanceof Of),Cm(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const a=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,Hn.D)(a).pipe((0,Rf.J)(),(0,Pt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ct.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,qr.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(_i),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(EI))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),bE=(()=>{class n{constructor(t,r,a={}){this.router=t,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Tm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Of&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $v&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new $v(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(_i),f.LFG(lo),f.LFG(void 0))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const tc=new f.OlP("ROUTER_CONFIGURATION"),CI=new f.OlP("ROUTER_FORROOT_GUARD"),mR=[nt,{provide:Pu,useClass:zl},{provide:_i,useFactory:function(n,e,t,r,a,l,h,m={},v,I){const D=new _i(null,n,e,t,r,a,l,TC(h));return v&&(D.urlHandlingStrategy=v),I&&(D.routeReuseStrategy=I),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(m,D),m.enableTracing&&D.events.subscribe(S=>{var U,W;null===(U=console.group)||void 0===U||U.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(W=console.groupEnd)||void 0===W||W.call(console)}),D},deps:[Pu,Xl,nt,f.zs3,f.v3s,f.Sil,yE,tc,[class{},new f.FiY],[class{},new f.FiY]]},Xl,{provide:Ad,useFactory:function(n){return n.routerState.root},deps:[_i]},{provide:f.v3s,useClass:f.EAV},wI,bI,class{preload(e,t){return t().pipe(Ed(()=>(0,Ct.of)(null)))}},{provide:tc,useValue:{enableTracing:!1}}];function yR(){return new f.PXZ("Router",_i)}let II=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[mR,TI(t),{provide:CI,useFactory:ER,deps:[[_i,new f.FiY,new f.tp0]]},{provide:tc,useValue:r||{}},{provide:J,useFactory:vR,deps:[me,[new f.tBr(Se),new f.FiY],tc]},{provide:bE,useFactory:_R,deps:[_i,lo,tc]},{provide:EI,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:bI},{provide:f.PXZ,multi:!0,useFactory:yR},[Hm,{provide:f.ip1,multi:!0,useFactory:RI,deps:[Hm]},{provide:wE,useFactory:NI,deps:[Hm]},{provide:f.tb,multi:!0,useExisting:wE}]]}}static forChild(t){return{ngModule:n,providers:[TI(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(CI,8),f.LFG(_i,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function _R(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new bE(n,e,t)}function vR(n,e,t={}){return t.useHash?new ke(n,e):new fe(n,e)}function ER(n){return"guarded"}function TI(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:yE,multi:!0,useValue:n}]}let Hm=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new zr.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(m=>r=m),l=this.injector.get(_i),h=this.injector.get(tc);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,Ct.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),a})}bootstrapListener(t){const r=this.injector.get(tc),a=this.injector.get(wI),l=this.injector.get(bE),h=this.injector.get(_i),m=this.injector.get(f.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function RI(n){return n.appInitializer.bind(n)}function NI(n){return n.bootstrapListener.bind(n)}const wE=new f.OlP("Router Initializer"),CE=[];let IE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[II.forRoot(CE)],II]}),n})();var nc=M(3637),ln=M(5922);function Gm(){return n=>n.lift(new xd)}class xd{call(e,t){return t.subscribe(new iO(e))}}class iO extends ns.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function Wm(n,e){return t=>t.lift(new sO(n,e))}class sO{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new xI(e,this.compare,this.keySelector))}}class xI extends ns.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var Je,vi=M(8939),Dt=(M(4828),M(3394)),Ne=M(8239),La=M(8026),zm=M(3910),Co=M(5422),sn=M(3854),qm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ys={},OI=OI||{},$t=qm||self;function Od(){}function TE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Km="closure_uid_"+(1e9*Math.random()>>>0),kI=0;function wR(n,e,t){return n.call.apply(n.bind,arguments)}function CR(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function ri(n,e,t){return(ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wR:CR).apply(null,arguments)}function ku(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ii(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,a,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[a].apply(r,h)}}function Fu(){this.s=this.s,this.o=this.o}var Zm={};Fu.prototype.s=!1,Fu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Km)&&n[Km]||(n[Km]=++kI)}(this);delete Zm[n]}},Fu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},AE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in a&&e.call(t,a[l],l,n)};function LI(n){return Array.prototype.concat.apply([],arguments)}function rc(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Lu(n){return/^[\s\xa0]*$/.test(n)}var Ei,VI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ji(n,e){return-1!=n.indexOf(e)}function SE(n,e){return n<e?-1:n>e?1:0}e:{var RE=$t.navigator;if(RE){var NE=RE.userAgent;if(NE){Ei=NE;break e}}Ei=""}function ME(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function xE(n){const e={};for(const t in n)e[t]=n[t];return e}var UI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jI(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let l=0;l<UI.length;l++)t=UI[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function BI(n){return BI[" "](n),n}BI[" "]=Od;var Vu,n,aO=ji(Ei,"Opera"),Kf=ji(Ei,"Trident")||ji(Ei,"MSIE"),OE=ji(Ei,"Edge"),kd=OE||Kf,$I=ji(Ei,"Gecko")&&!(ji(Ei.toLowerCase(),"webkit")&&!ji(Ei,"Edge"))&&!(ji(Ei,"Trident")||ji(Ei,"MSIE"))&&!ji(Ei,"Edge"),TR=ji(Ei.toLowerCase(),"webkit")&&!ji(Ei,"Edge");function PE(){var n=$t.document;return n?n.documentMode:void 0}e:{var kE="",FE=(n=Ei,$I?/rv:([^\);]+)(\)|;)/.exec(n):OE?/Edge\/([\d\.]+)/.exec(n):Kf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):TR?/WebKit\/(\S+)/.exec(n):aO?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(FE&&(kE=FE?FE[1]:""),Kf){var LE=PE();if(null!=LE&&LE>parseFloat(kE)){Vu=String(LE);break e}}Vu=kE}var DR={};function AR(){return e=DR,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=VI(String(Vu)).split("."),t=VI("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var a=e[h]||"",l=t[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=SE(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||SE(0==a[2].length,0==l[2].length)||SE(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var e}var SR=$t.document&&Kf&&(PE()||parseInt(Vu,10))||void 0,Fd=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",Od,e),$t.removeEventListener("test",Od,e)}catch(t){}return n}();function bi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ld(n,e){if(bi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($I){e:{try{BI(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:RR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ld.Z.h.call(this)}}bi.prototype.h=function(){this.defaultPrevented=!0},ii(Ld,bi);var RR={2:"touch",3:"pen",4:"mouse"};Ld.prototype.h=function(){Ld.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vd="closure_listenable_"+(1e6*Math.random()|0),NR=0;function GI(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=a,this.key=++NR,this.ca=this.fa=!1}function Qm(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ud(n){this.src=n,this.g={},this.h=0}function VE(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],a=DE(r,e);(l=0<=a)&&Array.prototype.splice.call(r,a,1),l&&(Qm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Jm(n,e,t,r){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return a}return-1}Ud.prototype.add=function(n,e,t,r,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Jm(n,e,r,a);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new GI(e,this.src,l,!!r,a)).fa=t,n.push(e)),e};var Xm="closure_lm_"+(1e6*Math.random()|0),UE={};function WI(n,e,t,r,a){if(r&&r.once)return qI(n,e,t,r,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)WI(n,e[l],t,r,a);return null}return t=WE(t),n&&n[Vd]?n.N(e,t,Pd(r)?!!r.capture:!!r,a):zI(n,e,t,!1,r,a)}function zI(n,e,t,r,a,l){if(!e)throw Error("Invalid event type");var h=Pd(a)?!!a.capture:!!a,m=HE(n);if(m||(n[Xm]=m=new Ud(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function(){var e=MR;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Fd||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(KI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qI(n,e,t,r,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)qI(n,e[l],t,r,a);return null}return t=WE(t),n&&n[Vd]?n.O(e,t,Pd(r)?!!r.capture:!!r,a):zI(n,e,t,!0,r,a)}function BE(n,e,t,r,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)BE(n,e[l],t,r,a);else r=Pd(r)?!!r.capture:!!r,t=WE(t),n&&n[Vd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Jm(l=n.g[e],t,r,a))&&(Qm(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=HE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Jm(e,t,r,a)),(t=-1<n?e[n]:null)&&$E(t))}function $E(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Vd])VE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(KI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=HE(e))?(VE(t,n),0==t.h&&(t.src=null,e[Xm]=null)):Qm(n)}}}function KI(n){return n in UE?UE[n]:UE[n]="on"+n}function MR(n,e){if(n.ca)n=!0;else{e=new Ld(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&$E(n),n=t.call(r,e)}return n}function HE(n){return(n=n[Xm])instanceof Ud?n:null}var GE="__closure_events_fn_"+(1e9*Math.random()>>>0);function WE(n){return"function"==typeof n?n:(n[GE]||(n[GE]=function(e){return n.handleEvent(e)}),n[GE])}function Kr(){Fu.call(this),this.i=new Ud(this),this.P=this,this.I=null}function si(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new bi(e,n);else if(e instanceof bi)e.target=e.target||n;else{var a=e;jI(e=new bi(r,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];a=Zf(h,r,!0,e)&&a}if(a=Zf(h=e.g=n,r,!0,e)&&a,a=Zf(h,r,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Zf(h=e.g=t[l],r,!1,e)&&a}function Zf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var m=h.listener,v=h.ia||h.src;h.fa&&VE(n.i,h),a=!1!==m.call(v,r)&&a}}return a&&!r.defaultPrevented}ii(Kr,Fu),Kr.prototype[Vd]=!0,Kr.prototype.removeEventListener=function(n,e,t,r){BE(this,n,e,t,r)},Kr.prototype.M=function(){if(Kr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Qm(t[r]);delete n.g[e],n.h--}}this.I=null},Kr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Kr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ey=$t.JSON.stringify;function xR(){var n=ny;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Yf,zE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new PR,n=>n.reset());class PR{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kR(n){$t.setTimeout(()=>{throw n},0)}function qE(n,e){Yf||function(){var n=$t.Promise.resolve(void 0);Yf=function(){n.then(FR)}}(),ty||(Yf(),ty=!0),ny.add(n,e)}var ty=!1,ny=new class{constructor(){this.h=this.g=null}add(e,t){const r=zE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function FR(){for(var n;n=xR();){try{n.h.call(n.g)}catch(t){kR(t)}var e=zE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ty=!1}function ry(n,e){Kr.call(this),this.h=n||1,this.g=e||$t,this.j=ri(this.kb,this),this.l=Date.now()}function Qf(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ZE(n,e,t){if("function"==typeof n)t&&(n=ri(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ri(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function YE(n){n.g=ZE(()=>{n.g=null,n.i&&(n.i=!1,YE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ii(ry,Kr),(Je=ry.prototype).da=!1,Je.S=null,Je.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),si(this,"tick"),this.da&&(Qf(this),this.start()))}},Je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.M=function(){ry.Z.M.call(this),Qf(this),delete this.g};class LR extends Fu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:YE(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jd(n){Fu.call(this),this.h=n,this.g={}}ii(jd,Fu);var QE=[];function JE(n,e,t,r){Array.isArray(t)||(t&&(QE[0]=t.toString()),t=QE);for(var a=0;a<t.length;a++){var l=WI(e,t[a],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function VR(n){ME(n.g,function(e,t){this.g.hasOwnProperty(t)&&$E(e)},n),n.g={}}function iy(){this.g=!0}function Uu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return ey(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}jd.prototype.M=function(){jd.Z.M.call(this),VR(this)},jd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},iy.prototype.Aa=function(){this.g=!1},iy.prototype.info=function(){};var Qs={},ZI=null;function XE(){return ZI=ZI||new Kr}function YI(n){bi.call(this,Qs.Ma,n)}function ss(n){const e=XE();si(e,new YI(e,n))}function eb(n,e){bi.call(this,Qs.STAT_EVENT,n),this.stat=e}function os(n){const e=XE();si(e,new eb(e,n))}function Jf(n,e){bi.call(this,Qs.Na,n),this.size=e}function Xf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}Qs.Ma="serverreachability",ii(YI,bi),Qs.STAT_EVENT="statevent",ii(eb,bi),Qs.Na="timingevent",ii(Jf,bi);var oy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},jR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tb(){}function JI(){}tb.prototype.h=null;var uy,ic={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ay(){bi.call(this,"d")}function ep(){bi.call(this,"c")}function ly(){}function cy(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new jd(this),this.P=BR,this.W=new ry(n=kd?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new XI}function XI(){this.i=null,this.g="",this.h=!1}ii(ay,bi),ii(ep,bi),ii(ly,tb),ly.prototype.g=function(){return new XMLHttpRequest},ly.prototype.i=function(){return{}},uy=new ly;var BR=45e3,nb={},tp={};function dy(n,e,t){n.K=1,n.v=$u(Va(e)),n.s=t,n.U=!0,rb(n,null)}function rb(n,e){n.F=Date.now(),ju(n),n.A=Va(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),my(t.h,"t",r),n.C=0,t=n.l.H,n.h=new XI,n.g=pT(n.l,t?e:null,!n.s),0<n.O&&(n.L=new LR(ri(n.Ia,n,n.g),n.O)),JE(n.V,n.g,"readystatechange",n.gb),e=n.H?xE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ss(1),function(n,e,t,r,a,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),v=0;v<m.length;v++){var I=m[v].split("=");if(1<I.length){var D=I[0];I=I[1];var S=D.split("_");h=2<=S.length&&"type"==S[1]?h+(D+"=")+I+"&":h+(D+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function eT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function tT(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=nT(n,t),a==tp){4==e&&(n.o=4,os(14),r=!1),Uu(n.j,n.m,null,"[Incomplete Response]");break}if(a==nb){n.o=4,os(15),Uu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Uu(n.j,n.m,a,null),sc(n,a)}eT(n)&&a!=tp&&a!=nb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,os(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),lp(e),e.L=!0,os(11))):(Uu(n.j,n.m,t,"[Invalid Chunked Response]"),Zo(n),Bu(n))}function nT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?tp:(t=Number(e.substring(t,r)),isNaN(t)?nb:(r+=1)+t>e.length?tp:(e=e.substr(r,t),n.C=r+t,e))}function ju(n){n.Y=Date.now()+n.P,rT(n,n.P)}function rT(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xf(ri(n.eb,n),e)}function np(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function Bu(n){0==n.l.G||n.I||JR(n.l,n)}function Zo(n){np(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Qf(n.W),VR(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function sc(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||$d(t.i,n)))if(t.I=n.N,!n.J&&$d(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(I){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Xf(ri(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;_b(t),Zd(t)}yb(t),os(18)}if(1>=lb(t.i)&&t.ka){try{t.ka()}catch(I){}t.ka=void 0}}else Qd(t,11)}else if((n.J||t.g==n)&&_b(t),!Lu(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let I=a[e];if(t.U=I[0],I=I[1],2==t.G)if("c"==I[0]){t.J=I[1],t.la=I[2];const D=I[3];null!=D&&(t.ma=D,t.h.info("VER="+t.ma));const S=I[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const U=I[5];null!=U&&"number"==typeof U&&0<U&&(t.K=r=1.5*U,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const W=n.g;if(W){const te=W.g?W.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(te){var l=r.i;!l.g&&(ji(te,"spdy")||ji(te,"quic")||ji(te,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Hd(l,l.h),l.h=null))}if(r.D){const Ae=W.g?W.g.getResponseHeader("X-HTTP-Session-Id"):null;Ae&&(r.sa=Ae,Jn(r.F,r.D,Ae))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=fT(r,r.H?r.la:null,r.W),h.J){YR(r.i,h);var m=h,v=r.K;v&&m.setTimeout(v),m.B&&(np(m),ju(m)),r.g=h}else up(r);0<t.l.length&&vy(t)}else"stop"!=I[0]&&"close"!=I[0]||Qd(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?Qd(t,7):hc(t):"noop"!=I[0]&&t.j&&t.j.wa(I),t.A=0)}ss(4)}catch(I){}}function ib(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(TE(n)||"string"==typeof n)AE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(TE(n)||"string"==typeof n){t=[];for(var r=n.length,a=0;a<r;a++)t.push(a)}else for(a in t=[],r=0,n)t[r++]=a;a=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(TE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var l=0;l<a;l++)e.call(void 0,r[l],t&&t[l],n)}}function rp(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof rp)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function sb(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];oc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)oc(a,r=n.g[e])||(n.g[t++]=r,a[r]=1),e++;n.g.length=t}}function oc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Je=cy.prototype).setTimeout=function(n){this.P=n},Je.gb=function(n){n=n.target;const e=this.L;e&&3==Cs(n)?e.l():this.Ia(n)},Je.Ia=function(n){try{if(n==this.g)e:{const D=Cs(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>D)&&(3!=D||kd||this.g&&(this.h.h||this.g.ga()||hT(this.g)))){this.I||4!=D||7==e||ss(8==e||0>=S?3:2),np(this);var t=this.g.ba();this.N=t;t:if(eT(this)){var r=hT(this.g);n="";var a=r.length,l=4==Cs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Zo(this),Bu(this);var h="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,a,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,D,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lu(m)){var I=m;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,os(12),Zo(this),Bu(this);break e}Uu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sc(this,t)}this.U?(tT(this,D,h),kd&&this.i&&3==D&&(JE(this.V,this.W,"tick",this.fb),this.W.start())):(Uu(this.j,this.m,h,null),sc(this,h)),4==D&&Zo(this),this.i&&!this.I&&(4==D?JR(this.l,this):(this.i=!1,ju(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,os(12)):(this.o=0,os(13)),Zo(this),Bu(this)}}}catch(D){}},Je.fb=function(){if(this.g){var n=Cs(this.g),e=this.g.ga();this.C<e.length&&(np(this),tT(this,n,e),this.i&&4!=n&&ju(this))}},Je.cancel=function(){this.I=!0,Zo(this)},Je.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ss(3),os(17)),Zo(this),this.o=2,Bu(this)):rT(this,this.Y-n)},(Je=rp.prototype).R=function(){sb(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Je.T=function(){return sb(this),this.g.concat()},Je.get=function(n,e){return oc(this.h,n)?this.h[n]:e},Je.set=function(n,e){oc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Je.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var a=t[r],l=this.get(a);n.call(e,l,a,this)}};var iT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ac(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ac){this.g=void 0!==e?e:n.g,hy(this,n.j),this.s=n.s,fy(this,n.i),py(this,n.m),this.l=n.l,e=n.h;var t=new sp;t.i=e.i,e.g&&(t.g=new rp(e.g),t.h=e.h),GR(this,t),this.o=n.o}else n&&(t=String(n).match(iT))?(this.g=!!e,hy(this,t[1]||"",!0),this.s=ip(t[2]||""),fy(this,t[3]||"",!0),py(this,t[4]),this.l=ip(t[5]||"",!0),GR(this,t[6]||"",!0),this.o=ip(t[7]||"")):(this.g=!!e,this.h=new sp(null,this.g))}function Va(n){return new ac(n)}function hy(n,e,t){n.j=t?ip(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function fy(n,e,t){n.i=t?ip(e,!0):e}function py(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function GR(n,e,t){e instanceof sp?(n.h=e,function(n,e){e&&!n.j&&(Gu(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(ab(this,r),my(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Hu(e,KR)),n.h=new sp(e,n.g))}function Jn(n,e,t){n.h.set(e,t)}function $u(n){return Jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ip(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Hu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,uc),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function uc(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ac.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Hu(e,ob,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Hu(e,ob,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Hu(t,"/"==t.charAt(0)?lO:qR,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Hu(t,gy)),n.join("")};var ob=/[#\/\?@]/g,qR=/[#\?:]/g,lO=/[#\?]/g,KR=/[#\?@]/g,gy=/#/g;function sp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Gu(n){n.g||(n.g=new rp,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var l=n[t].substring(0,r);a=n[t].substring(r+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ab(n,e){Gu(n),e=lc(n,e),oc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,oc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&sb(n)))}function ub(n,e){return Gu(n),e=lc(n,e),oc(n.g.h,e)}function my(n,e,t){ab(n,e),0<t.length&&(n.i=null,n.g.set(lc(n,e),rc(t)),n.h+=t.length)}function lc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function oT(n){this.l=n||aT,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ea&&$t.g.Ea()&&$t.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Je=sp.prototype).add=function(n,e){Gu(this),this.i=null,n=lc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Je.forEach=function(n,e){Gu(this),this.g.forEach(function(t,r){AE(t,function(a){n.call(e,a,r,this)},this)},this)},Je.T=function(){Gu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var a=n[r],l=0;l<a.length;l++)t.push(e[r]);return t},Je.R=function(n){Gu(this);var e=[];if("string"==typeof n)ub(this,n)&&(e=LI(e,this.g.get(lc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=LI(e,n[t])}return e},Je.set=function(n,e){return Gu(this),this.i=null,ub(this,n=lc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Je.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],a=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=a;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var aT=10;function uT(n){return!!n.h||!!n.g&&n.g.size>=n.j}function lb(n){return n.h?1:n.g?n.g.size:0}function $d(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Hd(n,e){n.g?n.g.add(e):n.h=e}function YR(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Gd(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return rc(n.i)}function vn(){}function Wu(){this.g=new vn}function Wd(n,e,t){const r=t||"";try{ib(n,function(a,l){let h=a;Pd(a)&&(h=ey(a)),e.push(r+l+"="+encodeURIComponent(h))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function cb(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(l){}}function xt(n){this.l=n.$b||null,this.j=n.ib||!1}function Bi(n,e){Kr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ap,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oT.prototype.cancel=function(){if(this.i=Gd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},vn.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},vn.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},ii(xt,tb),xt.prototype.g=function(){return new Bi(this.l,this.j)},xt.prototype.i=function(n){return function(){return n}}({}),ii(Bi,Kr);var ap=0;function zu(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function yy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zd(n)}function zd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Je=Bi.prototype).open=function(n,e){if(this.readyState!=ap)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zd(this)},Je.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yy(this)),this.readyState=ap},Je.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zd(this)),this.g&&(this.readyState=3,zd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$t.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zu(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Je.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?yy(this):zd(this),3==this.readyState&&zu(this)}},Je.Ua=function(n){this.g&&(this.response=this.responseText=n,yy(this))},Je.Ta=function(n){this.g&&(this.response=n,yy(this))},Je.ha=function(){this.g&&yy(this)},Je.setRequestHeader=function(n,e){this.v.append(n,e)},Je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var lT=$t.JSON.parse;function jr(n){Kr.call(this),this.headers=new rp,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cT,this.K=this.L=!1}ii(jr,Kr);var cT="",QR=/^https?$/i,Js=["POST","PUT"];function Io(n){return"content-type"==n.toLowerCase()}function db(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,dT(n),qd(n)}function dT(n){n.D||(n.D=!0,si(n,"complete"),si(n,"error"))}function hb(n){if(n.h&&void 0!==OI&&(!n.C[1]||4!=Cs(n)||2!=n.ba()))if(n.v&&4==Cs(n))ZE(n.Fa,0,n);else if(si(n,"readystatechange"),4==Cs(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var a=String(n.H).match(iT)[1]||null;if(!a&&$t.self&&$t.self.location){var l=$t.self.location.protocol;a=l.substr(0,l.length-1)}r=!QR.test(a?a.toLowerCase():"")}t=r}if(t)si(n,"complete"),si(n,"success");else{n.m=6;try{var h=2<Cs(n)?n.g.statusText:""}catch(v){h=""}n.j=h+" ["+n.ba()+"]",dT(n)}}finally{qd(n)}}}function qd(n,e){if(n.g){cc(n);const t=n.g,r=n.C[0]?Od:null;n.g=null,n.C=null,e||si(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function cc(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Cs(n){return n.g?n.g.readyState:0}function hT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case cT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function fb(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return ME(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Jn(n,e,t))}function Kd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _y(n){this.za=0,this.l=[],this.h=new iy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kd("baseRetryDelayMs",5e3,n),this.$a=Kd("retryDelaySeedMs",1e4,n),this.Ya=Kd("forwardChannelMaxRetries",2,n),this.ra=Kd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new oT(n&&n.concurrentRequestLimit),this.Ca=new Wu,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function hc(n){if(pb(n),3==n.G){var e=n.V++,t=Va(n.F);Jn(t,"SID",n.J),Jn(t,"RID",e),Jn(t,"TYPE","terminate"),Yd(n,t),(e=new cy(n,n.h,e,void 0)).K=2,e.v=$u(Va(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=pT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ju(e)}Jd(n)}function Zd(n){n.g&&(lp(n),n.g.cancel(),n.g=null)}function pb(n){Zd(n),n.u&&($t.clearTimeout(n.u),n.u=null),_b(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function qu(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&vy(n)}function vy(n){uT(n.i)||n.m||(n.m=!0,qE(n.Ha,n),n.C=0)}function gb(n,e){var t;t=e?e.m:n.V++;const r=Va(n.F);Jn(r,"SID",n.J),Jn(r,"RID",t),Jn(r,"AID",n.U),Yd(n,r),n.o&&n.s&&fb(r,n.o,n.s),t=new cy(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=mb(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Hd(n.i,t),dy(t,r,e)}function Yd(n,e){n.j&&ib({},function(t,r){Jn(e,r,t)})}function mb(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ri(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=a[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let v=0;v<t;v++){let I=a[v].h;const D=a[v].g;if(I-=l,0>I)l=Math.max(0,a[v].h-100),m=!1;else try{Wd(D,h,"req"+I+"_")}catch(S){r&&r(D)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function up(n){n.g||n.u||(n.Y=1,qE(n.Ga,n),n.A=0)}function yb(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Xf(ri(n.Ga,n),Vt(n,n.A)),n.A++,0))}function lp(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function by(n){n.g=new cy(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Va(n.oa);Jn(e,"RID","rpc"),Jn(e,"SID",n.J),Jn(e,"CI",n.N?"0":"1"),Jn(e,"AID",n.U),Yd(n,e),Jn(e,"TYPE","xmlhttp"),n.o&&n.s&&fb(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=$u(Va(e)),t.s=null,t.U=!0,rb(t,n)}function _b(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function JR(n,e){var t=null;if(n.g==e){_b(n),lp(n),n.g=null;var r=2}else{if(!$d(n.i,e))return;t=e.D,YR(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;si(r=XE(),new Jf(r,t,e,a)),vy(n)}else up(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==r&&function(n,e){return!(lb(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Xf(ri(n.Ha,n,e),Vt(n,n.C)),n.C++,0)))}(n,e)||2==r&&yb(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Qd(n,5);break;case 4:Qd(n,10);break;case 3:Qd(n,6);break;default:Qd(n,2)}}function Vt(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Qd(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ri(n.jb,n);t||(t=new ac("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||hy(t,"https"),$u(t)),function(n,e){const t=new iy;if($t.Image){const r=new Image;r.onload=ku(cb,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ku(cb,t,r,"TestLoadImage: error",!1,e),r.onabort=ku(cb,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ku(cb,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else os(2);n.G=0,n.j&&n.j.va(e),Jd(n),pb(n)}function Jd(n){n.G=0,n.I=-1,n.j&&((0!=Gd(n.i).length||0!=n.l.length)&&(n.i.i.length=0,rc(n.l),n.l.length=0),n.j.ua())}function fT(n,e,t){let r=function(n){return n instanceof ac?Va(n):new ac(n,void 0)}(t);if(""!=r.i)e&&fy(r,e+"."+r.i),py(r,r.m);else{const a=$t.location;r=function(n,e,t,r){var a=new ac(null,void 0);return n&&hy(a,n),e&&fy(a,e),t&&py(a,t),r&&(a.l=r),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&ME(n.aa,function(a,l){Jn(r,l,a)}),t=n.sa,(e=n.D)&&t&&Jn(r,e,t),Jn(r,"VER",n.ma),Yd(n,r),r}function pT(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jr(t&&n.Ba&&!n.qa?new xt({ib:!0}):n.qa)).L=n.H,e}function gT(){}function vb(){if(Kf&&!(10<=Number(SR)))throw Error("Environmental error: no available transport.")}function Xs(n,e){Kr.call(this),this.g=new _y(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Lu(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lu(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xd(this)}function mT(n){ay.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function oi(){ep.call(this),this.status=1}function Xd(n){this.g=n}(Je=jr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uy.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:uy),this.g.onreadystatechange=ri(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void db(this,l)}n=t||"";const a=new rp(this.headers);r&&ib(r,function(l,h){a.set(h,l)}),r=function(n){e:{var e=Io;const t=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in r&&e.call(void 0,r[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=$t.FormData&&n instanceof $t.FormData,!(0<=DE(Js,e))||r||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cc(this),0<this.B&&((this.K=function(n){return Kf&&AR()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ri(this.pa,this)):this.A=ZE(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){db(this,l)}},Je.pa=function(){void 0!==OI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,si(this,"timeout"),this.abort(8))},Je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,si(this,"complete"),si(this,"abort"),qd(this))},Je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qd(this,!0)),jr.Z.M.call(this)},Je.Fa=function(){this.s||(this.F||this.v||this.l?hb(this):this.cb())},Je.cb=function(){hb(this)},Je.ba=function(){try{return 2<Cs(this)?this.g.status:-1}catch(n){return-1}},Je.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Je.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),lT(e)}},Je.Da=function(){return this.m},Je.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=_y.prototype).ma=8,Je.G=1,Je.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Je.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new cy(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=xE(l),jI(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mb(this,a,e),Jn(t=Va(this.F),"RID",n),Jn(t,"CVER",22),this.D&&Jn(t,"X-HTTP-Session-Id",this.D),Yd(this,t),this.o&&l&&fb(t,this.o,l),Hd(this.i,a),this.Ra&&Jn(t,"TYPE","init"),this.ja?(Jn(t,"$req",e),Jn(t,"SID","null"),a.$=!0,dy(a,t,null)):dy(a,t,e),this.G=2}}else 3==this.G&&(n?gb(this,n):0==this.l.length||uT(this.i)||gb(this))},Je.Ga=function(){if(this.u=null,by(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Xf(ri(this.bb,this),n)}},Je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,os(10),Zd(this),by(this))},Je.ab=function(){null!=this.v&&(this.v=null,Zd(this),yb(this),os(19))},Je.jb=function(n){n?(this.h.info("Successfully pinged google.com"),os(2)):(this.h.info("Failed to ping google.com"),os(1))},(Je=gT.prototype).xa=function(){},Je.wa=function(){},Je.va=function(){},Je.ua=function(){},Je.Oa=function(){},vb.prototype.g=function(n,e){return new Xs(n,e)},ii(Xs,Kr),Xs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),qE(ri(n.hb,n,e))),os(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=fT(n,null,n.W),vy(n)},Xs.prototype.close=function(){hc(this.g)},Xs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,qu(this.g,e)}else this.v?((e={}).__data__=ey(n),qu(this.g,e)):qu(this.g,n)},Xs.prototype.M=function(){this.g.j=null,delete this.j,hc(this.g),delete this.g,Xs.Z.M.call(this)},ii(mT,ay),ii(oi,ep),ii(Xd,gT),Xd.prototype.xa=function(){si(this.g,"a")},Xd.prototype.wa=function(n){si(this.g,new mT(n))},Xd.prototype.va=function(n){si(this.g,new oi(n))},Xd.prototype.ua=function(){si(this.g,"b")},vb.prototype.createWebChannel=vb.prototype.g,Xs.prototype.send=Xs.prototype.u,Xs.prototype.open=Xs.prototype.m,Xs.prototype.close=Xs.prototype.close,oy.NO_ERROR=0,oy.TIMEOUT=8,oy.HTTP_ERROR=6,jR.COMPLETE="complete",JI.EventType=ic,ic.OPEN="a",ic.CLOSE="b",ic.ERROR="c",ic.MESSAGE="d",Kr.prototype.listen=Kr.prototype.N,jr.prototype.listenOnce=jr.prototype.O,jr.prototype.getLastError=jr.prototype.La,jr.prototype.getLastErrorCode=jr.prototype.Da,jr.prototype.getStatus=jr.prototype.ba,jr.prototype.getResponseJson=jr.prototype.Qa,jr.prototype.getResponseText=jr.prototype.ga,jr.prototype.send=jr.prototype.ea;var XR=Ys.createWebChannelTransport=function(){return new vb},Eb=Ys.getStatEventTarget=function(){return XE()},bb=Ys.ErrorCode=oy,eN=Ys.EventType=jR,tN=Ys.Event=Qs,yT=Ys.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},nN=Ys.FetchXmlHttpFactory=xt,wy=Ys.WebChannel=JI,wb=Ys.XhrIo=jr;const _T="@firebase/firestore";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let fc="9.6.3";const Yo=new Co.Yd("@firebase/firestore");function Cb(){return Yo.logLevel}function Ye(n,...e){if(Yo.logLevel<=Co.in.DEBUG){const t=e.map(Ib);Yo.debug(`Firestore (${fc}): ${n}`,...t)}}function xr(n,...e){if(Yo.logLevel<=Co.in.ERROR){const t=e.map(Ib);Yo.error(`Firestore (${fc}): ${n}`,...t)}}function cp(n,...e){if(Yo.logLevel<=Co.in.WARN){const t=e.map(Ib);Yo.warn(`Firestore (${fc}): ${n}`,...t)}}function Ib(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${fc}) INTERNAL ASSERTION FAILED: `+n;throw xr(e),new Error(e)}function kt(n,e){n||pt()}function tt(n,e){return n}const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends sn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ai.UNAUTHENTICATED))}shutdown(){}}class iN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sN{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const l=I=>this.i!==a?(a=this.i,t(I)):Promise.resolve();let h=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new gr,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const I=h;e.enqueueRetryable((0,Ne.Z)(function*(){yield I.promise,yield l(r.currentUser)}))},v=I=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(I=>v(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?v(I):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new gr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt("string"==typeof r.accessToken),new rN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(null===e||"string"==typeof e),new ai(e)}}class oN{constructor(e,t,r){this.type="FirstParty",this.user=ai.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class aN{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new oN(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ET{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bT{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=a=>{e.enqueueRetryable(()=>{return null!=(l=a).error&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),t(l.token);var l})};const r=a=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt("string"==typeof t.token),new ET(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Is{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function hO(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Is.I=-1;class uN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=hO(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%e.length))}return r}}function fn(n,e){return n<e?-1:n>e?1:0}function Ku(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function wT(n){return n+"\0"}class Zr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new He(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new He(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new He(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zr.fromMillis(Date.now())}static fromDate(e){return Zr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Zr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fn(this.nanoseconds,e.nanoseconds):fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new Zr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function CT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class eh{constructor(e,t,r){void 0===t?t=0:t>e.length&&pt(),void 0===r?r=e.length-t:r>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===eh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=e.get(a),h=t.get(a);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends eh{construct(e,t,r){return new mn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new He(De.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const lN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends eh{construct(e,t,r){return new mr(e,t,r)}static isValidIdentifier(e){return lN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mr(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(0===r.length)throw new He(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;a<e.length;){const m=e[a];if("\\"===m){if(a+1===e.length)throw new He(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[a+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new He(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,a+=2}else"`"===m?(h=!h,a++):"."!==m||h?(r+=m,a++):(l(),a++)}if(l(),h)throw new He(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(t)}static emptyPath(){return new mr([])}}class Ir{constructor(e){this.fields=e,e.sort(mr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ku(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Nn(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new Nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const Tb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zu(n){if(kt(!!n),"string"==typeof n){let e=0;const t=Tb.exec(n);if(kt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tr(n.seconds),nanos:Tr(n.nanos)}}function Tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function gc(n){return"string"==typeof n?Nn.fromBase64String(n):Nn.fromUint8Array(n)}function Cy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function DT(n){const e=n.mapValue.fields.__previous_value__;return Cy(e)?DT(e):e}function hp(n){const e=Zu(n.mapValue.fields.__local_write_time__.timestampValue);return new Zr(e.seconds,e.nanos)}function mc(n){return null==n}function fp(n){return 0===n&&1/n==-1/0}function AT(n){return"number"==typeof n&&Number.isInteger(n)&&!fp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ht{constructor(e){this.path=e}static fromPath(e){return new ht(mn.fromString(e))}static fromName(e){return new ht(mn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new mn(e.slice()))}}function yc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cy(n)?4:10:pt()}function Qo(n,e){if(n===e)return!0;const t=yc(n);if(t!==yc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hp(n).isEqual(hp(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=Zu(r.timestampValue),h=Zu(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,gc(n.bytesValue).isEqual(gc(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return Tr(r.geoPointValue.latitude)===Tr(a.geoPointValue.latitude)&&Tr(r.geoPointValue.longitude)===Tr(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Tr(r.integerValue)===Tr(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=Tr(r.doubleValue),h=Tr(a.doubleValue);return l===h?fp(l)===fp(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return Ku(n.arrayValue.values||[],e.arrayValue.values||[],Qo);case 10:return function(r,a){const l=r.mapValue.fields||{},h=a.mapValue.fields||{};if(CT(l)!==CT(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!Qo(l[m],h[m])))return!1;return!0}(n,e);default:return pt()}var a}function Jo(n,e){return void 0!==(n.values||[]).find(t=>Qo(t,e))}function pp(n,e){if(n===e)return 0;const t=yc(n),r=yc(e);if(t!==r)return fn(t,r);switch(t){case 0:return 0;case 1:return fn(n.booleanValue,e.booleanValue);case 2:return function(a,l){const h=Tr(a.integerValue||a.doubleValue),m=Tr(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return Db(n.timestampValue,e.timestampValue);case 4:return Db(hp(n),hp(e));case 5:return fn(n.stringValue,e.stringValue);case 6:return function(a,l){const h=gc(a),m=gc(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),m=l.split("/");for(let v=0;v<h.length&&v<m.length;v++){const I=fn(h[v],m[v]);if(0!==I)return I}return fn(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const h=fn(Tr(a.latitude),Tr(l.latitude));return 0!==h?h:fn(Tr(a.longitude),Tr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const h=a.values||[],m=l.values||[];for(let v=0;v<h.length&&v<m.length;++v){const I=pp(h[v],m[v]);if(I)return I}return fn(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const h=a.fields||{},m=Object.keys(h),v=l.fields||{},I=Object.keys(v);m.sort(),I.sort();for(let D=0;D<m.length&&D<I.length;++D){const S=fn(m[D],I[D]);if(0!==S)return S;const U=pp(h[m[D]],v[I[D]]);if(0!==U)return U}return fn(m.length,I.length)}(n.mapValue,e.mapValue);default:throw pt()}}function Db(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return fn(n,e);const t=Zu(n),r=Zu(e),a=fn(t.seconds,r.seconds);return 0!==a?a:fn(t.nanos,r.nanos)}function Ab(n){return ST(n)}function ST(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=Zu(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?gc(n.bytesValue).toBase64():"referenceValue"in n?ht.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",l=!0;for(const h of r.values||[])l?l=!1:a+=",",a+=ST(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of a)h?h=!1:l+=",",l+=`${m}:${ST(r.fields[m])}`;return l+"}"}(n.mapValue):pt();var e}function gp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sb(n){return!!n&&"integerValue"in n}function mp(n){return!!n&&"arrayValue"in n}function RT(n){return!!n&&"nullValue"in n}function NT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Iy(n){return!!n&&"mapValue"in n}function yp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yp(n.arrayValue.values[t]);return e}return Object.assign({},n)}class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Iy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yp(t)}setAll(e){let t=mr.emptyPath(),r={},a=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,a),r={},a=[],t=m.popLast()}h?r[m.lastSegment()]=yp(h):a.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Iy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Iy(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){pc(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new wi(yp(this.value))}}function MT(n){const e=[];return pc(n.fields,(t,r)=>{const a=new mr([t]);if(Iy(r)){const l=MT(r.mapValue).fields;if(0===l.length)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new Ir(e)}class Xn{constructor(e,t,r,a,l){this.key=e,this.documentType=t,this.version=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Xn(e,0,Wt.min(),wi.empty(),0)}static newFoundDocument(e,t,r){return new Xn(e,1,t,r,0)}static newNoDocument(e,t){return new Xn(e,2,t,wi.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,wi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cN{constructor(e,t=null,r=[],a=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=h,this.endAt=m,this.R=null}}function xT(n,e=null,t=[],r=[],a=null,l=null,h=null){return new cN(n,e,t,r,a,l,h)}function _p(n){const e=tt(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+Ab(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),mc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Yu(e.startAt)),e.endAt&&(t+="|ub:",t+=Yu(e.endAt)),e.R=t}return e.R}function Ep(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!Rb(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(r=e.filters[a]).op||!t.field.isEqual(r.field)||!Qo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!FT(n.startAt,e.startAt)&&FT(n.endAt,e.endAt)}function bp(n){return ht.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ci extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new PT(e,t,r):"array-contains"===t?new fN(e,r):"in"===t?new pN(e,r):"not-in"===t?new gN(e,r):"array-contains-any"===t?new mN(e,r):new Ci(e,t,r)}static P(e,t,r){return"in"===t?new dN(e,r):new hN(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(pp(t,this.value)):null!==t&&yc(this.value)===yc(t)&&this.v(pp(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class PT extends Ci{constructor(e,t,r){super(e,t,r),this.key=ht.fromName(r.referenceValue)}matches(e){const t=ht.comparator(e.key,this.key);return this.v(t)}}class dN extends Ci{constructor(e,t){super(e,"in",t),this.keys=kT(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hN extends Ci{constructor(e,t){super(e,"not-in",t),this.keys=kT(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kT(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ht.fromName(r.referenceValue))}class fN extends Ci{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mp(t)&&Jo(t.arrayValue,this.value)}}class pN extends Ci{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jo(this.value.arrayValue,t)}}class gN extends Ci{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jo(this.value.arrayValue,t)}}class mN extends Ci{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jo(this.value.arrayValue,r))}}class Ua{constructor(e,t){this.position=e,this.before=t}}function Yu(n){return`${n.before?"b":"a"}:${n.position.map(e=>Ab(e)).join(",")}`}class th{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function To(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],h=n.position[a];if(r=l.field.isKeyField()?ht.comparator(ht.fromName(h.referenceValue),t.key):pp(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function FT(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qo(n.position[t],e.position[t]))return!1;return!0}class eo{constructor(e,t=null,r=[],a=[],l=null,h="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=v,this.S=null,this.D=null}}function LT(n,e,t,r,a,l,h,m){return new eo(n,e,t,r,a,l,h,m)}function nh(n){return new eo(n)}function Nb(n){return!mc(n.limit)&&"F"===n.limitType}function rh(n){return!mc(n.limit)&&"L"===n.limitType}function wp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ty(n){for(const e of n.filters)if(e.V())return e.field;return null}function Cp(n){return null!==n.collectionGroup}function Qu(n){const e=tt(n);if(null===e.S){e.S=[];const t=Ty(e),r=wp(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new th(t)),e.S.push(new th(mr.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.S.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new th(mr.keyField(),l))}}}return e.S}function to(n){const e=tt(n);if(!e.D)if("F"===e.limitType)e.D=xT(e.path,e.collectionGroup,Qu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Qu(e))t.push(new th(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Ua(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Ua(e.startAt.position,!e.startAt.before):null;e.D=xT(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.D}function VT(n,e,t){return new eo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ip(n,e){return Ep(to(n),to(e))&&n.limitType===e.limitType}function UT(n){return`${_p(to(n))}|lt:${n.limitType}`}function Dy(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ab(r.value)}`;var r}).join(", ")}]`),mc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Yu(n.startAt)),n.endAt&&(e+=", endAt: "+Yu(n.endAt)),`Target(${e})`}(to(n))}; limitType=${n.limitType})`}function _c(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):ht.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!To(t.startAt,Qu(t),r)||t.endAt&&To(t.endAt,Qu(t),r)));var t,r}function Mb(n){return(e,t)=>{let r=!1;for(const a of Qu(n)){const l=yN(a,e,t);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function yN(n,e,t){const r=n.field.isKeyField()?ht.comparator(e.key,t.key):function(a,l,h){const m=l.data.field(a),v=h.data.field(a);return null!==m&&null!==v?pp(m,v):pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}function xb(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fp(e)?"-0":e}}function Ob(n){return{integerValue:""+n}}function jT(n,e){return AT(e)?Ob(e):xb(n,e)}class Tp{constructor(){this._=void 0}}function BT(n,e,t){return n instanceof ih?function(r,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof sh?Ii(n,e):n instanceof no?$T(n,e):function(r,a){const l=Pb(r,a),h=vN(l)+vN(r.N);return Sb(l)&&Sb(r.N)?Ob(h):xb(r.k,h)}(n,e)}function _N(n,e,t){return n instanceof sh?Ii(n,e):n instanceof no?$T(n,e):t}function Pb(n,e){return n instanceof oh?Sb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ih extends Tp{}class sh extends Tp{constructor(e){super(),this.elements=e}}function Ii(n,e){const t=ah(e);for(const r of n.elements)t.some(a=>Qo(a,r))||t.push(r);return{arrayValue:{values:t}}}class no extends Tp{constructor(e){super(),this.elements=e}}function $T(n,e){let t=ah(e);for(const r of n.elements)t=t.filter(a=>!Qo(a,r));return{arrayValue:{values:t}}}class oh extends Tp{constructor(e,t){super(),this.k=e,this.N=t}}function vN(n){return Tr(n.integerValue||n.doubleValue)}function ah(n){return mp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Dp{constructor(e,t){this.field=e,this.transform=t}}class EN{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ay(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Sy{}function Fb(n,e,t){n instanceof My?function(r,a,l){const h=r.value.clone(),m=Lb(r.fieldTransforms,a,l.transformResults);h.setAll(m),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ja?function(r,a,l){if(!Ay(r.precondition,a))return void a.convertToUnknownDocument(l.version);const h=Lb(r.fieldTransforms,a,l.transformResults),m=a.data;m.setAll(GT(r)),m.setAll(h),a.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ry(n,e,t){var a;n instanceof My?function(r,a,l){if(!Ay(r.precondition,a))return;const h=r.value.clone(),m=Sp(r.fieldTransforms,l,a);h.setAll(m),a.convertToFoundDocument(Ny(a),h).setHasLocalMutations()}(n,e,t):n instanceof ja?function(r,a,l){if(!Ay(r.precondition,a))return;const h=Sp(r.fieldTransforms,l,a),m=a.data;m.setAll(GT(r)),m.setAll(h),a.convertToFoundDocument(Ny(a),m).setHasLocalMutations()}(n,e,t):Ay(n.precondition,a=e)&&a.convertToNoDocument(Wt.min())}function HT(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=Pb(r.transform,a||null);null!=l&&(null==t&&(t=wi.empty()),t.set(r.field,l))}return t||null}function Ap(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ku(t,r,(a,l)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof sh&&r instanceof sh||t instanceof no&&r instanceof no?Ku(t.elements,r.elements,Qo):t instanceof oh&&r instanceof oh?Qo(t.N,r.N):t instanceof ih&&r instanceof ih);var t,r}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Ny(n){return n.isFoundDocument()?n.version:Wt.min()}class My extends Sy{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}}class ja extends Sy{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}}function GT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Lb(n,e,t){const r=new Map;kt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],h=l.transform,m=e.data.field(l.field);r.set(l.field,_N(h,m,t[a]))}return r}function Sp(n,e,t){const r=new Map;for(const a of n){const l=a.transform,h=t.data.field(a.field);r.set(a.field,BT(l,h,e))}return r}class uh extends Sy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Vb extends Sy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Ub{constructor(e){this.count=e}}var yr,gn;function WT(n){switch(n){default:return pt();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0}}function jb(n){if(void 0===n)return xr("GRPC error has no .code"),De.UNKNOWN;switch(n){case yr.OK:return De.OK;case yr.CANCELLED:return De.CANCELLED;case yr.UNKNOWN:return De.UNKNOWN;case yr.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case yr.INTERNAL:return De.INTERNAL;case yr.UNAVAILABLE:return De.UNAVAILABLE;case yr.UNAUTHENTICATED:return De.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case yr.NOT_FOUND:return De.NOT_FOUND;case yr.ALREADY_EXISTS:return De.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return De.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case yr.ABORTED:return De.ABORTED;case yr.OUT_OF_RANGE:return De.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return De.UNIMPLEMENTED;case yr.DATA_LOSS:return De.DATA_LOSS;default:return pt()}}(gn=yr||(yr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class Or{constructor(e,t){this.comparator=e,this.root=t||ui.EMPTY}insert(e,t){return new Or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ui.BLACK,null,null))}remove(e){return new Or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ui.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rp(this.root,e,this.comparator,!0)}}class Rp{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ui{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=null!=r?r:ui.RED,this.left=null!=a?a:ui.EMPTY,this.right=null!=l?l:ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new ui(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ui.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}ui.EMPTY=null,ui.RED=!0,ui.BLACK=!1,ui.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,r,a){return this}insert(n,e,t){return new ui(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class or{constructor(e){this.comparator=e,this.data=new Or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bb(this.data.getIterator())}getIteratorFrom(e){return new Bb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof or)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new or(this.comparator);return t.data=e,t}}class Bb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const bN=new Or(ht.comparator);function ro(){return bN}const zT=new Or(ht.comparator);function $b(){return zT}const qT=new Or(ht.comparator);function Hb(){return qT}const KT=new or(ht.comparator);function An(...n){let e=KT;for(const t of n)e=e.add(t);return e}const wN=new or(fn);function xy(){return wN}class Np{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,lh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Np(Wt.min(),r,xy(),ro(),An())}}class lh{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new lh(Nn.EMPTY_BYTE_STRING,t,An(),An(),An())}}class Gb{constructor(e,t,r,a){this.$=e,this.removedTargetIds=t,this.key=r,this.O=a}}class CN{constructor(e,t){this.targetId=e,this.M=t}}class IN{constructor(e,t,r=Nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class TN{constructor(){this.F=0,this.L=AN(),this.B=Nn.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=An(),t=An(),r=An();return this.L.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:pt()}}),new lh(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=AN()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class fO{constructor(e){this.et=e,this.nt=new Map,this.st=ro(),this.it=DN(),this.rt=new or(fn)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,a)=>{this.lt(a)&&t(a)})}dt(e){const t=e.targetId,r=e.M.count,a=this.wt(t);if(a){const l=a.target;if(bp(l))if(0===r){const h=new ht(l.path);this.at(t,h,Xn.newNoDocument(h,Wt.min()))}else kt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&bp(m.target)){const v=new ht(m.target.path);null!==this.st.get(v)||this.yt(h,v)||this.at(h,v,Xn.newNoDocument(v,e))}l.j&&(t.set(h,l.G()),l.H())}});let r=An();this.it.forEach((l,h)=>{let m=!0;h.forEachWhile(v=>{const I=this.wt(v);return!I||2===I.purpose||(m=!1,!1)}),m&&(r=r.add(l))});const a=new Np(e,t,this.rt,this.st,r);return this.st=ro(),this.it=DN(),this.rt=new or(fn),a}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const a=this.ht(e);this.yt(e,t)?a.J(t,1):a.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new TN,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new or(fn),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Ye("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new TN),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function DN(){return new Or(ht.comparator)}function AN(){return new Or(ht.comparator)}const pO={asc:"ASCENDING",desc:"DESCENDING"},gO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mO{constructor(e,t){this.databaseId=e,this.C=t}}function Oy(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SN(n,e){return n.C?e.toBase64():e.toUint8Array()}function yO(n,e){return Oy(n,e.toTimestamp())}function li(n){return kt(!!n),Wt.fromTimestamp(function(e){const t=Zu(e);return new Zr(t.seconds,t.nanos)}(n))}function ZT(n,e){return(t=n,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function RN(n){const e=mn.fromString(n);return kt(Kb(e)),e}function Py(n,e){return ZT(n.databaseId,e.path)}function Xo(n,e){const t=RN(e);if(t.get(1)!==n.databaseId.projectId)throw new He(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new He(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ht(NN(t))}function Wb(n,e){return ZT(n.databaseId,e)}function YT(n){const e=RN(n);return 4===e.length?mn.emptyPath():NN(e)}function ky(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NN(n){return kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function MN(n,e,t){return{name:Py(n,e),fields:t.value.mapValue.fields}}function QT(n,e,t){const r=Xo(n,e.name),a=li(e.updateTime),l=new wi({mapValue:{fields:e.fields}}),h=Xn.newFoundDocument(r,a,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function zb(n,e){let t;if(e instanceof My)t={update:MN(n,e.key,e.value)};else if(e instanceof uh)t={delete:Py(n,e.key)};else if(e instanceof ja)t={update:MN(n,e.key,e.data),updateMask:vO(e.fieldMask)};else{if(!(e instanceof Vb))return pt();t={verify:Py(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof ih)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof sh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof no)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof oh)return{fieldPath:l.field.canonicalString(),increment:h.N};throw pt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:yO(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:pt()),t;var a}function PN(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Dr.updateTime(li(a.updateTime)):void 0!==a.exists?Dr.exists(a.exists):Dr.none():Dr.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(l,h){let m=null;"setToServerValue"in h?(kt("REQUEST_TIME"===h.setToServerValue),m=new ih):"appendMissingElements"in h?m=new sh(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new no(h.removeAllFromArray.values||[]):"increment"in h?m=new oh(l,h.increment):pt();const v=mr.fromServerFormat(h.fieldPath);return new Dp(v,m)}(n,a)):[];var a;if(e.update){const a=Xo(n,e.update.name),l=new wi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Ir((e.updateMask.fieldPaths||[]).map(I=>mr.fromServerFormat(I)));return new ja(a,l,h,t,r)}return new My(a,l,t,r)}if(e.delete){const a=Xo(n,e.delete);return new uh(a,t)}if(e.verify){const a=Xo(n,e.verify);return new Vb(a,t)}return pt()}function kN(n,e){return{documents:[Wb(n,e.path)]}}function JT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Wb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Wb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(m){if(0===m.length)return;const v=m.map(I=>function(D){if("=="===D.op){if(NT(D.value))return{unaryFilter:{field:Ju(D.field),op:"IS_NAN"}};if(RT(D.value))return{unaryFilter:{field:Ju(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(NT(D.value))return{unaryFilter:{field:Ju(D.field),op:"IS_NOT_NAN"}};if(RT(D.value))return{unaryFilter:{field:Ju(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ju(D.field),op:UN(D.op),value:D.value}}}(I));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(m){if(0!==m.length)return m.map(v=>{return{field:Ju((I=v).field),direction:VN(I.dir)};var I})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(v=e.limit,n.C||mc(v)?v:{value:v});var v;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=vc(e.startAt)),e.endAt&&(t.structuredQuery.endAt=vc(e.endAt)),t}function FN(n){let e=YT(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){kt(1===r);const D=t.from[0];D.allDescendants?a=D.collectionId:e=e.child(D.collectionId)}let l=[];t.where&&(l=Fy(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(D=>{return new th(Ec((S=D).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let m=null;t.limit&&(m=function(D){let S;return S="object"==typeof D?D.value:D,mc(S)?null:S}(t.limit));let v=null;t.startAt&&(v=qb(t.startAt));let I=null;return t.endAt&&(I=qb(t.endAt)),LT(e,a,h,l,m,"F",v,I)}function Fy(n){return n?void 0!==n.unaryFilter?[eD(n)]:void 0!==n.fieldFilter?[XT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Fy(e)).reduce((e,t)=>e.concat(t)):pt():[]}function vc(n){return{before:n.before,values:n.position}}function qb(n){return new Ua(n.values||[],!!n.before)}function VN(n){return pO[n]}function UN(n){return gO[n]}function Ju(n){return{fieldPath:n.canonicalString()}}function Ec(n){return mr.fromServerFormat(n.fieldPath)}function XT(n){return Ci.create(Ec(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function eD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ec(n.unaryFilter.field);return Ci.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ec(n.unaryFilter.field);return Ci.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ec(n.unaryFilter.field);return Ci.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ec(n.unaryFilter.field);return Ci.create(a,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}function vO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Kb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function as(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jN(e)),e=tD(n.get(t),e);return jN(e)}function tD(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function jN(n){return n+"\x01\x01"}function Xu(n){const e=n.length;if(kt(e>=2),2===e)return kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mn.emptyPath();const t=e-2,r=[];let a="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&pt(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let v;0===a.length?v=m:(a+=m,v=a,a=""),r.push(v);break;case"\x10":a+=n.substring(l,h),a+="\0";break;case"\x11":a+=n.substring(l,h+1);break;default:pt()}l=h+2}return new mn(r)}class EO{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Ts{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Ts.store="owner",Ts.key="owner";class bc{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}bc.store="mutationQueues",bc.keyPath="userId";class Fn{constructor(e,t,r,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=l}}Fn.store="mutations",Fn.keyPath="batchId",Fn.userMutationsIndex="userMutationsIndex",Fn.userMutationsKeyPath=["userId","batchId"];class Ti{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,as(t)]}static key(e,t,r){return[e,as(t),r]}}Ti.store="documentMutations",Ti.PLACEHOLDER=new Ti;class bO{constructor(e,t){this.path=e,this.readTime=t}}class wO{constructor(e,t){this.path=e,this.version=t}}class er{constructor(e,t,r,a,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=h}}er.store="remoteDocuments",er.readTimeIndex="readTimeIndex",er.readTimeIndexPath="readTime",er.collectionReadTimeIndex="collectionReadTimeIndex",er.collectionReadTimeIndexPath=["parentPath","readTime"];class ea{constructor(e){this.byteSize=e}}ea.store="remoteDocumentGlobal",ea.key="remoteDocumentGlobalKey";class Ds{constructor(e,t,r,a,l,h,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Ds.store="targets",Ds.keyPath="targetId",Ds.queryTargetsIndexName="queryTargetsIndex",Ds.queryTargetsKeyPath=["canonicalId","targetId"];class Di{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Di.store="targetDocuments",Di.keyPath=["targetId","path"],Di.documentTargetsIndex="documentTargetsIndex",Di.documentTargetsKeyPath=["path","targetId"];class As{constructor(e,t,r,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}As.key="targetGlobalKey",As.store="targetGlobal";class ch{constructor(e,t){this.collectionId=e,this.parent=t}}ch.store="collectionParents",ch.keyPath=["collectionId","parent"];class ta{constructor(e,t,r,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=a}}ta.store="clientMetadata",ta.keyPath="clientId";class dh{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}dh.store="bundles",dh.keyPath="bundleId";class Mp{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Mp.store="namedQueries",Mp.keyPath="name";const CO=[bc.store,Fn.store,Ti.store,er.store,Ds.store,Ts.store,As.store,Di.store,ta.store,ea.store,ch.store,dh.store,Mp.store],nD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $e((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $e?t:$e.resolve(t)}catch(t){return $e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$e.reject(t)}static resolve(e){return new $e((t,r)=>{t(e)})}static reject(e){return new $e((t,r)=>{r(e)})}static waitFor(e){return new $e((t,r)=>{let a=0,l=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++l,h&&l===a&&t()},v=>r(v))}),h=!0,l===a&&t()})}static or(e){let t=$e.resolve(!1);for(const r of e)t=t.next(a=>a?$e.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}}class Ly{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new gr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new xp(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const a=Yb(r.target.error);this.It.reject(new xp(e,a))}}static open(e,t,r,a){try{return new Ly(t,e.transaction(a,r))}catch(l){throw new xp(t,l)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Ye("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new BN(t)}}class Do{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===Do.bt((0,sn.z$)())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ye("SimpleDb","Removing database:",e),Ba(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,sn.hl)())return!1;if(Do.vt())return!0;const e=(0,sn.z$)(),t=Do.bt(e),r=0<t&&t<10,a=Do.Vt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,Ne.Z)(function*(){return t.db||(Ye("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{a(new xp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;a("VersionError"===m.name?new He(De.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new He(De.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new xp(e,m))},l.onupgradeneeded=h=>{Ye("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Ye("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var l=this;return(0,Ne.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Ct(e);const v=Ly.open(l.db,e,h?"readonly":"readwrite",r),I=a(v).catch(D=>(v.abort(D),$e.reject(D))).toPromise();return I.catch(()=>{}),yield v.At,I}catch(v){const I="FirebaseError"!==v.name&&m<3;if(Ye("SimpleDb","Transaction failed with error:",v.message,"Retrying:",I),l.close(),!I)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Zb{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Ba(this.$t.delete())}}class xp extends He{constructor(e,t){super(De.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Br(n){return"IndexedDbTransactionError"===n.name}class BN{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ye("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ye("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ba(r)}add(e){return Ye("SimpleDb","ADD",this.store.name,e,e),Ba(this.store.add(e))}get(e){return Ba(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ye("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ye("SimpleDb","DELETE",this.store.name,e),Ba(this.store.delete(e))}count(){return Ye("SimpleDb","COUNT",this.store.name),Ba(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),a=[];return this.Ut(r,(l,h)=>{a.push(h)}).next(()=>a)}qt(e,t){Ye("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const a=this.cursor(r);return this.Ut(a,(l,h,m)=>m.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.Ut(a,t)}Qt(e){const t=this.cursor({});return new $e((r,a)=>{t.onerror=l=>{const h=Yb(l.target.error);a(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new $e((a,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void a();const v=new Zb(m),I=t(m.primaryKey,m.value,v);if(I instanceof $e){const D=I.catch(S=>(v.done(),$e.reject(S)));r.push(D)}v.isDone?a():null===v.Ft?m.continue():m.continue(v.Ft)}}).next(()=>$e.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ba(n){return new $e((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=Yb(r.target.error);t(a)}})}let rD=!1;function Yb(n){const e=Do.bt((0,sn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rD||(rD=!0,setTimeout(()=>{throw r},0)),r}}return n}class Vy extends hh{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function $i(n,e){const t=tt(n);return Do.Dt(t.Wt,e)}class Uy{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Fb(l,e,r[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Ry(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Ry(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(Wt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),An())}isEqual(e){return this.batchId===e.batchId&&Ku(this.mutations,e.mutations,(t,r)=>Ap(t,r))&&Ku(this.baseMutations,e.baseMutations,(t,r)=>Ap(t,r))}}class Qb{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){kt(e.mutations.length===r.length);let a=Hb();const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,r[h].version);return new Qb(e,t,r,a)}}class $a{constructor(e,t,r,a,l=Wt.min(),h=Wt.min(),m=Nn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new $a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Jb{constructor(e){this.Gt=e}}function Xb(n,e){if(e.document)return QT(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=ht.fromSegments(e.noDocument.path),r=el(e.noDocument.readTime),a=Xn.newNoDocument(t,r);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=ht.fromSegments(e.unknownDocument.path),r=el(e.unknownDocument.version);return Xn.newUnknownDocument(t,r)}return pt()}function iD(n,e,t){const r=Op(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:Py(m=n.Gt,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:Oy(m,v.version.toTimestamp())};return new er(null,null,l,e.hasCommittedMutations,r,a)}var m,v;if(e.isNoDocument()){const l=e.key.path.toArray(),h=wc(e.version),m=e.hasCommittedMutations;return new er(null,new bO(l,h),null,m,r,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=wc(e.version);return new er(new wO(l,h),null,null,!0,r,a)}return pt()}function Op(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ew(n){const e=new Zr(n[0],n[1]);return Wt.fromTimestamp(e)}function wc(n){const e=n.toTimestamp();return new EO(e.seconds,e.nanoseconds)}function el(n){const e=new Zr(n.seconds,n.nanoseconds);return Wt.fromTimestamp(e)}function fh(n,e){const t=(e.baseMutations||[]).map(l=>PN(n.Gt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>PN(n.Gt,l)),a=Zr.fromMillis(e.localWriteTimeMs);return new Uy(e.batchId,a,t,r)}function Hi(n){const e=el(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?el(n.lastLimboFreeSnapshotVersion):Wt.min();let r;var a;return void 0!==n.query.documents?(kt(1===(a=n.query).documents.length),r=to(nh(YT(a.documents[0])))):r=to(FN(n.query)),new $a(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Nn.fromBase64String(n.resumeToken))}function sD(n,e){const t=wc(e.snapshotVersion),r=wc(e.lastLimboFreeSnapshotVersion);let a;a=bp(e.target)?kN(n.Gt,e.target):JT(n.Gt,e.target);const l=e.resumeToken.toBase64();return new Ds(e.targetId,_p(e.target),t,l,e.sequenceNumber,r,a)}function oD(n){const e=FN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?VT(e,e.limit,"L"):e}class $N{getBundleMetadata(e,t){return HN(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:el(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return HN(e).put({bundleId:(r=t).id,createTime:wc(li(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return aD(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:oD(a.bundledQuery),readTime:el(a.readTime)};var a})}saveNamedQuery(e,t){return aD(e).put({name:(r=t).name,readTime:wc(li(r.readTime)),bundledQuery:r.bundledQuery});var r}}function HN(n){return $i(n,dh.store)}function aD(n){return $i(n,Mp.store)}class GN{constructor(){this.zt=new tw}addToCollectionParentIndex(e,t){return this.zt.add(t),$e.resolve()}getCollectionParents(e,t){return $e.resolve(this.zt.getEntries(t))}}class tw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new or(mn.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new or(mn.comparator)).toArray()}}class IO{constructor(){this.Ht=new tw}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const l={collectionId:r,parent:as(a)};return uD(e).put(l)}return $e.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[wT(t),""],!1,!0);return uD(e).Bt(a).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(Xu(h.parent))}return r})}}function uD(n){return $i(n,ch.store)}const nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class us{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new us(e,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lD(n,e,t){const r=n.store(Fn.store),a=n.store(Ti.store),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const v=r.jt({range:h},(D,S,U)=>(m++,U.delete()));l.push(v.next(()=>{kt(1===m)}));const I=[];for(const D of t.mutations){const S=Ti.key(e,D.key.path,t.batchId);l.push(a.delete(S)),I.push(D.key)}return $e.waitFor(l).next(()=>I)}function Pp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(41943040,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);class rw{constructor(e,t,r,a){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=a,this.Yt={}}static Xt(e,t,r,a){kt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new rw(l,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ha(e).jt({index:Fn.userMutationsIndex,range:r},(a,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const l=Cc(e),h=Ha(e);return h.add({}).next(m=>{kt("number"==typeof m);const v=new Uy(m,t,r,a),I=function(U,W,te){const Ae=te.baseMutations.map(mt=>zb(U.Gt,mt)),Ve=te.mutations.map(mt=>zb(U.Gt,mt));return new Fn(W,te.batchId,te.localWriteTime.toMillis(),Ae,Ve)}(this.k,this.userId,v),D=[];let S=new or((U,W)=>fn(U.canonicalString(),W.canonicalString()));for(const U of a){const W=Ti.key(this.userId,U.key.path,m);S=S.add(U.key.path.popLast()),D.push(h.put(I)),D.push(l.put(W,Ti.PLACEHOLDER))}return S.forEach(U=>{D.push(this.Jt.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.Yt[m]=v.keys()}),$e.waitFor(D).next(()=>v)})}lookupMutationBatch(e,t){return Ha(e).get(t).next(r=>r?(kt(r.userId===this.userId),fh(this.k,r)):null)}Zt(e,t){return this.Yt[t]?$e.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.Yt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ha(e).jt({index:Fn.userMutationsIndex,range:a},(h,m,v)=>{m.userId===this.userId&&(kt(m.batchId>=r),l=fh(this.k,m)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ha(e).jt({index:Fn.userMutationsIndex,range:t,reverse:!0},(a,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ha(e).Bt(Fn.userMutationsIndex,t).next(r=>r.map(a=>fh(this.k,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ti.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),l=[];return Cc(e).jt({range:a},(h,m,v)=>{const[I,D,S]=h,U=Xu(D);if(I===this.userId&&t.path.isEqual(U))return Ha(e).get(S).next(W=>{if(!W)throw pt();kt(W.userId===this.userId),l.push(fh(this.k,W))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new or(fn);const a=[];return t.forEach(l=>{const h=Ti.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),v=Cc(e).jt({range:m},(I,D,S)=>{const[U,W,te]=I,Ae=Xu(W);U===this.userId&&l.path.isEqual(Ae)?r=r.add(te):S.done()});a.push(v)}),$e.waitFor(a).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,l=Ti.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new or(fn);return Cc(e).jt({range:h},(v,I,D)=>{const[S,U,W]=v,te=Xu(U);S===this.userId&&r.isPrefixOf(te)?te.length===a&&(m=m.add(W)):D.done()}).next(()=>this.te(e,m))}te(e,t){const r=[],a=[];return t.forEach(l=>{a.push(Ha(e).get(l).next(h=>{if(null===h)throw pt();kt(h.userId===this.userId),r.push(fh(this.k,h))}))}),$e.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return lD(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),$e.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return $e.resolve();const r=IDBKeyRange.lowerBound(Ti.prefixForUser(this.userId)),a=[];return Cc(e).jt({range:r},(l,h,m)=>{if(l[0]===this.userId){const v=Xu(l[1]);a.push(v)}else m.done()}).next(()=>{kt(0===a.length)})})}containsKey(e,t){return WN(e,this.userId,t)}ne(e){return cD(e).get(this.userId).next(t=>t||new bc(this.userId,-1,""))}}function WN(n,e,t){const r=Ti.prefixForPath(e,t.path),a=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Cc(n).jt({range:l,Kt:!0},(m,v,I)=>{const[D,S,U]=m;D===e&&S===a&&(h=!0),I.done()}).next(()=>h)}function Ha(n){return $i(n,Fn.store)}function Cc(n){return $i(n,Ti.store)}function cD(n){return $i(n,bc.store)}class Ic{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Ic(0)}static re(){return new Ic(-1)}}class dD{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new Ic(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Wt.fromTimestamp(new Zr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.ce(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>na(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(kt(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let a=0;const l=[];return na(e).jt((h,m)=>{const v=Hi(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(a++,l.push(this.removeTargetData(e,v)))}).next(()=>$e.waitFor(l)).next(()=>a)}forEachTarget(e,t){return na(e).jt((r,a)=>{const l=Hi(a);t(l)})}oe(e){return jy(e).get(As.key).next(t=>(kt(null!==t),t))}ce(e,t){return jy(e).put(As.key,t)}ae(e,t){return na(e).put(sD(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=_p(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return na(e).jt({range:a,index:Ds.queryTargetsIndexName},(h,m,v)=>{const I=Hi(m);Ep(t,I.target)&&(l=I,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const a=[],l=Ga(e);return t.forEach(h=>{const m=as(h.path);a.push(l.put(new Di(r,m))),a.push(this.referenceDelegate.addReference(e,r,h))}),$e.waitFor(a)}removeMatchingKeys(e,t,r){const a=Ga(e);return $e.forEach(t,l=>{const h=as(l.path);return $e.waitFor([a.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Ga(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Ga(e);let l=An();return a.jt({range:r,Kt:!0},(h,m,v)=>{const I=Xu(h[1]),D=new ht(I);l=l.add(D)}).next(()=>l)}containsKey(e,t){const r=as(t.path),a=IDBKeyRange.bound([r],[wT(r)],!1,!0);let l=0;return Ga(e).jt({index:Di.documentTargetsIndex,Kt:!0,range:a},([h,m],v,I)=>{0!==h&&(l++,I.done())}).next(()=>l>0)}Et(e,t){return na(e).get(t).next(r=>r?Hi(r):null)}}function na(n){return $i(n,Ds.store)}function jy(n){return $i(n,As.store)}function Ga(n){return $i(n,Di.store)}function Tc(n){return iw.apply(this,arguments)}function iw(){return(iw=(0,Ne.Z)(function*(n){if(n.code!==De.FAILED_PRECONDITION||n.message!==nD)throw n;Ye("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function zN([n,e],[t,r]){const a=fn(n,t);return 0===a?fn(e,r):a}class TO{constructor(e){this.he=e,this.buffer=new or(zN),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();zN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DO{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Ye("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ne.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Br(a)?Ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Tc(a)}yield t.me(e)}))}}class hD{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return $e.resolve(Is.I);const r=new TO(t);return this.ge.forEachTarget(e,a=>r.de(a.sequenceNumber)).next(()=>this.ge.pe(e,a=>r.de(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(nw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nw):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,a,l,h,m,v,I;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,h=Date.now(),this.nthSequenceNumber(e,a))).next(S=>(r=S,m=Date.now(),this.removeTargets(e,r,t))).next(S=>(l=S,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(I=Date.now(),Cb()<=Co.in.DEBUG&&Ye("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-D}ms\n\tDetermined least recently used ${a} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(v-m)+`ms\n\tRemoved ${S} documents in `+(I-v)+`ms\nTotal Duration: ${I-D}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:S})))}}class fD{constructor(e,t){this.db=e,this.garbageCollector=new hD(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,a)=>t(a))}addReference(e,t,r){return By(e,r)}removeReference(e,t,r){return By(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return By(e,t)}Ae(e,t){return function(r,a){let l=!1;return cD(r).Qt(h=>WN(r,h,a).next(m=>(m&&(l=!0),$e.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ie(e,(h,m)=>{if(m<=t){const v=this.Ae(e,h).next(I=>{if(!I)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),Ga(e).delete([0,as(h.path)])))});a.push(v)}}).next(()=>$e.waitFor(a)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return By(e,t)}Ie(e,t){const r=Ga(e);let a,l=Is.I;return r.jt({index:Di.documentTargetsIndex},([h,m],{path:v,sequenceNumber:I})=>{0===h?(l!==Is.I&&t(new ht(Xu(a)),l),l=I,a=v):l=Is.I}).next(()=>{l!==Is.I&&t(new ht(Xu(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function By(n,e){return Ga(n).put((r=n.currentSequenceNumber,new Di(0,as(e.path),r)));var r}class ph{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,l]of r)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),!0;return!1}forEach(e){pc(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return IT(this.inner)}}class pD{constructor(){this.changes=new ph(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Wt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Xn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?$e.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qN{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return Dc(e).put($y(t),r)}removeEntry(e,t){const r=Dc(e),a=$y(t);return r.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return Dc(e).get($y(t)).next(r=>this.be(t,r))}Pe(e,t){return Dc(e).get($y(t)).next(r=>({document:this.be(t,r),size:Pp(r)}))}getEntries(e,t){let r=ro();return this.ve(e,t,(a,l)=>{const h=this.be(a,l);r=r.insert(a,h)}).next(()=>r)}Ve(e,t){let r=ro(),a=new Or(ht.comparator);return this.ve(e,t,(l,h)=>{const m=this.be(l,h);r=r.insert(l,m),a=a.insert(l,Pp(h))}).next(()=>({documents:r,Se:a}))}ve(e,t,r){if(t.isEmpty())return $e.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return Dc(e).jt({range:a},(m,v,I)=>{const D=ht.fromSegments(m);for(;h&&ht.comparator(h,D)<0;)r(h,null),h=l.getNext();h&&h.isEqual(D)&&(r(h,v),h=l.hasNext()?l.getNext():null),h?I.Lt(h.path.toArray()):I.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let a=ro();const l=t.path.length+1,h={};if(r.isEqual(Wt.min())){const m=t.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),v=Op(r);h.range=IDBKeyRange.lowerBound([m,v],!0),h.index=er.collectionReadTimeIndex}return Dc(e).jt(h,(m,v,I)=>{if(m.length!==l)return;const D=Xb(this.k,v);t.path.isPrefixOf(D.key.path)?_c(t,D)&&(a=a.insert(D.key,D)):I.done()}).next(()=>a)}newChangeBuffer(e){return new gD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return KN(e).get(ea.key).next(t=>(kt(!!t),t))}Re(e,t){return KN(e).put(ea.key,t)}be(e,t){if(t){const r=Xb(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Wt.min()))return r}return Xn.newInvalidDocument(e)}}class gD extends pD{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new ph(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new or((l,h)=>fn(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Ce.get(l);if(h.document.isValidDocument()){const v=iD(this.De.k,h.document,this.getReadTime(l));a=a.add(l.path.popLast()),r+=Pp(v)-m,t.push(this.De.addEntry(e,l,v))}else if(r-=m,this.trackRemovals){const v=iD(this.De.k,Xn.newNoDocument(l,Wt.min()),this.getReadTime(l));t.push(this.De.addEntry(e,l,v))}else t.push(this.De.removeEntry(e,l))}),a.forEach(l=>{t.push(this.De.Jt.addToCollectionParentIndex(e,l))}),t.push(this.De.updateMetadata(e,r)),$e.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:a})=>(a.forEach((l,h)=>{this.Ce.set(l,h)}),r))}}function KN(n){return $i(n,ea.store)}function Dc(n){return $i(n,er.store)}function $y(n){return n.path.toArray()}class sw{constructor(e){this.k=e}Nt(e,t,r,a){kt(r<a&&r>=0&&a<=11);const l=new Ly("createOrUpgrade",t);var m;r<1&&a>=1&&(e.createObjectStore(Ts.store),(m=e).createObjectStore(bc.store,{keyPath:bc.keyPath}),m.createObjectStore(Fn.store,{keyPath:Fn.keyPath,autoIncrement:!0}).createIndex(Fn.userMutationsIndex,Fn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(Ti.store),$r(e),function(m){m.createObjectStore(er.store)}(e));let h=$e.resolve();return r<3&&a>=3&&(0!==r&&(function(m){m.deleteObjectStore(Di.store),m.deleteObjectStore(Ds.store),m.deleteObjectStore(As.store)}(e),$r(e)),h=h.next(()=>function(m){const v=m.store(As.store),I=new As(0,0,Wt.min().toTimestamp(),0);return v.put(As.key,I)}(l))),r<4&&a>=4&&(0!==r&&(h=h.next(()=>function(m,v){return v.store(Fn.store).Bt().next(I=>{m.deleteObjectStore(Fn.store),m.createObjectStore(Fn.store,{keyPath:Fn.keyPath,autoIncrement:!0}).createIndex(Fn.userMutationsIndex,Fn.userMutationsKeyPath,{unique:!0});const D=v.store(Fn.store),S=I.map(U=>D.put(U));return $e.waitFor(S)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore(ta.store,{keyPath:ta.keyPath})}(e)})),r<5&&a>=5&&(h=h.next(()=>this.Ne(l))),r<6&&a>=6&&(h=h.next(()=>(function(m){m.createObjectStore(ea.store)}(e),this.ke(l)))),r<7&&a>=7&&(h=h.next(()=>this.xe(l))),r<8&&a>=8&&(h=h.next(()=>this.$e(e,l))),r<9&&a>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const v=m.objectStore(er.store);v.createIndex(er.readTimeIndex,er.readTimeIndexPath,{unique:!1}),v.createIndex(er.collectionReadTimeIndex,er.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&a>=10&&(h=h.next(()=>this.Oe(l))),r<11&&a>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(dh.store,{keyPath:dh.keyPath})})(e),function(m){m.createObjectStore(Mp.store,{keyPath:Mp.keyPath})}(e)})),h}ke(e){let t=0;return e.store(er.store).jt((r,a)=>{t+=Pp(a)}).next(()=>{const r=new ea(t);return e.store(ea.store).put(ea.key,r)})}Ne(e){const t=e.store(bc.store),r=e.store(Fn.store);return t.Bt().next(a=>$e.forEach(a,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(Fn.userMutationsIndex,h).next(m=>$e.forEach(m,v=>{kt(v.userId===l.userId);const I=fh(this.k,v);return lD(e,l.userId,I).next(()=>{})}))}))}xe(e){const t=e.store(Di.store),r=e.store(er.store);return e.store(As.store).get(As.key).next(a=>{const l=[];return r.jt((h,m)=>{const v=new mn(h),I=[0,as(v)];l.push(t.get(I).next(D=>D?$e.resolve():t.put(new Di(0,as(v),a.highestListenSequenceNumber))))}).next(()=>$e.waitFor(l))})}$e(e,t){e.createObjectStore(ch.store,{keyPath:ch.keyPath});const r=t.store(ch.store),a=new tw,l=h=>{if(a.add(h)){const m=h.lastSegment(),v=h.popLast();return r.put({collectionId:m,parent:as(v)})}};return t.store(er.store).jt({Kt:!0},(h,m)=>{const v=new mn(h);return l(v.popLast())}).next(()=>t.store(Ti.store).jt({Kt:!0},([h,m,v],I)=>{const D=Xu(m);return l(D.popLast())}))}Oe(e){const t=e.store(Ds.store);return t.jt((r,a)=>{const l=Hi(a),h=sD(this.k,l);return t.put(h)})}}function $r(n){n.createObjectStore(Di.store,{keyPath:Di.keyPath}).createIndex(Di.documentTargetsIndex,Di.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ds.store,{keyPath:Ds.keyPath}).createIndex(Ds.queryTargetsIndexName,Ds.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(As.store)}const mD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Hy{constructor(e,t,r,a,l,h,m,v,I,D){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=l,this.window=h,this.document=m,this.Fe=I,this.Le=D,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=S=>Promise.resolve(),!Hy.Pt())throw new He(De.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fD(this,a),this.Ge=t+"main",this.k=new Jb(v),this.ze=new Do(this.Ge,11,new sw(this.k)),this.He=new dD(this.referenceDelegate,this.k),this.Jt=new IO,this.Je=new qN(this.k,this.Jt),this.Ye=new $N,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===D&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(De.FAILED_PRECONDITION,mD);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Is(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,Ne.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,Ne.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,Ne.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gy(e).put(new ta(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Br(e))return Ye("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return gh(e).get(Ts.key).next(t=>$e.resolve(this.un(t)))}hn(e){return Gy(e).delete(this.clientId)}ln(){var e=this;return(0,Ne.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=$i(r,ta.store);return a.Bt().next(l=>{const h=e.dn(l,18e5),m=l.filter(v=>-1===h.indexOf(v));return $e.forEach(m,v=>a.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?$e.resolve(!0):gh(e).get(Ts.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new He(De.FAILED_PRECONDITION,mD);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gy(e).Bt().next(r=>void 0===this.dn(r,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,m=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ye("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ne.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Ts.store,ta.store],t=>{const r=new Vy(t,Is.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Gy(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return rw.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let l;return Ye("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",CO,h=>(l=new Vy(h,this.Be?this.Be.next():Is.I),"readwrite-primary"===t?this.rn(l).next(m=>!!m||this.on(l)).next(m=>{if(!m)throw xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new He(De.FAILED_PRECONDITION,nD);return r(l)}).next(m=>this.an(l).next(()=>m)):this.En(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(e){return gh(e).get(Ts.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new He(De.FAILED_PRECONDITION,mD)})}an(e){const t=new Ts(this.clientId,this.allowTabSynchronization,Date.now());return gh(e).put(Ts.key,t)}static Pt(){return Do.Pt()}cn(e){const t=gh(e);return t.get(Ts.key).next(r=>this.un(r)?(Ye("IndexedDbPersistence","Releasing primary lease."),t.delete(Ts.key)):$e.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(xr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,sn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ye("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){xr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gh(n){return $i(n,Ts.store)}function Gy(n){return $i(n,ta.store)}function mh(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class ZN{constructor(e,t){this.progress=e,this.In=t}}class yD{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(a=>{for(const l of r)l.applyToLocalView(a);return a})}Pn(e,t){e.forEach((r,a)=>{for(const l of t)l.applyToLocalView(a)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return ht.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Sn(e,t.path):Cp(t)?this.Dn(e,t,r):this.Cn(e,t,r);var a}Sn(e,t){return this.Rn(e,new ht(t)).next(r=>{let a=$b();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Dn(e,t,r){const a=t.collectionGroup;let l=$b();return this.Jt.getCollectionParents(e,a).next(h=>$e.forEach(h,m=>{const v=(I=t,D=m.child(a),new eo(D,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,D;return this.Cn(e,v,r).next(I=>{I.forEach((D,S)=>{l=l.insert(D,S)})})}).next(()=>l))}Cn(e,t,r){let a,l;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(a=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Nn(e,l,a).next(m=>{a=m;for(const v of l)for(const I of v.mutations){const D=I.key;let S=a.get(D);null==S&&(S=Xn.newInvalidDocument(D),a=a.insert(D,S)),Ry(I,S,v.localWriteTime),S.isFoundDocument()||(a=a.remove(D))}}))).next(()=>(a.forEach((h,m)=>{_c(t,m)||(a=a.remove(h))}),a))}Nn(e,t,r){let a=An();for(const h of t)for(const m of h.mutations)m instanceof ja&&null===r.get(m.key)&&(a=a.add(m.key));let l=r;return this.Je.getEntries(e,a).next(h=>(h.forEach((m,v)=>{v.isFoundDocument()&&(l=l.insert(m,v))}),l))}}class Wy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=a}static $n(e,t){let r=An(),a=An();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Wy(e,t.fromCache,r,a)}}class tl{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Wt.min())?this.Fn(e,t):this.Mn.vn(e,a).next(l=>{const h=this.Ln(t,l);return(Nb(t)||rh(t))&&this.Bn(t.limitType,h,a,r)?this.Fn(e,t):(Cb()<=Co.in.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dy(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(m=>(h.forEach(v=>{m=m.insert(v.key,v)}),m)))});var l}Ln(e,t){let r=new or(Mb(e));return t.forEach((a,l)=>{_c(e,l)&&(r=r.add(l))}),r}Bn(e,t,r,a){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(e,t){return Cb()<=Co.in.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",Dy(t)),this.Mn.getDocumentsMatchingQuery(e,t,Wt.min())}}class _D{constructor(e,t,r,a){this.persistence=e,this.Un=t,this.k=a,this.qn=new Or(fn),this.Kn=new ph(l=>_p(l),Ep),this.jn=Wt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new yD(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function zy(n,e,t,r){return new _D(n,e,t,r)}function qy(n,e){return ow.apply(this,arguments)}function ow(){return(ow=(0,Ne.Z)(function*(n,e){const t=tt(n);let r=t.An,a=t.Wn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let m;return t.An.getAllMutationBatches(h).next(v=>(m=v,r=t.persistence.getMutationQueue(e),a=new yD(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(v=>{const I=[],D=[];let S=An();for(const U of m){I.push(U.batchId);for(const W of U.mutations)S=S.add(W.key)}for(const U of v){D.push(U.batchId);for(const W of U.mutations)S=S.add(W.key)}return a.vn(h,S).next(U=>({Gn:U,removedBatchIds:I,addedBatchIds:D}))})});return t.An=r,t.Wn=a,t.Un.On(t.Wn),l})).apply(this,arguments)}function Ky(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,m,v,I){const D=v.batch,S=D.keys();let U=$e.resolve();return S.forEach(W=>{U=U.next(()=>I.getEntry(m,W)).next(te=>{const Ae=v.docVersions.get(W);kt(null!==Ae),te.version.compareTo(Ae)<0&&(D.applyToRemoteDocument(te,v),te.isValidDocument()&&I.addEntry(te,v.commitVersion))})}),U.next(()=>h.An.removeMutationBatch(m,D))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,a))})}function vD(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function aw(n,e){const t=tt(n),r=e.snapshotVersion;let a=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});a=t.qn;const m=[];e.targetChanges.forEach((I,D)=>{const S=a.get(D);if(!S)return;m.push(t.He.removeMatchingKeys(l,I.removedDocuments,D).next(()=>t.He.addMatchingKeys(l,I.addedDocuments,D)));let U=S.withSequenceNumber(l.currentSequenceNumber);var W,te,Ae;e.targetMismatches.has(D)?U=U.withResumeToken(Nn.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):I.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(I.resumeToken,r)),a=a.insert(D,U),te=U,Ae=I,(0===(W=S).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||Ae.addedDocuments.size+Ae.modifiedDocuments.size+Ae.removedDocuments.size>0)&&m.push(t.He.updateTargetData(l,U))});let v=ro();if(e.documentUpdates.forEach((I,D)=>{e.resolvedLimboDocuments.has(I)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,I))}),m.push(uw(l,h,e.documentUpdates,r,void 0).next(I=>{v=I})),!r.isEqual(Wt.min())){const I=t.He.getLastRemoteSnapshotVersion(l).next(D=>t.He.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(I)}return $e.waitFor(m).next(()=>h.apply(l)).next(()=>t.Wn.Vn(l,v)).next(()=>v)}).then(l=>(t.qn=a,l))}function uw(n,e,t,r,a){let l=An();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let m=ro();return t.forEach((v,I)=>{const D=h.get(v),S=(null==a?void 0:a.get(v))||r;I.isNoDocument()&&I.version.isEqual(Wt.min())?(e.removeEntry(v,S),m=m.insert(v,I)):!D.isValidDocument()||I.version.compareTo(D.version)>0||0===I.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(I,S),m=m.insert(v,I)):Ye("LocalStore","Ignoring outdated watch update for ",v,". Current version:",D.version," Watch version:",I.version)}),m})}function Yr(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function kp(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.He.getTargetData(r,e).next(l=>l?(a=l,$e.resolve(a)):t.He.allocateTargetId(r).next(h=>(a=new $a(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.qn.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function yh(n,e,t){return lw.apply(this,arguments)}function lw(){return(lw=(0,Ne.Z)(function*(n,e,t){const r=tt(n),a=r.qn.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Br(h))throw h;Ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(a.target)})).apply(this,arguments)}function cw(n,e,t){const r=tt(n);let a=Wt.min(),l=An();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,v,I){const D=tt(m),S=D.Kn.get(I);return void 0!==S?$e.resolve(D.qn.get(S)):D.He.getTargetData(v,I)}(r,h,to(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,m.targetId).next(v=>{l=v})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?a:Wt.min(),t?l:An())).next(m=>({documents:m,zn:l})))}function Fp(n,e){const t=tt(n),r=tt(t.He),a=t.qn.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function ED(n){const e=tt(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,a,l){const h=tt(r);let m=ro(),v=Op(l);const I=Dc(a),D=IDBKeyRange.lowerBound(v,!0);return I.jt({index:er.readTimeIndex,range:D},(S,U)=>{const W=Xb(h.k,U);m=m.insert(W.key,W),v=U.readTime}).next(()=>({In:m,readTime:ew(v)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function bD(){return(bD=(0,Ne.Z)(function*(n){const e=tt(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const a=Dc(r);let l=Wt.min();return a.jt({index:er.readTimeIndex,reverse:!0},(h,m,v)=>{m.readTime&&(l=ew(m.readTime)),v.done()}).next(()=>l)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function dw(){return(dw=(0,Ne.Z)(function*(n,e,t,r){const a=tt(n);let l=An(),h=ro(),m=Hb();for(const D of t){const S=e.Hn(D.metadata.name);D.document&&(l=l.add(S)),h=h.insert(S,e.Jn(D)),m=m.insert(S,e.Yn(D.metadata.readTime))}const v=a.Qn.newChangeBuffer({trackRemovals:!0}),I=yield kp(a,(D=r,to(nh(mn.fromString(`__bundle__/docs/${D}`)))));var D;return a.persistence.runTransaction("Apply bundle documents","readwrite",D=>uw(D,v,h,Wt.min(),m).next(S=>(v.apply(D),S)).next(S=>a.He.removeMatchingKeysForTargetId(D,I.targetId).next(()=>a.He.addMatchingKeys(D,l,I.targetId)).next(()=>a.Wn.Vn(D,S)).next(()=>S)))})).apply(this,arguments)}function YN(n,e){return hw.apply(this,arguments)}function hw(){return(hw=(0,Ne.Z)(function*(n,e,t=An()){const r=yield kp(n,to(oD(e.bundledQuery))),a=tt(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const h=li(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return a.Ye.saveNamedQuery(l,e);const m=r.withResumeToken(Nn.EMPTY_BYTE_STRING,h);return a.qn=a.qn.insert(m.targetId,m),a.He.updateTargetData(l,m).next(()=>a.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>a.He.addMatchingKeys(l,t,r.targetId)).next(()=>a.Ye.saveNamedQuery(l,e))})})).apply(this,arguments)}class QN{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return $e.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:li(r.createTime)}),$e.resolve()}getNamedQuery(e,t){return $e.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:oD(r.bundledQuery),readTime:li(r.readTime)}),$e.resolve();var r}}class fw{constructor(){this.ts=new or(ci.es),this.ns=new or(ci.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new ci(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new ci(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new ht(new mn([])),r=new ci(t,e),a=new ci(t,e+1),l=[];return this.ns.forEachInRange([r,a],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new ht(new mn([])),r=new ci(t,e),a=new ci(t,e+1);let l=An();return this.ns.forEachInRange([r,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new ci(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ci{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return ht.comparator(e.key,t.key)||fn(e.fs,t.fs)}static ss(e,t){return fn(e.fs,t.fs)||ht.comparator(e.key,t.key)}}class JN{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new or(ci.es)}checkEmpty(e){return $e.resolve(0===this.An.length)}addMutationBatch(e,t,r,a){const l=this.ds;this.ds++;const h=new Uy(l,t,r,a);this.An.push(h);for(const m of a)this.ws=this.ws.add(new ci(m.key,l)),this.Jt.addToCollectionParentIndex(e,m.key.path.popLast());return $e.resolve(h)}lookupMutationBatch(e,t){return $e.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.gs(t+1),l=a<0?0:a;return $e.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return $e.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ci(t,0),a=new ci(t,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,a],h=>{const m=this._s(h.fs);l.push(m)}),$e.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new or(fn);return t.forEach(a=>{const l=new ci(a,0),h=new ci(a,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],m=>{r=r.add(m.fs)})}),$e.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;ht.isDocumentKey(l)||(l=l.child(""));const h=new ci(new ht(l),0);let m=new or(fn);return this.ws.forEachWhile(v=>{const I=v.key.path;return!!r.isPrefixOf(I)&&(I.length===a&&(m=m.add(v.fs)),!0)},h),$e.resolve(this.ys(m))}ys(e){const t=[];return e.forEach(r=>{const a=this._s(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){kt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return $e.forEach(t.mutations,a=>{const l=new ci(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new ci(t,0),a=this.ws.firstAfterOrEqual(r);return $e.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return $e.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class XN{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Or(ht.comparator),this.size=0}addEntry(e,t,r){const a=t.key,l=this.docs.get(a),h=l?l.size:0,m=this.Ts(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:m,readTime:r}),this.size+=m-h,this.Jt.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $e.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=ro();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Xn.newInvalidDocument(a))}),$e.resolve(r)}getDocumentsMatchingQuery(e,t,r){let a=ro();const l=new ht(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:v,readTime:I}}=h.getNext();if(!t.path.isPrefixOf(m.path))break;I.compareTo(r)<=0||_c(t,v)&&(a=a.insert(v.key,v.mutableCopy()))}return $e.resolve(a)}Es(e,t){return $e.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eM(this)}getSize(e){return $e.resolve(this.size)}}class eM extends pD{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.document.isValidDocument()?t.push(this.De.addEntry(e,a.document,this.getReadTime(r))):this.De.removeEntry(r)}),$e.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class RO{constructor(e){this.persistence=e,this.Is=new ph(t=>_p(t),Ep),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.As=0,this.Rs=new fw,this.targetCount=0,this.bs=Ic.ie()}forEachTarget(e,t){return this.Is.forEach((r,a)=>t(a)),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),$e.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Ic(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,$e.resolve()}updateTargetData(e,t){return this.ae(t),$e.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.Is.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),$e.waitFor(l).next(()=>a)}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return $e.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),$e.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),$e.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),$e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return $e.resolve(r)}containsKey(e,t){return $e.resolve(this.Rs.containsKey(t))}}class NO{constructor(e,t){this.Ps={},this.Be=new Is(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new RO(this),this.Jt=new GN,this.Je=new XN(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new Jb(t),this.Ye=new QN(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new JN(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Ye("MemoryPersistence","Starting transaction:",e);const a=new tM(this.Be.next());return this.referenceDelegate.Vs(),r(a).next(l=>this.referenceDelegate.Ss(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ds(e,t){return $e.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class tM extends hh{constructor(e){super(),this.currentSequenceNumber=e}}class pw{constructor(e){this.persistence=e,this.Cs=new fw,this.Ns=null}static ks(e){return new pw(e)}get xs(){if(this.Ns)return this.Ns;throw pt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),$e.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),$e.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(a=>this.xs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.xs,r=>{const a=ht.fromPath(r);return this.$s(e,a).next(l=>{l||t.removeEntry(a)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return $e.or([()=>$e.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function wD(n,e){return`firestore_clients_${n}_${e}`}function CD(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function gw(n,e){return`firestore_targets_${n}_${e}`}class ls{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static Os(e,t,r){const a=JSON.parse(r);let l,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new He(a.error.code,a.error.message))),h?new ls(e,t,a.state,l):(xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Lp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let a,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(a=new He(r.error.code,r.error.message))),l?new Lp(e,r.state,a):(xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,l=xy();for(let h=0;a&&h<r.activeTargetIds.length;++h)a=AT(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return a?new Zy(e,l):(xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mw{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mw(t.clientId,t.onlineState):(xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yw{constructor(){this.activeTargetIds=xy()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ID{constructor(e,t,r,a,l){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Or(fn),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=wD(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new yw),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.syncEngine.Tn();for(const a of t){if(a===e.Bs)continue;const l=e.getItem(wD(e.persistenceKey,a));if(l){const h=Zy.Os(a,l);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const a=e.Zs(r);a&&e.ti(a)}for(const a of e.js)e.qs(a);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(gw(this.persistenceKey,e));if(r){const a=Lp.Os(e,r);a&&(t=a.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gw(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.si(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ye("SharedClientState","READ",e,t),t}setItem(e,t){Ye("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ye("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ye("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,Ne.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const a=t.ai(r.key);return t.ui(a,null)}{const a=t.hi(r.key,r.newValue);if(a)return t.ui(a.clientId,a)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const a=t.li(r.key,r.newValue);if(a)return t.fi(a)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const a=t.di(r.key,r.newValue);if(a)return t.wi(a)}}else if(r.key===t.Js){if(null!==r.newValue){const a=t.Zs(r.newValue);if(a)return t.ti(a)}}else if(r.key===t.Ws){const a=function(l){let h=Is.I;if(null!=l)try{const m=JSON.parse(l);kt("number"==typeof m),h=m}catch(m){xr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);a!==Is.I&&t.sequenceNumberHandler(a)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const a=new ls(this.currentUser,e,t,r),l=CD(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Ms())}si(e){const t=CD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const a=gw(this.persistenceKey,e),l=new Lp(e,t,r);this.setItem(a,l.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return Zy.Os(r,t)}li(e,t){const r=this.zs.exec(e),a=Number(r[1]);return ls.Os(new ai(void 0!==r[2]?r[2]:null),a,t)}di(e,t){const r=this.Hs.exec(e),a=Number(r[1]);return Lp.Os(a,t)}Zs(e){return mw.Os(e)}fi(e){var t=this;return(0,Ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Ye("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),a=this.ei(this.Ks),l=this.ei(r),h=[],m=[];return l.forEach(v=>{a.has(v)||h.push(v)}),a.forEach(v=>{l.has(v)||m.push(v)}),this.syncEngine.yi(h,m).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=xy();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class TD{constructor(){this.pi=new yw,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new yw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class nM{Ei(e){}shutdown(){}}class DD{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Vp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class AD{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class MO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,a,l){const h=this.Ui(e,t);Ye("RestConnection","Sending: ",h,r);const m={};return this.qi(m,a,l),this.Ki(e,h,m,r).then(v=>(Ye("RestConnection","Received: ",v),v),v=>{throw cp("RestConnection",`${e} failed with error: `,v,"url: ",h,"request:",r),v})}ji(e,t,r,a,l){return this.Bi(e,t,r,a,l)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}Ui(e,t){return`${this.Fi}/v1/${t}:${Vp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,a){return new Promise((l,h)=>{const m=new wb;m.listenOnce(eN.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case bb.NO_ERROR:const I=m.getResponseJson();Ye("Connection","XHR received:",JSON.stringify(I)),l(I);break;case bb.TIMEOUT:Ye("Connection",'RPC "'+e+'" timed out'),h(new He(De.DEADLINE_EXCEEDED,"Request time out"));break;case bb.HTTP_ERROR:const D=m.getStatus();if(Ye("Connection",'RPC "'+e+'" failed with status:',D,"response text:",m.getResponseText()),D>0){const S=m.getResponseJson().error;if(S&&S.status&&S.message){const U=function(W){const te=W.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(te)>=0?te:De.UNKNOWN}(S.status);h(new He(U,S.message))}else h(new He(De.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new He(De.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Ye("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(a);m.send(t,"POST",v,r,15)})}Qi(e,t,r){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=XR(),h=Eb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new nN({})),this.qi(m.initMessageHeaders,t,r),(0,sn.uI)()||(0,sn.b$)()||(0,sn.d)()||(0,sn.w1)()||(0,sn.Mn)()||(0,sn.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=a.join("");Ye("Connection","Creating WebChannel: "+v,m);const I=l.createWebChannel(v,m);let D=!1,S=!1;const U=new AD({Vi:te=>{S?Ye("Connection","Not sending because WebChannel is closed:",te):(D||(Ye("Connection","Opening WebChannel transport."),I.open(),D=!0),Ye("Connection","WebChannel sending:",te),I.send(te))},Si:()=>I.close()}),W=(te,Ae,Ve)=>{te.listen(Ae,mt=>{try{Ve(mt)}catch(_t){setTimeout(()=>{throw _t},0)}})};return W(I,wy.EventType.OPEN,()=>{S||Ye("Connection","WebChannel transport opened.")}),W(I,wy.EventType.CLOSE,()=>{S||(S=!0,Ye("Connection","WebChannel transport closed"),U.Oi())}),W(I,wy.EventType.ERROR,te=>{S||(S=!0,cp("Connection","WebChannel transport errored:",te),U.Oi(new He(De.UNAVAILABLE,"The operation could not be completed")))}),W(I,wy.EventType.MESSAGE,te=>{var Ae;if(!S){const Ve=te.data[0];kt(!!Ve);const mt=Ve,_t=mt.error||(null===(Ae=mt[0])||void 0===Ae?void 0:Ae.error);if(_t){Ye("Connection","WebChannel received error:",_t);const tn=_t.status;let Tt=function(Pr){const Qr=yr[Pr];if(void 0!==Qr)return jb(Qr)}(tn),Ln=_t.message;void 0===Tt&&(Tt=De.INTERNAL,Ln="Unknown error status: "+tn+" with message "+_t.message),S=!0,U.Oi(new He(Tt,Ln)),I.close()}else Ye("Connection","WebChannel received:",Ve),U.Mi(Ve)}}),W(h,tN.STAT_EVENT,te=>{te.stat===yT.PROXY?Ye("Connection","Detected buffering proxy"):te.stat===yT.NOPROXY&&Ye("Connection","Detected no buffering proxy")}),setTimeout(()=>{U.$i()},0),U}}function SD(){return"undefined"!=typeof window?window:null}function _w(){return"undefined"!=typeof document?document:null}function Yy(n){return new mO(n,!0)}class RD{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=a,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),a=Math.max(0,t-r);a>0&&Ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,a,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Qy{constructor(e,t,r,a,l,h,m,v){this.Me=e,this.nr=r,this.sr=a,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new RD(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,Ne.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,Ne.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,Ne.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===De.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===De.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.rr===t&&this.Ir(r,a)},r=>{e(()=>{const a=new He(De.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(a)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(a=>{r(()=>this.Ar(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}dr(){var e=this;this.state=5,this.ur.Zi((0,Ne.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rM extends Qy{constructor(e,t,r,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,h),this.k=l}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:pt(),a=e.targetChange.targetIds||[],l=function(v,I){return v.C?(kt(void 0===I||"string"==typeof I),Nn.fromBase64String(I||"")):(kt(void 0===I||I instanceof Uint8Array),Nn.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const I=void 0===v.code?De.UNKNOWN:jb(v.code);return new He(I,v.message||"")}(h);t=new IN(r,a,l,m||null)}else if("documentChange"in e){const r=e.documentChange,a=Xo(n,r.document.name),l=li(r.document.updateTime),h=new wi({mapValue:{fields:r.document.fields}}),m=Xn.newFoundDocument(a,l,h);t=new Gb(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,a=Xo(n,r.document),l=r.readTime?li(r.readTime):Wt.min(),h=Xn.newNoDocument(a,l);t=new Gb([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,a=Xo(n,r.document);t=new Gb([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return pt();{const r=e.filter,l=new Ub(r.count||0);t=new CN(r.targetId,l)}}var v;return t}(this.k,e),r=function(a){if(!("targetChange"in a))return Wt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Wt.min():l.readTime?li(l.readTime):Wt.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=ky(this.k),t.addTarget=function(a,l){let h;const m=l.target;return h=bp(m)?{documents:kN(a,m)}:{query:JT(a,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=SN(a,l.resumeToken):l.snapshotVersion.compareTo(Wt.min())>0&&(h.readTime=Oy(a,l.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=ky(this.k),t.removeTarget=e,this.gr(t)}}class iM extends Qy{constructor(e,t,r,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(kt(void 0!==e),n.map(t=>function(r,a){let l=li(r.updateTime?r.updateTime:a);return l.isEqual(Wt.min())&&(l=li(a)),new EN(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.Cr(r,t)}return kt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=ky(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>zb(this.k,r))};this.gr(t)}}class sM extends class{}{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=a,this.$r=!1}Or(){if(this.$r)throw new He(De.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.ir.Bi(e,t,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new He(De.UNKNOWN,a.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.ir.ji(e,t,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new He(De.UNKNOWN,a.toString())})}terminate(){this.$r=!0}}class xO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(xr(t),this.Lr=!1):Ye("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class oM{constructor(e,t,r,a,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(m=>{r.enqueueAndForget((0,Ne.Z)(function*(){var v;ra(h)&&(Ye("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ne.Z)(function*(I){const D=tt(I);D.Gr.add(4),yield Ai(D),D.Jr.set("Unknown"),D.Gr.delete(4),yield Up(D)}),function(I){return v.apply(this,arguments)})(h))}))}),this.Jr=new xO(r,a)}}function Up(n){return vw.apply(this,arguments)}function vw(){return(vw=(0,Ne.Z)(function*(n){if(ra(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function Ai(n){return ND.apply(this,arguments)}function ND(){return(ND=(0,Ne.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function jp(n,e){const t=tt(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),$p(t)?Xy(t):wh(t).lr()&&Jy(t,e))}function Bp(n,e){const t=tt(n),r=wh(t);t.Wr.delete(e),r.lr()&&Ew(t,e),0===t.Wr.size&&(r.lr()?r._r():ra(t)&&t.Jr.set("Unknown"))}function Jy(n,e){n.Yr.X(e.targetId),wh(n).Pr(e)}function Ew(n,e){n.Yr.X(e),wh(n).vr(e)}function Xy(n){n.Yr=new fO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),wh(n).start(),n.Jr.Br()}function $p(n){return ra(n)&&!wh(n).hr()&&n.Wr.size>0}function ra(n){return 0===tt(n).Gr.size}function e_(n){n.Yr=void 0}function t_(n){return _h.apply(this,arguments)}function _h(){return(_h=(0,Ne.Z)(function*(n){n.Wr.forEach((e,t)=>{Jy(n,e)})})).apply(this,arguments)}function MD(n,e){return n_.apply(this,arguments)}function n_(){return(n_=(0,Ne.Z)(function*(n,e){e_(n),$p(n)?(n.Jr.Kr(e),Xy(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function aM(n,e,t){return bw.apply(this,arguments)}function bw(){return(bw=(0,Ne.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof IN&&2===e.state&&e.cause)try{yield(r=(0,Ne.Z)(function*(a,l){const h=l.cause;for(const m of l.targetIds)a.Wr.has(m)&&(yield a.remoteSyncer.rejectListen(m,h),a.Wr.delete(m),a.Yr.removeTarget(m))}),function(a,l){return r.apply(this,arguments)})(n,e)}catch(r){Ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hp(n,r)}else if(e instanceof Gb?n.Yr.ot(e):e instanceof CN?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Wt.min()))try{const r=yield vD(n.localStore);t.compareTo(r)>=0&&(yield function(a,l){const h=a.Yr.gt(l);return h.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const I=a.Wr.get(v);I&&a.Wr.set(v,I.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const v=a.Wr.get(m);if(!v)return;a.Wr.set(m,v.withResumeToken(Nn.EMPTY_BYTE_STRING,v.snapshotVersion)),Ew(a,m);const I=new $a(v.target,m,1,v.sequenceNumber);Jy(a,I)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ye("RemoteStore","Failed to raise snapshot:",r),yield Hp(n,r)}var r})).apply(this,arguments)}function Hp(n,e,t){return ww.apply(this,arguments)}function ww(){return(ww=(0,Ne.Z)(function*(n,e,t){if(!Br(e))throw e;n.Gr.add(1),yield Ai(n),n.Jr.set("Offline"),t||(t=()=>vD(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){Ye("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Up(n)}))})).apply(this,arguments)}function xD(n,e){return e().catch(t=>Hp(n,t,e))}function vh(n){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,Ne.Z)(function*(n){const e=tt(n),t=nl(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;uM(e);)try{const a=yield Yr(e.localStore,r);if(null===a){0===e.Qr.length&&t._r();break}r=a.batchId,Gi(e,a)}catch(a){yield Hp(e,a)}Eh(e)&&Wp(e)})).apply(this,arguments)}function uM(n){return ra(n)&&n.Qr.length<10}function Gi(n,e){n.Qr.push(e);const t=nl(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function Eh(n){return ra(n)&&!nl(n).hr()&&n.Qr.length>0}function Wp(n){nl(n).start()}function OD(n){return bh.apply(this,arguments)}function bh(){return(bh=(0,Ne.Z)(function*(n){nl(n).kr()})).apply(this,arguments)}function Cw(n){return r_.apply(this,arguments)}function r_(){return(r_=(0,Ne.Z)(function*(n){const e=nl(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function i_(n,e,t){return Iw.apply(this,arguments)}function Iw(){return(Iw=(0,Ne.Z)(function*(n,e,t){const r=n.Qr.shift(),a=Qb.from(r,e,t);yield xD(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield vh(n)})).apply(this,arguments)}function lM(n,e){return Tw.apply(this,arguments)}function Tw(){return(Tw=(0,Ne.Z)(function*(n,e){var t;e&&nl(n).Sr&&(yield(t=(0,Ne.Z)(function*(r,a){if(WT(l=a.code)&&l!==De.ABORTED){const h=r.Qr.shift();nl(r).wr(),yield xD(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield vh(r)}var l}),function(r,a){return t.apply(this,arguments)})(n,e)),Eh(n)&&Wp(n)})).apply(this,arguments)}function Dw(n,e){return s_.apply(this,arguments)}function s_(){return(s_=(0,Ne.Z)(function*(n,e){const t=tt(n);e?(t.Gr.delete(2),yield Up(t)):e||(t.Gr.add(2),yield Ai(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function wh(n){return n.Xr||(n.Xr=function(e,t,r){const a=tt(e);return a.Or(),new rM(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,r)}(n.datastore,n.asyncQueue,{Di:t_.bind(null,n),Ni:MD.bind(null,n),br:aM.bind(null,n)}),n.zr.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.Xr.wr(),$p(n)?Xy(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),e_(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function nl(n){return n.Zr||(n.Zr=function(e,t,r){const a=tt(e);return a.Or(),new iM(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,r)}(n.datastore,n.asyncQueue,{Di:OD.bind(null,n),Ni:lM.bind(null,n),Nr:Cw.bind(null,n),Cr:i_.bind(null,n)}),n.zr.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.Zr.wr(),yield vh(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Ye("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class Aw{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,a,l){const h=Date.now()+r,m=new Aw(e,t,h,a,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new He(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ss(n,e){if(xr("AsyncQueue",`${e}: ${n}`),Br(n))return new He(De.UNAVAILABLE,`${e}: ${n}`);throw n}class ia{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ht.comparator(t.key,r.key):(t,r)=>ht.comparator(t.key,r.key),this.keyedMap=$b(),this.sortedSet=new Or(this.comparator)}static emptySet(e){return new ia(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ia)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class o_{constructor(){this.eo=new Or(ht.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):pt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ch{constructor(e,t,r,a,l,h,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,a){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Ch(e,t,ia.emptySet(t),l,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ip(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class cM{constructor(){this.so=void 0,this.listeners=[]}}class dM{constructor(){this.queries=new ph(e=>UT(e),Ip),this.onlineState="Unknown",this.io=new Set}}function zp(n,e){return Sw.apply(this,arguments)}function Sw(){return(Sw=(0,Ne.Z)(function*(n,e){const t=tt(n),r=e.query;let a=!1,l=t.queries.get(r);if(l||(a=!0,l=new cM),a)try{l.so=yield t.onListen(r)}catch(h){const m=Ss(h,`Initialization of query '${Dy(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.ro(t.onlineState),l.so&&e.oo(l.so)&&Rw(t)})).apply(this,arguments)}function a_(n,e){return u_.apply(this,arguments)}function u_(){return(u_=(0,Ne.Z)(function*(n,e){const t=tt(n),r=e.query;let a=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function hM(n,e){const t=tt(n);let r=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const m of h.listeners)m.oo(a)&&(r=!0);h.so=a}}r&&Rw(t)}function fM(n,e,t){const r=tt(n),a=r.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);r.queries.delete(e)}function Rw(n){n.io.forEach(e=>{e.next()})}class Ao{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new Ch(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Ch.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class qp{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class Ac{constructor(e){this.k=e}Hn(e){return Xo(this.k,e)}Jn(e){return e.metadata.exists?QT(this.k,e.document,!1):Xn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return li(e)}}class l_{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=Sc(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new Ac(this.k);for(const a of e)if(a.metadata.queries){const l=r.Hn(a.metadata.name);for(const h of a.metadata.queries){const m=(t.get(h)||An()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,Ne.Z)(function*(){const t=yield function(n,e,t,r){return dw.apply(this,arguments)}(e.localStore,new Ac(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const a of e.queries)yield YN(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",new ZN(Object.assign({},e.progress),t)})()}}function Sc(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class PD{constructor(e){this.key=e}}class kD{constructor(e){this.key=e}}class FD{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=An(),this.mutatedKeys=An(),this.Ao=Mb(e),this.Ro=new ia(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new o_,a=t?t.Ro:this.Ro;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,m=!1;const v=Nb(this.query)&&a.size===this.query.limit?a.last():null,I=rh(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((D,S)=>{const U=a.get(D),W=_c(this.query,S)?S:null,te=!!U&&this.mutatedKeys.has(U.key),Ae=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let Ve=!1;U&&W?U.data.isEqual(W.data)?te!==Ae&&(r.track({type:3,doc:W}),Ve=!0):this.Vo(U,W)||(r.track({type:2,doc:W}),Ve=!0,(v&&this.Ao(W,v)>0||I&&this.Ao(W,I)<0)&&(m=!0)):!U&&W?(r.track({type:0,doc:W}),Ve=!0):U&&!W&&(r.track({type:1,doc:U}),Ve=!0,(v||I)&&(m=!0)),Ve&&(W?(h=h.add(W),l=Ae?l.add(D):l.delete(D)):(h=h.delete(D),l=l.delete(D)))}),Nb(this.query)||rh(this.query))for(;h.size>this.query.limit;){const D=Nb(this.query)?h.last():h.first();h=h.delete(D.key),l=l.delete(D.key),r.track({type:1,doc:D})}return{Ro:h,vo:r,Bn:m,mutatedKeys:l}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const l=e.vo.no();l.sort((I,D)=>function(S,U){const W=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return W(S)-W(U)}(I.type,D.type)||this.Ao(I.doc,D.doc)),this.So(r);const h=t?this.Do():[],m=0===this.Io.size&&this.current?1:0,v=m!==this.Eo;return this.Eo=m,0!==l.length||v?{snapshot:new Ch(this.query,e.Ro,a,l,e.mutatedKeys,0===m,v,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new o_,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=An(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new kD(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new PD(r))}),t}ko(e){this.To=e.zn,this.Io=An();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return Ch.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class LD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class VD{constructor(e){this.key=e,this.$o=!1}}class UD{constructor(e,t,r,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Oo={},this.Mo=new ph(m=>UT(m),Ip),this.Fo=new Map,this.Lo=new Set,this.Bo=new Or(ht.comparator),this.Uo=new Map,this.qo=new fw,this.Ko={},this.jo=new Map,this.Qo=Ic.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function jD(n,e){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,Ne.Z)(function*(n,e){const t=cs(n);let r,a;const l=t.Mo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),a=l.view.xo();else{const h=yield kp(t.localStore,to(e)),m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,a=yield Nw(t,e,r,"current"===m),t.isPrimaryClient&&jp(t.remoteStore,h)}return a})).apply(this,arguments)}function Nw(n,e,t,r){return Mw.apply(this,arguments)}function Mw(){return(Mw=(0,Ne.Z)(function*(n,e,t,r){n.Go=(D,S,U)=>{return(W=(0,Ne.Z)(function*(te,Ae,Ve,mt){let _t=Ae.view.Po(Ve);_t.Bn&&(_t=yield cw(te.localStore,Ae.query,!1).then(({documents:Ln})=>Ae.view.Po(Ln,_t)));const tn=mt&&mt.targetChanges.get(Ae.targetId),Tt=Ae.view.applyChanges(_t,te.isPrimaryClient,tn);return KD(te,Ae.targetId,Tt.Co),Tt.snapshot}),function(te,Ae,Ve,mt){return W.apply(this,arguments)})(n,D,S,U);var W};const a=yield cw(n.localStore,e,!0),l=new FD(e,a.zn),h=l.Po(a.documents),m=lh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(h,n.isPrimaryClient,m);KD(n,t,v.Co);const I=new LD(e,t,l);return n.Mo.set(e,I),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),v.snapshot})).apply(this,arguments)}function BD(n,e){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,Ne.Z)(function*(n,e){const t=tt(n),r=t.Mo.get(e),a=t.Fo.get(r.targetId);if(a.length>1)return t.Fo.set(r.targetId,a.filter(l=>!Ip(l,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Bp(t.remoteStore,r.targetId),Zp(t,r.targetId)}).catch(Tc))):(Zp(t,r.targetId),yield yh(t.localStore,r.targetId,!0))})).apply(this,arguments)}function Ow(){return(Ow=(0,Ne.Z)(function*(n,e,t){const r=Rc(n);try{const a=yield function(l,h){const m=tt(l),v=Zr.now(),I=h.reduce((S,U)=>S.add(U.key),An());let D;return m.persistence.runTransaction("Locally write mutations","readwrite",S=>m.Wn.vn(S,I).next(U=>{D=U;const W=[];for(const te of h){const Ae=HT(te,D.get(te.key));null!=Ae&&W.push(new ja(te.key,Ae,MT(Ae.value.mapValue),Dr.exists(!0)))}return m.An.addMutationBatch(S,v,W,h)})).then(S=>(S.applyToLocalDocumentSet(D),{batchId:S.batchId,changes:D}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,h,m){let v=l.Ko[l.currentUser.toKey()];v||(v=new Or(fn)),v=v.insert(h,m),l.Ko[l.currentUser.toKey()]=v}(r,a.batchId,t),yield o(r,a.changes),yield vh(r.remoteStore)}catch(a){const l=Ss(a,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function $D(n,e){return HD.apply(this,arguments)}function HD(){return(HD=(0,Ne.Z)(function*(n,e){const t=tt(n);try{const r=yield aw(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.Uo.get(l);h&&(kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.$o=!0:a.modifiedDocuments.size>0?kt(h.$o):a.removedDocuments.size>0&&(kt(h.$o),h.$o=!1))}),yield o(t,r,e)}catch(r){yield Tc(r)}})).apply(this,arguments)}function pM(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.Mo.forEach((l,h)=>{const m=h.view.ro(e);m.snapshot&&a.push(m.snapshot)}),function(l,h){const m=tt(l);m.onlineState=h;let v=!1;m.queries.forEach((I,D)=>{for(const S of D.listeners)S.ro(h)&&(v=!0)}),v&&Rw(m)}(r.eventManager,e),a.length&&r.Oo.br(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function OO(n,e,t){return GD.apply(this,arguments)}function GD(){return(GD=(0,Ne.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Uo.get(e),l=a&&a.key;if(l){let h=new Or(ht.comparator);h=h.insert(l,Xn.newNoDocument(l,Wt.min()));const m=An().add(l),v=new Np(Wt.min(),new Map,new or(fn),h,m);yield $D(r,v),r.Bo=r.Bo.remove(l),r.Uo.delete(e),s(r)}else yield yh(r.localStore,e,!1).then(()=>Zp(r,e,t)).catch(Tc)})).apply(this,arguments)}function gM(n,e){return Pw.apply(this,arguments)}function Pw(){return(Pw=(0,Ne.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const a=yield Ky(t.localStore,e);qD(t,r,null),kw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield o(t,a)}catch(a){yield Tc(a)}})).apply(this,arguments)}function PO(n,e,t){return WD.apply(this,arguments)}function WD(){return(WD=(0,Ne.Z)(function*(n,e,t){const r=tt(n);try{const a=yield function(l,h){const m=tt(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let I;return m.An.lookupMutationBatch(v,h).next(D=>(kt(null!==D),I=D.keys(),m.An.removeMutationBatch(v,D))).next(()=>m.An.performConsistencyCheck(v)).next(()=>m.Wn.vn(v,I))})}(r.localStore,e);qD(r,e,t),kw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield o(r,a)}catch(a){yield Tc(a)}})).apply(this,arguments)}function zD(){return(zD=(0,Ne.Z)(function*(n,e){const t=tt(n);ra(t.remoteStore)||Ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=tt(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.An.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const a=t.jo.get(r)||[];a.push(e),t.jo.set(r,a)}catch(r){const a=Ss(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function kw(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function qD(n,e,t){const r=tt(n);let a=r.Ko[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Ko[r.currentUser.toKey()]=a}}function Zp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||mM(n,r)})}function mM(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Bp(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),s(n))}function KD(n,e,t){for(const r of t)r instanceof PD?(n.qo.addReference(r.key,e),i(n,r)):r instanceof kD?(Ye("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||mM(n,r.key)):pt()}function i(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Ye("SyncEngine","New document in limbo: "+t),n.Lo.add(r),s(n))}function s(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new ht(mn.fromString(e)),r=n.Qo.next();n.Uo.set(r,new VD(t)),n.Bo=n.Bo.insert(t,r),jp(n.remoteStore,new $a(to(nh(t.path)),r,2,Is.I))}}function o(n,e,t){return u.apply(this,arguments)}function u(){return(u=(0,Ne.Z)(function*(n,e,t){const r=tt(n),a=[],l=[],h=[];var m;r.Mo.isEmpty()||(r.Mo.forEach((m,v)=>{h.push(r.Go(v,e,t).then(I=>{if(I){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,I.fromCache?"not-current":"current"),a.push(I);const D=Wy.$n(v.targetId,I);l.push(D)}}))}),yield Promise.all(h),r.Oo.br(a),yield(m=(0,Ne.Z)(function*(v,I){const D=tt(v);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>$e.forEach(I,U=>$e.forEach(U.kn,W=>D.persistence.referenceDelegate.addReference(S,U.targetId,W)).next(()=>$e.forEach(U.xn,W=>D.persistence.referenceDelegate.removeReference(S,U.targetId,W)))))}catch(S){if(!Br(S))throw S;Ye("LocalStore","Failed to update sequence numbers: "+S)}for(const S of I){const U=S.targetId;if(!S.fromCache){const W=D.qn.get(U),Ae=W.withLastLimboFreeSnapshotVersion(W.snapshotVersion);D.qn=D.qn.insert(U,Ae)}}}),function(v,I){return m.apply(this,arguments)})(r.localStore,l))})).apply(this,arguments)}function c(n,e){return d.apply(this,arguments)}function d(){return(d=(0,Ne.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Ye("SyncEngine","User change. New user:",e.toKey());const r=yield qy(t.localStore,e);t.currentUser=e,(a=t).jo.forEach(h=>{h.forEach(m=>{m.reject(new He(De.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield o(t,r.Gn)}var a})).apply(this,arguments)}function p(n,e){const t=tt(n),r=t.Uo.get(e);if(r&&r.$o)return An().add(r.key);{let a=An();const l=t.Fo.get(e);if(!l)return a;for(const h of l){const m=t.Mo.get(h);a=a.unionWith(m.view.bo)}return a}}function _(n,e){return b.apply(this,arguments)}function b(){return(b=(0,Ne.Z)(function*(n,e){const t=tt(n),r=yield cw(t.localStore,e.query,!0),a=e.view.ko(r);return t.isPrimaryClient&&KD(t,e.targetId,a.Co),a})).apply(this,arguments)}function C(n){return T.apply(this,arguments)}function T(){return(T=(0,Ne.Z)(function*(n){const e=tt(n);return ED(e.localStore).then(t=>o(e,t))})).apply(this,arguments)}function R(n,e,t,r){return N.apply(this,arguments)}function N(){return(N=(0,Ne.Z)(function*(n,e,t,r){const a=tt(n),l=yield function(h,m){const v=tt(h),I=tt(v.An);return v.persistence.runTransaction("Lookup mutation documents","readonly",D=>I.Zt(D,m).next(S=>S?v.Wn.vn(D,S):$e.resolve(null)))}(a.localStore,e);var m;null!==l?("pending"===t?yield vh(a.remoteStore):"acknowledged"===t||"rejected"===t?(qD(a,e,r||null),kw(a,e),m=e,tt(tt(a.localStore).An).ee(m)):pt(),yield o(a,l)):Ye("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Y(){return(Y=(0,Ne.Z)(function*(n,e){const t=tt(n);if(cs(t),Rc(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield Ee(t,r.toArray());t.Wo=!0,yield Dw(t.remoteStore,!0);for(const l of a)jp(t.remoteStore,l)}else if(!1===e&&!1!==t.Wo){const r=[];let a=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):a=a.then(()=>(Zp(t,h),yh(t.localStore,h,!0))),Bp(t.remoteStore,h)}),yield a,yield Ee(t,r),function(l){const h=tt(l);h.Uo.forEach((m,v)=>{Bp(h.remoteStore,v)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Or(ht.comparator)}(t),t.Wo=!1,yield Dw(t.remoteStore,!1)}})).apply(this,arguments)}function Ee(n,e,t){return re.apply(this,arguments)}function re(){return(re=(0,Ne.Z)(function*(n,e,t){const r=tt(n),a=[],l=[];for(const h of e){let m;const v=r.Fo.get(h);if(v&&0!==v.length){m=yield kp(r.localStore,to(v[0]));for(const I of v){const D=r.Mo.get(I),S=yield _(r,D);S.snapshot&&l.push(S.snapshot)}}else{const I=yield Fp(r.localStore,h);m=yield kp(r.localStore,I),yield Nw(r,We(I),h,!1)}a.push(m)}return r.Oo.br(l),a})).apply(this,arguments)}function We(n){return LT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function xe(n){const e=tt(n);return tt(tt(e.localStore).persistence).Tn()}function ft(n,e,t,r){return St.apply(this,arguments)}function St(){return(St=(0,Ne.Z)(function*(n,e,t,r){const a=tt(n);if(a.Wo)Ye("SyncEngine","Ignoring unexpected query state notification.");else if(a.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield ED(a.localStore),h=Np.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield o(a,l,h);break}case"rejected":yield yh(a.localStore,e,!0),Zp(a,e,r);break;default:pt()}})).apply(this,arguments)}function an(n,e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,Ne.Z)(function*(n,e,t){const r=cs(n);if(r.Wo){for(const a of e){if(r.Fo.has(a)){Ye("SyncEngine","Adding an already active target "+a);continue}const l=yield Fp(r.localStore,a),h=yield kp(r.localStore,l);yield Nw(r,We(l),h.targetId,!1),jp(r.remoteStore,h)}for(const a of t)r.Fo.has(a)&&(yield yh(r.localStore,a,!1).then(()=>{Bp(r.remoteStore,a),Zp(r,a)}).catch(Tc))}})).apply(this,arguments)}function cs(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$D.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OO.bind(null,e),e.Oo.br=hM.bind(null,e.eventManager),e.Oo.zo=fM.bind(null,e.eventManager),e}function Rc(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PO.bind(null,e),e}class Nc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.Z)(function*(){t.k=Yy(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return zy(this.persistence,new tl,e.initialUser,this.k)}Yo(e){return new NO(pw.ks,this.k)}Jo(e){return new TD}terminate(){var e=this;return(0,Ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Mc extends Nc{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e),yield function(n){return bD.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield Rc(r.tc.syncEngine),yield vh(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return zy(this.persistence,new tl,e.initialUser,this.k)}Xo(e){return new DO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=mh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new Hy(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,SD(),_w(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new TD}}class Fw extends Mc{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e);const a=r.tc.syncEngine;r.sharedClientState instanceof ID&&(r.sharedClientState.syncEngine={mi:R.bind(null,a),gi:ft.bind(null,a),yi:an.bind(null,a),Tn:xe.bind(null,a),_i:C.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,Ne.Z)(function*(h){yield function(n,e){return Y.apply(this,arguments)}(r.tc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(e){const t=SD();if(!ID.Pt(t))throw new He(De.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=mh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ID(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Yp{initialize(e,t){var r=this;return(0,Ne.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>pM(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=c.bind(null,r.syncEngine),yield Dw(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dM}createDatastore(e){const t=Yy(e.databaseInfo.databaseId),r=new MO(e.databaseInfo);return new sM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,l=m=>pM(this.syncEngine,m,0),h=DD.Pt()?new DD:new nM,new oM(t,r,a,l,h);var t,r,a,l,h}createSyncEngine(e,t){return function(r,a,l,h,m,v,I){const D=new UD(r,a,l,h,m,v);return I&&(D.Wo=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ne.Z)(function*(t){const r=tt(t);Ye("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Ai(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function c_(n,e=10240){let t=0;return{read:()=>(0,Ne.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Th{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Lw{constructor(e,t){this.sc=e,this.k=t,this.metadata=new gr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,Ne.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,Ne.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),a=Number(r);isNaN(a)&&e.cc(`length string (${r}) is not valid number`);const l=yield e.ac(a);return new qp(JSON.parse(l),t.length+a)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,Ne.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,Ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class xk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new He(De.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,Ne.Z)(function*(l,h){const m=tt(l),v=ky(m.k)+"/documents",I={documents:h.map(W=>Py(m.k,W))},D=yield m.ji("BatchGetDocuments",v,I),S=new Map;D.forEach(W=>{const te=function(n,e){return"found"in e?function(t,r){kt(!!r.found);const a=Xo(t,r.found.name),l=li(r.found.updateTime),h=new wi({mapValue:{fields:r.found.fields}});return Xn.newFoundDocument(a,l,h)}(n,e):"missing"in e?function(t,r){kt(!!r.missing),kt(!!r.readTime);const a=Xo(t,r.missing),l=li(r.readTime);return Xn.newNoDocument(a,l)}(n,e):pt()}(m.k,W);S.set(te.key.toString(),te)});const U=[];return h.forEach(W=>{const te=S.get(W.toString());kt(!!te),U.push(te)}),U}),function(l,h){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new uh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const l=ht.fromPath(a);e.mutations.push(new Vb(l,e.precondition(l)))}),yield(r=(0,Ne.Z)(function*(a,l){const h=tt(a),m=ky(h.k)+"/documents",v={writes:l.map(I=>zb(h.k,I))};yield h.Bi("Commit",m,v)}),function(a,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=Wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new He(De.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Dr.updateTime(t):Dr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wt.min()))throw new He(De.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(t)}return Dr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ok{constructor(e,t,r,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=a,this.lc=5,this.ur=new RD(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,Ne.Z)(function*(){const t=new xk(e.datastore),r=e.dc(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.wc(l)}))}).catch(a=>{e.wc(a)})}))}dc(e){try{const t=this.updateFunction(e);return!mc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!WT(t)}return!1}}class Pk{constructor(e,t,r,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=ai.UNAUTHENTICATED,this.clientId=uN.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,Ne.Z)(function*(m){Ye("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,Ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(De.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=Ss(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function FO(n,e){return yM.apply(this,arguments)}function yM(){return(yM=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,Ne.Z)(function*(l){r.isEqual(l)||(yield qy(e.localStore,l),r=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function LO(n,e){return _M.apply(this,arguments)}function _M(){return(_M=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield vM(n);Ye("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>{return(l=(0,Ne.Z)(function*(h,m){const v=tt(h);v.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const I=ra(v);v.Gr.add(3),yield Ai(v),I&&v.Jr.set("Unknown"),yield v.remoteSyncer.handleCredentialChange(m),v.Gr.delete(3),yield Up(v)}),function(h,m){return l.apply(this,arguments)})(e.remoteStore,a);var l}),n.onlineComponents=e})).apply(this,arguments)}function vM(n){return EM.apply(this,arguments)}function EM(){return(EM=(0,Ne.Z)(function*(n){return n.offlineComponents||(Ye("FirestoreClient","Using default OfflineComponentProvider"),yield FO(n,new Nc)),n.offlineComponents})).apply(this,arguments)}function ZD(n){return bM.apply(this,arguments)}function bM(){return(bM=(0,Ne.Z)(function*(n){return n.onlineComponents||(Ye("FirestoreClient","Using default OnlineComponentProvider"),yield LO(n,new Yp)),n.onlineComponents})).apply(this,arguments)}function VO(n){return vM(n).then(e=>e.persistence)}function wM(n){return vM(n).then(e=>e.localStore)}function UO(n){return ZD(n).then(e=>e.remoteStore)}function CM(n){return ZD(n).then(e=>e.syncEngine)}function d_(n){return IM.apply(this,arguments)}function IM(){return(IM=(0,Ne.Z)(function*(n){const e=yield ZD(n),t=e.eventManager;return t.onListen=jD.bind(null,e.syncEngine),t.onUnlisten=BD.bind(null,e.syncEngine),t})).apply(this,arguments)}function jO(n,e,t={}){const r=new gr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(a,l,h,m,v){const I=new Th({next:S=>{l.enqueueAndForget(()=>a_(a,D));const U=S.docs.has(h);!U&&S.fromCache?v.reject(new He(De.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&S.fromCache&&m&&"server"===m.source?v.reject(new He(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(S)},error:S=>v.reject(S)}),D=new Ao(nh(h.path),I,{includeMetadataChanges:!0,wo:!0});return zp(a,D)}(yield d_(n),n.asyncQueue,e,t,r)})),r.promise}function BO(n,e,t={}){const r=new gr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(a,l,h,m,v){const I=new Th({next:S=>{l.enqueueAndForget(()=>a_(a,D)),S.fromCache&&"server"===m.source?v.reject(new He(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),D=new Ao(h,I,{includeMetadataChanges:!0,wo:!0});return zp(a,D)}(yield d_(n),n.asyncQueue,e,t,r)})),r.promise}class Hk{constructor(e,t,r,a,l,h,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class h_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof h_&&e.projectId===this.projectId&&e.database===this.database}}const $O=new Map;function TM(n,e,t){if(!t)throw new He(De.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HO(n,e,t,r){if(!0===e&&!0===r)throw new He(De.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function GO(n){if(!ht.isDocumentKey(n))throw new He(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WO(n){if(ht.isDocumentKey(n))throw new He(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function YD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function En(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new He(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=YD(n);throw new He(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zO(n,e){if(e<=0)throw new He(De.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class qO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new He(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new He(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,HO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vw{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qO({}),this._settingsFrozen=!1,e instanceof h_?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new He(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new h_(a.options.projectId)}(e))}get app(){if(!this._app)throw new He(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new He(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new vT;switch(t.type){case"gapi":const r=t.client;return kt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new aN(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new He(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$O.get(e);t&&(Ye("ComponentProvider","Removing Datastore"),$O.delete(e),t.terminate())}(this),Promise.resolve()}}class ar{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class ds{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ds(this.firestore,e,this._query)}}class rl extends ds{constructor(e,t,r){super(e,t,nh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new ht(e))}withConverter(e){return new rl(this.firestore,e,this._path)}}function KO(n,e,...t){if(n=(0,sn.m9)(n),TM("collection","path",e),n instanceof Vw){const r=mn.fromString(e,...t);return WO(r),new rl(n,null,r)}{if(!(n instanceof ar||n instanceof rl))throw new He(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return WO(r),new rl(n.firestore,null,r)}}function QD(n,e,...t){if(n=(0,sn.m9)(n),1===arguments.length&&(e=uN.A()),TM("doc","path",e),n instanceof Vw){const r=mn.fromString(e,...t);return GO(r),new ar(n,null,new ht(r))}{if(!(n instanceof ar||n instanceof rl))throw new He(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return GO(r),new ar(n.firestore,n instanceof rl?n.converter:null,new ht(r))}}function ZO(n,e){return n=(0,sn.m9)(n),e=(0,sn.m9)(e),(n instanceof ar||n instanceof rl)&&(e instanceof ar||e instanceof rl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function YO(n,e){return n=(0,sn.m9)(n),e=(0,sn.m9)(e),n instanceof ds&&e instanceof ds&&n.firestore===e.firestore&&Ip(n._query,e._query)&&n.converter===e.converter}class zk{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new RD(this,"async_queue_retry"),this.bc=()=>{const t=_w();t&&Ye("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=_w();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=_w();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new gr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,Ne.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!Br(t))throw t;Ye("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,xr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const a=Aw.createAndSchedule(this,e,t,r,l=>this.Sc(l));return this.Tc.push(a),a}Pc(){this.Ec&&pt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,Ne.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function DM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class qk{constructor(){this._progressObserver={},this._taskCompletionResolver=new gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Sr extends Vw{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new zk,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||QO(this),this._firestoreClient.terminate()}}function Zk(n=(0,La.getApp)()){return(0,La._getProvider)(n,"firestore").getImmediate()}function di(n){return n._firestoreClient||QO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function QO(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Hk(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new Pk(n._authCredentials,n._appCheckCredentials,n._queue,r)}function JO(n,e,t){const r=new gr;return n.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield FO(n,t),yield LO(n,e),r.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===De.FAILED_PRECONDITION||l.code===De.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var l})).then(()=>r.promise)}function XO(n){if(n._initialized||n._terminated)throw new He(De.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class xc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new He(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new il(Nn.fromBase64String(e))}catch(t){throw new He(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new il(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qp{constructor(e){this._methodName=e}}class JD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new He(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new He(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fn(this._lat,e._lat)||fn(this._long,e._long)}}const s1=/^__.*__$/;class o1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ja(e,this.data,this.fieldMask,t,this.fieldTransforms):new My(e,this.data,t,this.fieldTransforms)}}class eP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ja(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class XD{constructor(e,t,r,a,l,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=a,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new XD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Oc({path:r,Fc:!1});return a.Lc(e),a}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Oc({path:r,Fc:!1});return a.xc(),a}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return tA(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(tP(this.$c)&&s1.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class a1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||Yy(e)}Qc(e,t,r,a=!1){return new XD({$c:e,methodName:t,jc:r,path:mr.emptyPath(),Fc:!1,Kc:a},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Jp(n){const e=n._freezeSettings(),t=Yy(n._databaseId);return new a1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eA(n,e,t,r,a,l={}){const h=n.Qc(l.merge||l.mergeFields?2:0,e,t,a);NM("Data must be an object, but it was:",h,r);const m=iP(r,h);let v,I;if(l.merge)v=new Ir(h.fieldMask),I=h.fieldTransforms;else if(l.mergeFields){const D=[];for(const S of l.mergeFields){const U=MM(e,S,t);if(!h.contains(U))throw new He(De.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);oP(D,U)||D.push(U)}v=new Ir(D),I=h.fieldTransforms.filter(S=>v.covers(S.field))}else v=null,I=h.fieldTransforms;return new o1(new wi(m),v,I)}class Uw extends Qp{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uw}}function nP(n,e,t){return new XD({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class AM extends Qp{_toFieldTransform(e){return new Dp(e.path,new ih)}isEqual(e){return e instanceof AM}}class u1 extends Qp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=nP(this,e,!0),r=this.Wc.map(l=>Xp(l,t)),a=new sh(r);return new Dp(e.path,a)}isEqual(e){return this===e}}class l1 extends Qp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=nP(this,e,!0),r=this.Wc.map(l=>Xp(l,t)),a=new no(r);return new Dp(e.path,a)}isEqual(e){return this===e}}class c1 extends Qp{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new oh(e.k,jT(e.k,this.Gc));return new Dp(e.path,t)}isEqual(e){return this===e}}function SM(n,e,t,r){const a=n.Qc(1,e,t);NM("Data must be an object, but it was:",a,r);const l=[],h=wi.empty();pc(r,(v,I)=>{const D=xM(e,v,t);I=(0,sn.m9)(I);const S=a.Bc(D);if(I instanceof Uw)l.push(D);else{const U=Xp(I,S);null!=U&&(l.push(D),h.set(D,U))}});const m=new Ir(l);return new eP(h,m,a.fieldTransforms)}function RM(n,e,t,r,a,l){const h=n.Qc(1,e,t),m=[MM(e,r,t)],v=[a];if(l.length%2!=0)throw new He(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<l.length;U+=2)m.push(MM(e,l[U])),v.push(l[U+1]);const I=[],D=wi.empty();for(let U=m.length-1;U>=0;--U)if(!oP(I,m[U])){const W=m[U];let te=v[U];te=(0,sn.m9)(te);const Ae=h.Bc(W);if(te instanceof Uw)I.push(W);else{const Ve=Xp(te,Ae);null!=Ve&&(I.push(W),D.set(W,Ve))}}const S=new Ir(I);return new eP(D,S,h.fieldTransforms)}function rP(n,e,t,r=!1){return Xp(t,n.Qc(r?4:3,e))}function Xp(n,e){if(sP(n=(0,sn.m9)(n)))return NM("Unsupported field value:",e,n),iP(n,e);if(n instanceof Qp)return function(t,r){if(!tP(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const a=[];let l=0;for(const h of t){let m=Xp(h,r.Uc(l));null==m&&(m={nullValue:"NULL_VALUE"}),a.push(m),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,sn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jT(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Zr.fromDate(t);return{timestampValue:Oy(r.k,a)}}if(t instanceof Zr){const a=new Zr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Oy(r.k,a)}}if(t instanceof JD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof il)return{bytesValue:SN(r.k,t._byteString)};if(t instanceof ar){const a=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw r.qc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ZT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${YD(t)}`)}(n,e)}function iP(n,e){const t={};return IT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pc(n,(r,a)=>{const l=Xp(a,e.Mc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function sP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Zr||n instanceof JD||n instanceof il||n instanceof ar||n instanceof Qp)}function NM(n,e,t){if(!sP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=YD(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function MM(n,e,t){if((e=(0,sn.m9)(e))instanceof xc)return e._internalPath;if("string"==typeof e)return xM(n,e);throw tA("Field path arguments must be of type string or ",n,!1,void 0,t)}const d1=new RegExp("[~\\*/\\[\\]]");function xM(n,e,t){if(e.search(d1)>=0)throw tA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xc(...e.split("."))._internalPath}catch(r){throw tA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tA(n,e,t,r,a){const l=r&&!r.isEmpty(),h=void 0!==a;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(l||h)&&(v+=" (found",l&&(v+=` in field ${r}`),h&&(v+=` in document ${a}`),v+=")"),new He(De.INVALID_ARGUMENT,m+n+v)}function oP(n,e){return n.some(t=>t.isEqual(e))}class jw{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new h1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class h1 extends jw{data(){return super.data()}}function nA(n,e){return"string"==typeof e?xM(n,e):e instanceof xc?e._internalPath:e._delegate._internalPath}class eg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oc extends jw{constructor(e,t,r,a,l,h){super(e,t,r,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nA("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Bw extends Oc{data(e={}){return super.data(e)}}class Dh{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new eg(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bw(this._firestore,this._userDataWriter,r.key,r,new eg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new He(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Bw(r._firestore,r._userDataWriter,h.doc.key,h.doc,new eg(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const m=new Bw(r._firestore,r._userDataWriter,h.doc.key,h.doc,new eg(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,I=-1;return 0!==h.type&&(v=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),I=l.indexOf(h.doc.key)),{type:f1(h.type),doc:m,oldIndex:v,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function f1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function aP(n,e){return n instanceof Oc&&e instanceof Oc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Dh&&e instanceof Dh&&n._firestore===e._firestore&&YO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function uP(n){if(rh(n)&&0===n.explicitOrderBy.length)throw new He(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $w{}function Ah(n,...e){for(const t of e)n=t._apply(n);return n}class p1 extends $w{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=Jp(e.firestore),r=function(a,l,h,m,v,I,D){let S;if(v.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new He(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){pP(D,I);const W=[];for(const te of D)W.push(fP(m,a,te));S={arrayValue:{values:W}}}else S=fP(m,a,D)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||pP(D,I),S=rP(h,"where",D,"in"===I||"not-in"===I);const U=Ci.create(v,I,S);return function(W,te){if(te.V()){const Ve=Ty(W);if(null!==Ve&&!Ve.isEqual(te.field))throw new He(De.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ve.toString()}' and '${te.field.toString()}'`);const mt=wp(W);null!==mt&&gP(0,te.field,mt)}const Ae=function(Ve,mt){for(const _t of Ve.filters)if(mt.indexOf(_t.op)>=0)return _t.op;return null}(W,function(Ve){switch(Ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(te.op));if(null!==Ae)throw new He(De.INVALID_ARGUMENT,Ae===te.op?`Invalid query. You cannot use more than one '${te.op.toString()}' filter.`:`Invalid query. You cannot use '${te.op.toString()}' filters with '${Ae.toString()}' filters.`)}(a,U),U}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new ds(e.firestore,e.converter,function(a,l){const h=a.filters.concat([l]);return new eo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}class m1 extends $w{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,a,l){if(null!==r.startAt)throw new He(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new He(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new th(a,l);return function(m,v){if(null===wp(m)){const I=Ty(m);null!==I&&gP(0,I,v.field)}}(r,h),h}(e._query,this.zc,this.Yc);return new ds(e.firestore,e.converter,function(r,a){const l=r.explicitOrderBy.concat([a]);return new eo(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class lP extends $w{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new ds(e.firestore,e.converter,VT(e._query,this.Xc,this.Zc))}}class cP extends $w{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=hP(e,this.type,this.ta,this.ea);return new ds(e.firestore,e.converter,(a=t,new eo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class dP extends $w{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=hP(e,this.type,this.ta,this.ea);return new ds(e.firestore,e.converter,(a=t,new eo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function hP(n,e,t,r){if(t[0]=(0,sn.m9)(t[0]),t[0]instanceof jw)return function(a,l,h,m,v){if(!m)throw new He(De.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const I=[];for(const D of Qu(a))if(D.field.isKeyField())I.push(gp(l,m.key));else{const S=m.data.field(D.field);if(Cy(S))throw new He(De.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const U=D.field.canonicalString();throw new He(De.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}I.push(S)}return new Ua(I,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Jp(n.firestore);return function(l,h,m,v,I,D){const S=l.explicitOrderBy;if(I.length>S.length)throw new He(De.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let W=0;W<I.length;W++){const te=I[W];if(S[W].field.isKeyField()){if("string"!=typeof te)throw new He(De.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof te}`);if(!Cp(l)&&-1!==te.indexOf("/"))throw new He(De.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${te}' contains a slash.`);const Ae=l.path.child(mn.fromString(te));if(!ht.isDocumentKey(Ae))throw new He(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Ae}' is not because it contains an odd number of segments.`);const Ve=new ht(Ae);U.push(gp(h,Ve))}else{const Ae=rP(m,v,te);U.push(Ae)}}return new Ua(U,D)}(n._query,n.firestore._databaseId,a,e,t,r)}}function fP(n,e,t){if("string"==typeof(t=(0,sn.m9)(t))){if(""===t)throw new He(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cp(e)&&-1!==t.indexOf("/"))throw new He(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(mn.fromString(t));if(!ht.isDocumentKey(r))throw new He(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gp(n,new ht(r))}if(t instanceof ar)return gp(n,t._key);throw new He(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${YD(t)}.`)}function pP(n,e){if(!Array.isArray(n)||0===n.length)throw new He(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new He(De.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function gP(n,e,t){if(!t.isEqual(e))throw new He(De.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class OM{convertValue(e,t="none"){switch(yc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){const r={};return pc(e.fields,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new JD(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=DT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hp(e));default:return null}}convertTimestamp(e){const t=Zu(e);return new Zr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mn.fromString(e);kt(Kb(r));const a=new h_(r.get(1),r.get(3)),l=new ht(r.popFirst(5));return a.isEqual(t)||xr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function rA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class I1 extends OM{constructor(e){super(),this.firestore=e}convertBytes(e){return new il(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}class mP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jp(e)}set(e,t,r){this._verifyNotCommitted();const a=Sh(e,this._firestore),l=rA(a.converter,t,r),h=eA(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,r);return this._mutations.push(h.toMutation(a._key,Dr.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=Sh(e,this._firestore);let h;return h="string"==typeof(t=(0,sn.m9)(t))||t instanceof xc?RM(this._dataReader,"WriteBatch.update",l._key,t,r,a):SM(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sh(e,this._firestore);return this._mutations=this._mutations.concat(new uh(t._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(De.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sh(n,e){if((n=(0,sn.m9)(n)).firestore!==e)throw new He(De.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class tg extends OM{constructor(e){super(),this.firestore=e}convertBytes(e){return new il(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function yP(n,e,t){n=En(n,ar);const r=En(n.firestore,Sr),a=rA(n.converter,e,t);return f_(r,[eA(Jp(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Dr.none())])}function _P(n,e,t,...r){n=En(n,ar);const a=En(n.firestore,Sr),l=Jp(a);let h;return h="string"==typeof(e=(0,sn.m9)(e))||e instanceof xc?RM(l,"updateDoc",n._key,e,t,r):SM(l,"updateDoc",n._key,e),f_(a,[h.toMutation(n._key,Dr.exists(!0))])}function vP(n,...e){var t,r,a;n=(0,sn.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||DM(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(DM(e[h])){const S=e[h];e[h]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[h+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[h+2]=null===(a=S.complete)||void 0===a?void 0:a.bind(S)}let v,I,D;if(n instanceof ar)I=En(n.firestore,Sr),D=nh(n._key.path),v={next:S=>{e[h]&&e[h](PM(I,n,S))},error:e[h+1],complete:e[h+2]};else{const S=En(n,ds);I=En(S.firestore,Sr),D=S._query;const U=new tg(I);v={next:W=>{e[h]&&e[h](new Dh(I,U,S,W))},error:e[h+1],complete:e[h+2]},uP(n._query)}return function(S,U,W,te){const Ae=new Th(te),Ve=new Ao(U,Ae,W);return S.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return zp(yield d_(S),Ve)})),()=>{Ae.nc(),S.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return a_(yield d_(S),Ve)}))}}(di(I),D,m,v)}function f_(n,e){return function(t,r){const a=new gr;return t.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(n,e,t){return Ow.apply(this,arguments)}(yield CM(t),r,a)})),a.promise}(di(n),e)}function PM(n,e,t){const r=t.docs.get(e._key),a=new tg(n);return new Oc(n,a,e._key,r,new eg(t.hasPendingWrites,t.fromCache),e.converter)}class P1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Jp(e)}get(e){const t=Sh(e,this._firestore),r=new I1(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return pt();const l=a[0];if(l.isFoundDocument())return new jw(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new jw(this._firestore,r,t._key,null,t.converter);throw pt()})}set(e,t,r){const a=Sh(e,this._firestore),l=rA(a.converter,t,r),h=eA(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,r);return this._transaction.set(a._key,h),this}update(e,t,r,...a){const l=Sh(e,this._firestore);let h;return h="string"==typeof(t=(0,sn.m9)(t))||t instanceof xc?RM(this._dataReader,"Transaction.update",l._key,t,r,a):SM(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Sh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sh(e,this._firestore),r=new tg(this._firestore);return super.get(e).then(a=>new Oc(this._firestore,r,t._key,a._document,new eg(!1,!1),t.converter))}}function kM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new He("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function EP(){if("undefined"==typeof Uint8Array)throw new He("unimplemented","Uint8Arrays are not available in this environment.")}function bP(){if("undefined"==typeof atob)throw new He("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){fc=La.SDK_VERSION,(0,La._registerComponent)(new zm.wA("firestore",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),l=new Sr(a,new sN(t.getProvider("auth-internal")),new bT(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,La.registerVersion)(_T,"3.4.3",n),(0,La.registerVersion)(_T,"3.4.3","esm2017")}();class Hw{constructor(e){this._delegate=e}static fromBase64String(e){return bP(),new Hw(il.fromBase64String(e))}static fromUint8Array(e){return EP(),new Hw(il.fromUint8Array(e))}toBase64(){return bP(),this._delegate.toBase64()}toUint8Array(){return EP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function FM(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class G1{enableIndexedDbPersistence(e,t){return function(n,e){XO(n=En(n,Sr));const t=di(n),r=n._freezeSettings(),a=new Yp;return JO(t,a,new Mc(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){XO(n=En(n,Sr));const e=di(n),t=n._freezeSettings(),r=new Yp;return JO(e,r,new Fw(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new He(De.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(t=(0,Ne.Z)(function*(r){if(!Do.Pt())return Promise.resolve();const a=r+"main";yield Do.delete(a)}),function(r){return t.apply(this,arguments)})(mh(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class wP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof h_||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&cp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var a;const l=(n=En(n,Vw))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&cp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=ai.MOCK_USER;else{h=(0,sn.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new He(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ai(v)}n._authCredentials=new iN(new rN(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield VO(n),t=yield UO(n);return e.setNetworkEnabled(!0),function(r){const a=tt(r);return a.Gr.delete(0),Up(a)}(t)}))}(di(n=En(n,Sr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield VO(n),t=yield UO(n);return e.setNetworkEnabled(!1),(r=(0,Ne.Z)(function*(a){const l=tt(a);l.Gr.add(0),yield Ai(l),l.Jr.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(di(n=En(n,Sr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,HO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new gr;return e.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(n,e){return zD.apply(this,arguments)}(yield CM(e),t)})),t.promise}(di(n=En(n,Sr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new Th(e);return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield d_(n),a=t,tt(r).io.add(a),void a.next();var r,a})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield d_(n),a=t,void tt(r).io.delete(a);var r,a}))}}(di(n=En(n,Sr)),DM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new He("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new p_(this,KO(this._delegate,e))}catch(t){throw Rs(t,"collection()","Firestore.collection()")}}doc(e){try{return new sa(this,QD(this._delegate,e))}catch(t){throw Rs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ns(this,function(n,e){if(n=En(n,Vw),TM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new He(De.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ds(n,null,(t=e,new eo(mn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Rs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new gr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const r=yield(a=n,ZD(a).then(l=>l.datastore));var a;new Ok(n.asyncQueue,r,e,t).run()})),t.promise}(di(n=En(n,Sr)),t=>e(new P1(n,t)))}(this._delegate,t=>e(new CP(this,t)))}batch(){return di(this._delegate),new IP(new mP(this._delegate,e=>f_(this._delegate,e)))}loadBundle(e){return function(n,e){const t=di(n=En(n,Sr)),r=new qk;return function(n,e,t,r){const a=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,I){if(v instanceof Uint8Array)return c_(v,I);if(v instanceof ArrayBuffer)return c_(new Uint8Array(v),I);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Lw(v,h);var v}(t,Yy(e));n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function(n,e,t){const r=tt(n);var a;(a=(0,Ne.Z)(function*(l,h,m){try{const v=yield h.getMetadata();if(yield function(U,W){const te=tt(U),Ae=li(W.createTime);return te.persistence.runTransaction("hasNewerBundle","readonly",Ve=>te.Ye.getBundleMetadata(Ve,W.id)).then(Ve=>!!Ve&&Ve.createTime.compareTo(Ae)>=0)}(l.localStore,v))return yield h.close(),void m._completeWith((U=v,{taskState:"Success",documentsLoaded:U.totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}));m._updateProgress(Sc(v));const I=new l_(v,l.localStore,h.k);let D=yield h.Ho();for(;D;){const U=yield I.yo(D);U&&m._updateProgress(U),D=yield h.Ho()}const S=yield I.complete();yield o(l,S.In,void 0),yield function(U,W){const te=tt(U);return te.persistence.runTransaction("Save bundle","readwrite",Ae=>te.Ye.saveBundleMetadata(Ae,W))}(l.localStore,v),m._completeWith(S.progress)}catch(v){cp("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v)}var U}),function(l,h,m){return a.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield CM(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(t,r){const a=tt(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Ye.getNamedQuery(l,r))}(yield wM(n),e)}))}(di(n=En(n,Sr)),e).then(t=>t?new ds(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ns(this,t):null)}}class iA extends OM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hw(new il(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return sa.forKey(t,this.firestore,null)}}class CP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new iA(e)}get(e){const t=rg(e);return this._delegate.get(t).then(r=>new Gw(this._firestore,new Oc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=rg(e);return r?(kM("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=rg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=rg(e);return this._delegate.delete(t),this}}class IP{constructor(e){this._delegate=e}set(e,t,r){const a=rg(e);return r?(kM("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=rg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=rg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ng{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Bw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ww(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ng.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let l=a.get(t);return l||(l=new ng(e,new iA(e),t),a.set(t,l)),l}}ng.INSTANCES=new WeakMap;class sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new iA(e)}static forPath(e,t,r){if(e.length%2!=0)throw new He("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new sa(t,new ar(t._delegate,r,new ht(e)))}static forKey(e,t,r){return new sa(t,new ar(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new p_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new p_(this.firestore,KO(this._delegate,e))}catch(t){throw Rs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,sn.m9)(e))instanceof ar&&ZO(this._delegate,e)}set(e,t){t=kM("DocumentReference.set",t);try{return t?yP(this._delegate,e,t):yP(this._delegate,e)}catch(r){throw Rs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?_P(this._delegate,e):_P(this._delegate,e,t,...r)}catch(a){throw Rs(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return f_(En(n.firestore,Sr),[new uh(n._key,Dr.none())])}(this._delegate)}onSnapshot(...e){const t=TP(e),r=DP(e,a=>new Gw(this.firestore,new Oc(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return vP(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=En(n,ar);const e=En(n.firestore,Sr),t=di(e),r=new tg(e);return function(n,e){const t=new gr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(a,l,h){try{const m=yield function(v,I){const D=tt(v);return D.persistence.runTransaction("read document","readonly",S=>D.Wn.Rn(S,I))}(a,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new He(De.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Ss(m,`Failed to get document '${l} from cache`);h.reject(v)}}),function(a,l,h){return r.apply(this,arguments)})(yield wM(n),e,t);var r})),t.promise}(t,n._key).then(a=>new Oc(e,r,n._key,a,new eg(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=En(n,ar);const e=En(n.firestore,Sr);return jO(di(e),n._key,{source:"server"}).then(t=>PM(e,n,t))}(this._delegate):function(n){n=En(n,ar);const e=En(n.firestore,Sr);return jO(di(e),n._key).then(t=>PM(e,n,t))}(this._delegate),t.then(r=>new Gw(this.firestore,new Oc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new sa(this.firestore,this._delegate.withConverter(e?ng.getInstance(this.firestore,e):null))}}function Rs(n,e,t){return n.message=n.message.replace(e,t),n}function TP(n){for(const e of n)if("object"==typeof e&&!FM(e))return e;return{}}function DP(n,e){var t,r;let a;return a=FM(n[0])?n[0]:FM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class Gw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return aP(this._delegate,e._delegate)}}class Ww extends Gw{data(e){const t=this._delegate.data(e);return function(n,e){n||pt()}(void 0!==t),t}}class Ns{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new iA(e)}where(e,t,r){try{return new Ns(this.firestore,Ah(this._delegate,function(n,e,t){const r=e,a=nA("where",n);return new p1(a,r,t)}(e,t,r)))}catch(a){throw Rs(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ns(this.firestore,Ah(this._delegate,function(n,e="asc"){const t=e,r=nA("orderBy",n);return new m1(r,t)}(e,t)))}catch(r){throw Rs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ns(this.firestore,Ah(this._delegate,function(n){return zO("limit",n),new lP("limit",n,"F")}(e)))}catch(t){throw Rs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ns(this.firestore,Ah(this._delegate,function(n){return zO("limitToLast",n),new lP("limitToLast",n,"L")}(e)))}catch(t){throw Rs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ns(this.firestore,Ah(this._delegate,function(...n){return new cP("startAt",n,!0)}(...e)))}catch(t){throw Rs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ns(this.firestore,Ah(this._delegate,function(...n){return new cP("startAfter",n,!1)}(...e)))}catch(t){throw Rs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ns(this.firestore,Ah(this._delegate,function(...n){return new dP("endBefore",n,!0)}(...e)))}catch(t){throw Rs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ns(this.firestore,Ah(this._delegate,function(...n){return new dP("endAt",n,!1)}(...e)))}catch(t){throw Rs(t,"endAt()","Query.endAt()")}}isEqual(e){return YO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=En(n,ds);const e=En(n.firestore,Sr),t=di(e),r=new tg(e);return function(n,e){const t=new gr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(a,l,h){try{const m=yield cw(a,l,!0),v=new FD(l,m.zn),I=v.Po(m.documents),D=v.applyChanges(I,!1);h.resolve(D.snapshot)}catch(m){const v=Ss(m,`Failed to execute query '${l} against cache`);h.reject(v)}}),function(a,l,h){return r.apply(this,arguments)})(yield wM(n),e,t);var r})),t.promise}(t,n._query).then(a=>new Dh(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=En(n,ds);const e=En(n.firestore,Sr),t=di(e),r=new tg(e);return BO(t,n._query,{source:"server"}).then(a=>new Dh(e,r,n,a))}(this._delegate):function(n){n=En(n,ds);const e=En(n.firestore,Sr),t=di(e),r=new tg(e);return uP(n._query),BO(t,n._query).then(a=>new Dh(e,r,n,a))}(this._delegate),t.then(r=>new LM(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=TP(e),r=DP(e,a=>new LM(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return vP(this._delegate,t,r)}withConverter(e){return new Ns(this.firestore,this._delegate.withConverter(e?ng.getInstance(this.firestore,e):null))}}class z1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ww(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class LM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ww(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new z1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ww(this._firestore,r))})}isEqual(e){return aP(this._delegate,e._delegate)}}class p_ extends Ns{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new sa(this.firestore,e):null}doc(e){try{return new sa(this.firestore,void 0===e?QD(this._delegate):QD(this._delegate,e))}catch(t){throw Rs(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=En(n.firestore,Sr),r=QD(n),a=rA(n.converter,e);return f_(t,[eA(Jp(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new sa(this.firestore,t))}isEqual(e){return ZO(this._delegate,e._delegate)}withConverter(e){return new p_(this.firestore,this._delegate.withConverter(e?ng.getInstance(this.firestore,e):null))}}function rg(n){return En(n,ar)}class VM{constructor(...e){this._delegate=new xc(...e)}static documentId(){return new VM(mr.keyField().canonicalString())}isEqual(e){return(e=(0,sn.m9)(e))instanceof xc&&this._delegate._internalPath.isEqual(e._internalPath)}}class ig{constructor(e){this._delegate=e}static serverTimestamp(){const e=new AM("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ig(e)}static delete(){const e=new Uw("deleteField");return e._methodName="FieldValue.delete",new ig(e)}static arrayUnion(...e){const t=function(...n){return new u1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ig(t)}static arrayRemove(...e){const t=function(...n){return new l1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ig(t)}static increment(e){const t=function(n){return new c1("increment",n)}(e);return t._methodName="FieldValue.increment",new ig(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const q1={Firestore:wP,GeoPoint:JD,Timestamp:Zr,Blob:Hw,Transaction:CP,WriteBatch:IP,DocumentReference:sa,DocumentSnapshot:Gw,Query:Ns,QueryDocumentSnapshot:Ww,QuerySnapshot:LM,CollectionReference:p_,FieldPath:VM,FieldValue:ig,setLogLevel:function(n){!function(n){Yo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new zm.wA("firestore-compat",t=>((e,t)=>new wP(e,t,new G1))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},q1)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.12")}(Dt.Z);var Y1=M(6682),g_=M(309),Q1=M(7771),J1=M(8858);class X1 extends zr.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new eF(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=r.length;let h;if(this.closed)throw new xv.N;if(this.isStopped||this.hasError?h=Im.w.EMPTY:(this.observers.push(e),h=new J1.W(this,e)),a&&e.add(e=new g_.ht(e,a)),t)for(let m=0;m<l&&!e.closed;m++)e.next(r[m]);else for(let m=0;m<l&&!e.closed;m++)e.next(r[m].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||Q1.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,a=this._events,l=a.length;let h=0;for(;h<l&&!(e-a[h].time<r);)h++;return l>t&&(h=Math.max(h,l-t)),h>0&&a.splice(0,h),a}}class eF{constructor(e,t){this.time=e,this.value=t}}function UM(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let a,h,l=0,m=!1,v=!1;return function(D){let S;l++,!a||m?(m=!1,a=new X1(n,e,r),S=a.subscribe(this),h=D.subscribe({next(U){a.next(U)},error(U){m=!0,a.error(U)},complete(){v=!0,h=void 0,a.complete()}}),v&&(h=void 0)):S=a.subscribe(this),this.add(()=>{l--,S.unsubscribe(),S=void 0,h&&!v&&t&&0===l&&(h.unsubscribe(),h=void 0,a=void 0)})}}(r))}function AP(n,e){return e?Cr(()=>n,e):Cr(()=>n)}var jM=M(3101),sg=M(2329);class og{constructor(e){return e}}class SP{constructor(){return(0,sg.C6)()}}const BM=new f.OlP("angularfire2._apps"),rF={provide:og,useFactory:function(n){return n&&1===n.length?n[0]:new og((0,sg.Mq)())},deps:[[new f.FiY,BM]]},iF={provide:SP,deps:[[new f.FiY,BM]]};function sF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new og(r)}}let oF=(()=>{class n{constructor(t){(0,sg.KN)("angularfire",ln.q4.full,"core"),(0,sg.KN)("angularfire",ln.q4.full,"app"),(0,sg.KN)("angular",f.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.Lbi))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[rF,iF]}),n})();function aF(n,...e){return{ngModule:oF,providers:[{provide:BM,useFactory:sF(n),multi:!0,deps:[f.R0b,f.zs3,ln.HU,...e]}]}}const uF=(0,ln.u3)(sg.ZF,!0),RP=new Map,lF={activated:!1,tokenObservers:[]},cF={initialized:!1,enabled:!1};function Si(n){return RP.get(n)||lF}function za(n,e){RP.set(n,e)}function sA(){return cF}class gF{constructor(e,t,r,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ne.Z)(function*(){t.stop();try{t.pending=new sn.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new sn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ms=new sn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function MP(n){if(!Si(n).activated)throw Ms.create("use-before-activation",{appName:n.name})}function GM(n,e){return WM.apply(this,arguments)}function WM(){return(WM=(0,Ne.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,l)}catch(S){throw Ms.create("fetch-network-error",{originalErrorMessage:S.message})}if(200!==h.status)throw Ms.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(S){throw Ms.create("fetch-parse-error",{originalErrorMessage:S.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Ms.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const I=1e3*Number(v[1]),D=Date.now();return{token:m.attestationToken,expireTimeMillis:D+I,issuedAtTimeMillis:D}})).apply(this,arguments)}function bF(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const zw="firebase-app-check-store";let uA=null;function OP(){return uA||(uA=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(Ms.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(zw,{keyPath:"compositeKey"})}}}catch(t){e(Ms.create("storage-open",{originalErrorMessage:t.message}))}}),uA)}function zM(){return(zM=(0,Ne.Z)(function*(n,e){const r=(yield OP()).transaction(zw,"readwrite"),l=r.objectStore(zw).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=v=>{h()},r.onerror=v=>{var I;m(Ms.create("storage-set",{originalErrorMessage:null===(I=v.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const qw=new Co.Yd("@firebase/app-check");function LP(n,e){return(0,sn.hl)()?function(n,e){return function(n,e){return zM.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{qw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function VP(){return sA().enabled}function UP(){return YM.apply(this,arguments)}function YM(){return(YM=(0,Ne.Z)(function*(){const n=sA();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const MF={error:"UNKNOWN_ERROR"};function xF(n){return sn.US.encodeString(JSON.stringify(n),!1)}function lA(n){return QM.apply(this,arguments)}function QM(){return(QM=(0,Ne.Z)(function*(n,e=!1){const t=n.app;MP(t);const r=Si(t);let l,a=r.token;if(!a){const v=yield r.cachedTokenPromise;v&&cA(v)&&(a=v)}if(!e&&a&&cA(a))return{token:a.token};let m,h=!1;if(VP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=GM(bF(t,yield UP()),n.platformLoggerProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),h=!0);const v=yield r.exchangeTokenPromise;return yield LP(t,v),za(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),h=!0),a=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?qw.warn(v.message):qw.error(v),l=v}return a?(m={token:a.token},za(t,Object.assign(Object.assign({},r),{token:a})),yield LP(t,a)):m=PF(l),h&&BP(t,m),m})).apply(this,arguments)}function XM(n,e){const t=Si(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),za(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function jP(n){const{app:e}=n,t=Si(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new gF((0,Ne.Z)(function*(){let r;if(r=Si(e).token?yield lA(n,!0):yield lA(n),r.error)throw r.error}),()=>!0,()=>{const t=Si(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),za(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function BP(n,e){const t=Si(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}function cA(n){return n.expireTimeMillis-Date.now()>0}function PF(n){return{token:xF(MF),error:n}}class kF{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Si(this.app);for(const t of e)XM(this.app,t.next);return Promise.resolve()}}const ZP="app-check-internal";(0,La._registerComponent)(new zm.wA("app-check",n=>function(n,e){return new kF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ZP).initialize()})),(0,La._registerComponent)(new zm.wA(ZP,n=>function(n){return{getToken:e=>lA(n,e),addTokenListener:e=>function(n,e,t,r){const{app:a}=n,l=Si(a),h={next:t,error:r,type:e};if(za(a,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&cA(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),jP(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>jP(n))}(n,"INTERNAL",e),removeTokenListener:e=>XM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,La.registerVersion)("@firebase/app-check","0.5.3");class hA{constructor(){return(0,ln.vb)("app-check")}}"undefined"!=typeof window&&window;var fA=M(7841);const QP=new f.OlP("angularfire2.auth.use-emulator"),JP=new f.OlP("angularfire2.auth.settings"),XP=new f.OlP("angularfire2.auth.tenant-id"),ek=new f.OlP("angularfire2.auth.langugage-code"),tk=new f.OlP("angularfire2.auth.use-device-language"),nk=new f.OlP("angularfire.auth.persistence"),rk=(n,e,t,r,a,l,h,m)=>(0,vi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=a,l&&v.useDeviceLanguage(),h)for(const[I,D]of Object.entries(h))v.settings[I]=D;return m&&v.setPersistence(m),v},[t,r,a,l,h,m]);let ix=(()=>{class n{constructor(t,r,a,l,h,m,v,I,D,S,U,W){const te=new zr.xQ,Ae=(0,Ct.of)(void 0).pipe((0,g_.QV)(h.outsideAngular),Cr(()=>l.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,4828)))),(0,Pt.U)(()=>(0,vi.on)(t,l,r)),(0,Pt.U)(Ve=>rk(Ve,l,m,I,D,S,v,U)),UM({bufferSize:1,refCount:!1}));if(Vr(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ct.of)(null);else{Ae.pipe(xu()).subscribe();const mt=Ae.pipe(Cr(Tt=>Tt.getRedirectResult().then(Ln=>Ln,()=>null)),ln.iC,UM({bufferSize:1,refCount:!1})),_t=Ae.pipe(Cr(Tt=>new Pi.y(Ln=>({unsubscribe:l.runOutsideAngular(()=>Tt.onAuthStateChanged(Pr=>Ln.next(Pr),Pr=>Ln.error(Pr),()=>Ln.complete()))})))),tn=Ae.pipe(Cr(Tt=>new Pi.y(Ln=>({unsubscribe:l.runOutsideAngular(()=>Tt.onIdTokenChanged(Pr=>Ln.next(Pr),Pr=>Ln.error(Pr),()=>Ln.complete()))}))));this.authState=mt.pipe(AP(_t),(0,jM.R)(h.outsideAngular),(0,g_.QV)(h.insideAngular)),this.user=mt.pipe(AP(tn),(0,jM.R)(h.outsideAngular),(0,g_.QV)(h.insideAngular)),this.idToken=this.user.pipe(Cr(Tt=>Tt?(0,Hn.D)(Tt.getIdToken()):(0,Ct.of)(null))),this.idTokenResult=this.user.pipe(Cr(Tt=>Tt?(0,Hn.D)(Tt.getIdTokenResult()):(0,Ct.of)(null))),this.credential=(0,Y1.T)(mt,te,this.authState.pipe(zs(Tt=>!Tt))).pipe((0,Pt.U)(Tt=>(null==Tt?void 0:Tt.user)?Tt:null),(0,jM.R)(h.outsideAngular),(0,g_.QV)(h.insideAngular))}return(0,vi.pX)(this,Ae,l,{spy:{apply:(Ve,mt,_t)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&_t.then(tn=>te.next(tn))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(vi.Dh),f.LFG(vi.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ln.HU),f.LFG(QP,8),f.LFG(JP,8),f.LFG(XP,8),f.LFG(ek,8),f.LFG(tk,8),f.LFG(nk,8),f.LFG(hA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function ik(n,e){return function(n,e=nc.z){return new Pi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function sx(n,e){return ik(n,e).pipe((0,Pt.U)(t=>({payload:t,type:"query"})))}function pA(n,e){return sx(n,e).pipe(Nf(void 0),Gm(),(0,Pt.U)(([t,r])=>{const a=r.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const v=a.find(D=>D.doc.ref.isEqual(h.ref)),I=null==t?void 0:t.payload.docs.find(D=>D.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&I&&JSON.stringify(I.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function sk(n,e,t){return pA(n,t).pipe(Mf((r,a)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ox(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ox(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ox(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(l=>l.payload),e),[]),Wm(),(0,Pt.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function ox(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function ok(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ak{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=pA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Pt.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(Nf(void 0),Gm(),zs(([r,a])=>a.length>0||!r),(0,Pt.U)(([r,a])=>a),ln.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ok(e);return sk(this.query,t,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return sx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ln.iC)}get(e){return(0,Hn.D)(this.query.get(e)).pipe(ln.iC)}add(e){return this.ref.add(e)}doc(e){return new uk(this.ref.doc(e),this.afs)}}class uk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:l}=dk(r,t);return new ak(a,l,this.afs)}snapshotChanges(){return function(n,e){return ik(n,e).pipe(Nf(void 0),Gm(),(0,Pt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Hn.D)(this.ref.get(e)).pipe(ln.iC)}}class sL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?pA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),zs(t=>t.length>0),ln.iC):pA(this.query,this.afs.schedulers.outsideAngular).pipe(ln.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ok(e);return sk(this.query,t,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return sx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ln.iC)}get(e){return(0,Hn.D)(this.query.get(e)).pipe(ln.iC)}}const lk=new f.OlP("angularfire2.enableFirestorePersistence"),ck=new f.OlP("angularfire2.firestore.persistenceSettings"),oL=new f.OlP("angularfire2.firestore.settings"),aL=new f.OlP("angularfire2.firestore.use-emulator");function dk(n,e=(t=>t)){return{query:e(n),ref:n}}let hk=(()=>{class n{constructor(t,r,a,l,h,m,v,I,D,S,U,W,te,Ae,Ve,mt,_t){this.schedulers=v;const tn=(0,vi.on)(t,m,r),Tt=D;S&&rk(tn,m,U,te,Ae,Ve,W,mt),[this.firestore,this.persistenceEnabled$]=(0,vi.cc)(`${tn.name}.firestore`,"AngularFirestore",tn.name,()=>{const Ln=m.runOutsideAngular(()=>tn.firestore());if(l&&Ln.settings(l),Tt&&Ln.useEmulator(...Tt),a&&!Vr(h)){const Pr=()=>{try{return(0,Hn.D)(Ln.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(Qr){return"undefined"!=typeof console&&console.warn(Qr),(0,Ct.of)(!1)}};return[Ln,m.runOutsideAngular(Pr)]}return[Ln,(0,Ct.of)(!1)]},[l,Tt,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=dk(a,r),m=this.schedulers.ngZone.run(()=>l);return new ak(m,h,this)}collectionGroup(t,r){const a=r||(h=>h),l=this.firestore.collectionGroup(t);return new sL(a(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new uk(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(vi.Dh),f.LFG(vi.xv,8),f.LFG(lk,8),f.LFG(oL,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ln.HU),f.LFG(ck,8),f.LFG(aL,8),f.LFG(ix,8),f.LFG(QP,8),f.LFG(JP,8),f.LFG(XP,8),f.LFG(ek,8),f.LFG(tk,8),f.LFG(nk,8),f.LFG(hA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),uL=(()=>{class n{constructor(){fA.Z.registerVersion("angularfire",ln.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:lk,useValue:!0},{provide:ck,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[hk]}),n})(),fk=(()=>{class n{constructor(t){this.firestore=t,this.tarjeta$=new zr.xQ}setTarjeta(t){this.tarjeta$.next(t)}getTarjeta(){return this.tarjeta$.asObservable()}guardarTarjeta(t){return this.firestore.collection("tarjetas").add(t)}obtenerTarjetas(){return this.firestore.collection("tarjetas",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminar(t){return this.firestore.collection("tarjetas").doc(t).delete()}modificar(t,r){return this.firestore.collection("tarjetas").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(hk))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lL(n,e){1&n&&(f.TgZ(0,"div",22),f.TgZ(1,"span",23),f._uU(2,"Loading..."),f.qZA(),f.qZA())}let cL=(()=>{class n{constructor(t,r,a){this.fb=t,this._servicioTarjeta=r,this.toastr=a,this.loanding=!1,this.titulo="AGREGAR TARJETA",this.form=this.fb.group({titular:["",ms.required],numeroTarjeta:["",[ms.required,ms.minLength(16),ms.maxLength(16)]],fechaExpiracion:["",[ms.required,ms.minLength(5),ms.maxLength(5)]],cvv:["",[ms.required,ms.minLength(3),ms.maxLength(3)]]})}ngOnInit(){this._servicioTarjeta.getTarjeta().subscribe(t=>{this.id=t.id,this.titulo="EDITAR TARJETA",this.form.patchValue({titular:t.titular,numeroTarjeta:t.numeroTarjeta,fechaExpiracion:t.fechaExpiracion,cvv:t.cvv})})}crearTarjeta(){if(this.loanding=!0,null==this.id){const t={titular:this.form.value.titular,numeroTarjeta:this.form.value.numeroTarjeta,fechaExpiracion:this.form.value.fechaExpiracion,cvv:this.form.value.cvv,fechaCreacion:new Date,fechaActualizacion:new Date};this._servicioTarjeta.guardarTarjeta(t).then(()=>{this.form.reset(),this.loanding=!1},r=>{this.toastr.error("Opps...",r),this.loanding=!1})}else{const t={titular:this.form.value.titular,numeroTarjeta:this.form.value.numeroTarjeta,fechaExpiracion:this.form.value.fechaExpiracion,cvv:this.form.value.cvv,fechaActualizacion:new Date};this._servicioTarjeta.modificar(this.id,t).then(()=>{this.form.reset(),this.loanding=!1,this.titulo="AGREGAR TARJETA",this.id=void 0},r=>console.log(r))}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(G_),f.Y36(fk),f.Y36(md))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-formulario"]],decls:34,vars:20,consts:[[1,"card"],[1,"card-body"],[1,"row"],[1,"col","text-center"],[1,"text-success"],["class","spinner-border","style","float: right; height: 1.5rem; width: 1.5rem;","role","status",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],[1,"bi","bi-person-circle"],["type","text","placeholder","Titular","formControlName","titular",1,"form-control","form-control-lg"],[1,"bi","bi-credit-card-fill"],["type","text","maxlength","16","placeholder","Numero Tarjeta","formControlName","numeroTarjeta",1,"form-control","form-control-lg"],[1,"col-7"],[1,"bi","bi-calendar-week-fill"],["type","text","maxlength","5","placeholder","MM/YY","formControlName","fechaExpiracion",1,"form-control","form-control-lg"],[1,"col-5"],[1,"bi","bi-key-fill"],["type","password","maxlength","3","placeholder","CVV","formControlName","cvv",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-success","btn-block",3,"disabled"],[1,"bi","bi-save2"],["role","status",1,"spinner-border",2,"float","right","height","1.5rem","width","1.5rem"],[1,"sr-only"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"h3",4),f._uU(5),f.YNc(6,lL,3,0,"div",5),f.qZA(),f.qZA(),f.qZA(),f.TgZ(7,"form",6),f.NdJ("ngSubmit",function(){return r.crearTarjeta()}),f.TgZ(8,"div",7),f.TgZ(9,"div",8),f.TgZ(10,"span",9),f._UZ(11,"i",10),f.qZA(),f.qZA(),f._UZ(12,"input",11),f.qZA(),f.TgZ(13,"div",7),f.TgZ(14,"div",8),f.TgZ(15,"span",9),f._UZ(16,"i",12),f.qZA(),f.qZA(),f._UZ(17,"input",13),f.qZA(),f.TgZ(18,"div",2),f.TgZ(19,"div",14),f.TgZ(20,"div",7),f.TgZ(21,"div",8),f.TgZ(22,"span",9),f._UZ(23,"i",15),f.qZA(),f.qZA(),f._UZ(24,"input",16),f.qZA(),f.qZA(),f.TgZ(25,"div",17),f.TgZ(26,"div",7),f.TgZ(27,"div",8),f.TgZ(28,"span",9),f._UZ(29,"i",18),f.qZA(),f.qZA(),f._UZ(30,"input",19),f.qZA(),f.qZA(),f.qZA(),f.TgZ(31,"button",20),f._UZ(32,"i",21),f._uU(33," \xa0 Aceptar"),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(5),f.hij("",r.titulo," "),f.xp6(1),f.Q6J("ngIf",r.loanding),f.xp6(1),f.Q6J("formGroup",r.form),f.xp6(4),f.ekj("text-success","VALID"==r.form.controls.titular.status)("text-danger","INVALID"==r.form.controls.titular.status&&1==r.form.controls.titular.touched),f.xp6(5),f.ekj("text-success","VALID"==r.form.controls.numeroTarjeta.status)("text-danger","INVALID"==r.form.controls.numeroTarjeta.status&&1==r.form.controls.numeroTarjeta.touched),f.xp6(7),f.ekj("text-success","VALID"==r.form.controls.fechaExpiracion.status)("text-danger","INVALID"==r.form.controls.fechaExpiracion.status&&1==r.form.controls.fechaExpiracion.touched),f.xp6(6),f.ekj("text-success","VALID"==r.form.controls.cvv.status)("text-danger","INVALID"==r.form.controls.cvv.status&&1==r.form.controls.cvv.touched),f.xp6(2),f.Q6J("disabled",r.form.invalid))},directives:[Hr,kg,ys,$s,Fo,ti,P,l0],styles:[""]}),n})();function dL(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"tr"),f.TgZ(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td"),f._uU(4),f.qZA(),f.TgZ(5,"td"),f._uU(6),f.qZA(),f.TgZ(7,"td"),f.TgZ(8,"i",10),f.NdJ("click",function(){const l=f.CHM(t).$implicit;return f.oxw(2).modificar(l)}),f.qZA(),f._uU(9,"\xa0 "),f.TgZ(10,"i",11),f.NdJ("click",function(){const l=f.CHM(t).$implicit;return f.oxw(2).eliminar(l.id)}),f.qZA(),f.qZA(),f.qZA()}if(2&n){const t=e.$implicit;f.xp6(2),f.Oqu(t.titular),f.xp6(2),f.Oqu(t.numeroTarjeta),f.xp6(2),f.Oqu(t.fechaExpiracion)}}function hL(n,e){if(1&n&&(f.TgZ(0,"div"),f.TgZ(1,"table",7),f.TgZ(2,"tbody",8),f.YNc(3,dL,11,3,"tr",9),f.qZA(),f.qZA(),f.qZA()),2&n){const t=f.oxw();f.xp6(3),f.Q6J("ngForOf",t.tarjetas)}}function fL(n,e){1&n&&(f.TgZ(0,"div",2),f.TgZ(1,"div",12),f.TgZ(2,"h5"),f._uU(3,"No se encontr\xf3 ninguna Tarjeta de Cr\xe9dito"),f.qZA(),f.qZA(),f.qZA())}let pL=(()=>{class n{constructor(t,r){this._tarjetasService=t,this.toast=r,this.tarjetas=[]}ngOnInit(){this.cargarListado()}cargarListado(){this._tarjetasService.obtenerTarjetas().subscribe(t=>{this.tarjetas=[],t.forEach(r=>{this.tarjetas.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}eliminar(t){this._tarjetasService.eliminar(t).then(()=>{},r=>console.log(r))}modificar(t){this._tarjetasService.setTarjeta(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(fk),f.Y36(md))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-listado"]],decls:8,vars:2,consts:[[1,"card"],[1,"card-body"],[1,"row"],[1,"col","text-center","mb-1"],[1,"text-success"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"table"],[2,"font-size","large"],[4,"ngFor","ngForOf"],[1,"bi","text-info","bi-pencil-square",3,"click"],[1,"bi","text-danger","bi-trash",3,"click"],[1,"col","text-center"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"h3",4),f._uU(5,"LISTAR TARJETA"),f.qZA(),f.qZA(),f.qZA(),f.YNc(6,hL,4,1,"div",5),f.YNc(7,fL,4,0,"div",6),f.qZA(),f.qZA()),2&t&&(f.xp6(6),f.Q6J("ngIf",r.tarjetas.length>0),f.xp6(1),f.Q6J("ngIf",0==r.tarjetas.length))},directives:[Hr,fi],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),n})(),gL=(()=>{class n{constructor(){this.title="tarjetaCredito"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-lg-12","text-center"],[1,"card","p-3","m-5"],[1,"text-success",2,"text-transform","uppercase"],[1,"col-lg-6"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"h1",4),f._uU(5," Tarjeta de Credito "),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(6,"div",1),f.TgZ(7,"div",5),f._UZ(8,"app-formulario"),f.qZA(),f.TgZ(9,"div",5),f._UZ(10,"app-listado"),f.qZA(),f.qZA(),f.qZA())},directives:[cL,pL],styles:['@import"https://fonts.googleapis.com/css2?family=Source+Serif+Pro:ital@1&display=swap";h1[_ngcontent-%COMP%]{font-weight:600;font-size:60px}h3[_ngcontent-%COMP%]{font-family:"Source Serif Pro",serif}']}),n})();const ax_firebase={projectId:"tarjetacredito-2dacd",appId:"1:573838747231:web:bc7138745fca923fd61dea",storageBucket:"tarjetacredito-2dacd.appspot.com",apiKey:"AIzaSyAIb0b04ip6z_1tGfqiLUZxckoOaf_lsIo",authDomain:"tarjetacredito-2dacd.firebaseapp.com",messagingSenderId:"573838747231",measurementId:"G-PQ2MRHYXMS"};M(7379);class gk{constructor(){return(0,ln.vb)("auth")}}class cx{constructor(e){return e}}const mk="firestore",dx=new f.OlP("angularfire2.firestore-instances");function bL(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new cx(r)}}const wL={provide:class{constructor(){return(0,ln.vb)(mk)}},deps:[[new f.FiY,dx]]},CL={provide:cx,useFactory:function(n,e){const t=(0,ln.JM)(mk,n,e);return t&&new cx(t)},deps:[[new f.FiY,dx],og]};let IL=(()=>{class n{constructor(){(0,sg.KN)("angularfire",ln.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[CL,wL]}),n})();function TL(n,...e){return{ngModule:IL,providers:[{provide:dx,useFactory:bL(n),multi:!0,deps:[f.R0b,f.zs3,ln.HU,SP,[new f.FiY,gk],[new f.FiY,hA],...e]}]}}const DL=(0,ln.u3)(Zk,!0);var yk=M(4762),AL=M(9079);class RL{constructor(e,t,r,a){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=a}call(e,t){return t.subscribe(new NL(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class NL extends ns.L{constructor(e,t,r,a,l){super(e),this.keySelector=t,this.elementSelector=r,this.durationSelector=a,this.subjectSelector=l,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(e){let t;try{t=this.keySelector(e)}catch(r){return void this.error(r)}this._group(e,t)}_group(e,t){let r=this.groups;r||(r=this.groups=new Map);let l,a=r.get(t);if(this.elementSelector)try{l=this.elementSelector(e)}catch(h){this.error(h)}else l=e;if(!a){a=this.subjectSelector?this.subjectSelector():new zr.xQ,r.set(t,a);const h=new _k(t,a,this);if(this.destination.next(h),this.durationSelector){let m;try{m=this.durationSelector(new _k(t,a))}catch(v){return void this.error(v)}this.add(m.subscribe(new ML(t,a,this)))}}a.closed||a.next(l)}_error(e){const t=this.groups;t&&(t.forEach((r,a)=>{r.error(e)}),t.clear()),this.destination.error(e)}_complete(){const e=this.groups;e&&(e.forEach((t,r)=>{t.complete()}),e.clear()),this.destination.complete()}removeGroup(e){this.groups.delete(e)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class ML extends ns.L{constructor(e,t,r){super(t),this.key=e,this.group=t,this.parent=r}_next(e){this.complete()}_unsubscribe(){const{parent:e,key:t}=this;this.key=this.parent=null,e&&e.removeGroup(t)}}class _k extends Pi.y{constructor(e,t,r){super(),this.key=e,this.groupSubject=t,this.refCountSubscription=r}_subscribe(e){const t=new Im.w,{refCountSubscription:r,groupSubject:a}=this;return r&&!r.closed&&t.add(new xL(r)),t.add(a.subscribe(e)),t}}class xL extends Im.w{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;!e.closed&&!this.closed&&(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}const Ek="firebase_screen_id",fx="outlet",Kw="screen_class",bk="screen_name";let GL=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const px={},WL=n=>{const e=[n[Kw],n[fx]].join("#");if(px.hasOwnProperty(e))return px[e];{const t=GL++;return px[e]=t,t}},QL=new f.OlP("angularfire2.analytics.analyticsCollectionEnabled"),JL=new f.OlP("angularfire2.analytics.appVersion"),XL=new f.OlP("angularfire2.analytics.appName"),eV=new f.OlP("angularfire2.analytics.debugMode"),tV=new f.OlP("angularfire2.analytics.config"),gA="dataLayer";let Zw=(()=>{class n{constructor(t,r,a,l,h,m,v,I,D){if(this.analyticsInitialized=new Promise(()=>{}),function(n){return"browser"===n}(v)){window[gA]=window[gA]||[];const U=(...Ae)=>"config"===Ae[0]&&"firebase"===Ae[2].origin&&(this.measurementId=Ae[1],!0),W=Ae=>{window.gtag=(...Ve)=>{Ae&&Ae(...Ve),"event"===Ve[0]&&Ve[2].send_to===this.measurementId&&(l&&(Ve[2].app_name=l),a&&(Ve[2].app_version=a)),h&&"undefined"!=typeof console&&console.info(...Ve),function(...mt){window[gA].push(arguments)}(...Ve)}};window[gA].some(U)?(this.analyticsInitialized=Promise.resolve(),W()):this.analyticsInitialized=new Promise(Ae=>{W((...Ve)=>{U(...Ve)&&Ae()})}),m&&this.updateConfig(m),h&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const S=(0,Ct.of)(void 0).pipe((0,g_.QV)(D.outsideAngular),Cr(AL.Gb),Cr(U=>U?I.runOutsideAngular(()=>M.e(709).then(M.bind(M,709))):xa.E),(0,Pt.U)(()=>(0,vi.cc)("analytics","AngularFireAnalytics",t.name,()=>{const U=t.analytics();return!1===r&&U.setAnalyticsCollectionEnabled(!1),U},[t,r,m,h])),UM({bufferSize:1,refCount:!1}));return(0,vi.pX)(this,S,I)}updateConfig(t){return(0,yk.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(vi.Ot),f.LFG(QL,8),f.LFG(JL,8),f.LFG(XL,8),f.LFG(eV,8),f.LFG(tV,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ln.HU))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ck=(()=>{class n{constructor(t,r,a,l){if(this.disposables=[],fA.Z.registerVersion("angularfire",ln.q4.full,"compat-user-tracking"),Vr(r))this.initialized=Promise.resolve();else{let h;this.initialized=l.runOutsideAngular(()=>new Promise(m=>h=m)),this.disposables=[a.authState.subscribe(m=>{t.setUserId(null==m?void 0:m.uid),h()}),a.credential.subscribe(m=>{if(m){const v=m.user.isAnonymous?"anonymous":m.additionalUserInfo.providerId;m.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:v}),t.logEvent("login",{method:v})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Zw),f.LFG(f.Lbi),f.LFG(ix),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),uV=(()=>{class n{constructor(t,r,a,l,h,m){if(fA.Z.registerVersion("angularfire",ln.q4.full,"compat-screen-tracking"),!r||!t)return this;h.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(zs(a=>a instanceof Bv)).pipe(Cr(a=>{var l;const m=(null===(l=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,W=>W.replace("://",":///"))).root.children[a.snapshot.outlet])||void 0===l?void 0:l.toString())||"",v=n.routerState.root.children.map(W=>W).find(W=>W.outlet===a.snapshot.outlet);if(!v)return(0,Ct.of)(null);let I=v;for(;I.firstChild;)I=I.firstChild;const D=I.pathFromRoot.map(W=>{var te;return null===(te=W.routeConfig)||void 0===te?void 0:te.path}).filter(W=>W).join("/")||"/",S={[bk]:D,page_path:`/${m}`,firebase_event_origin:"auto",firebase_screen:D,[fx]:a.snapshot.outlet};e&&(S.page_title=e.getTitle());let U=v.component;if(U){if(U===$f){let W=a.snapshot;for(;W.firstChild;)W=W.firstChild;U=W.component}}else U=a.snapshot.component;if("string"==typeof U)return(0,Ct.of)(Object.assign(Object.assign({},S),{[Kw]:U}));if(U){const W=t.resolveComponentFactory(U);return(0,Ct.of)(Object.assign(Object.assign({},S),{[Kw]:W.selector}))}return(0,Ct.of)(null)}),zs(a=>!!a),(0,Pt.U)(a=>Object.assign({firebase_screen_class:a[Kw],[Ek]:WL(a)},a)),function(n,e,t,r){return a=>a.lift(new RL(n,void 0,void 0,void 0))}(a=>a[fx]),(0,qr.zg)(a=>a.pipe(Wm((l,h)=>JSON.stringify(l)===JSON.stringify(h)),Nf(void 0),Gm(),(0,Pt.U)(([l,h])=>l?Object.assign({firebase_previous_class:l[Kw],firebase_previous_screen:l[bk],firebase_previous_id:l[Ek]},h):h)))))(r,a,l).pipe(Cr(v=>(0,yk.mG)(this,void 0,void 0,function*(){return m&&(yield m.initialized),yield t.logEvent("screen_view",v)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Zw),f.LFG(_i,8),f.LFG(_g,8),f.LFG(f._Vd),f.LFG(f.R0b),f.LFG(Ck,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),lV=(()=>{class n{constructor(t,r,a){fA.Z.registerVersion("angularfire",ln.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Zw),f.LFG(uV,8),f.LFG(Ck,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[Zw]}),n})(),cV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[gL]}),n.\u0275inj=f.cJS({providers:[],imports:[[lu,IE,d0,df,aF(()=>uF(ax_firebase)),TL(()=>DL()),vi.hO.initializeApp(ax_firebase),lV,uL,fS,CS.forRoot()]]}),n})();(0,f.G48)(),A_().bootstrapModule(cV).catch(n=>console.error(n))},4762:(ut,Me,M)=>{"use strict";function ie(le,we){var he={};for(var Ie in le)Object.prototype.hasOwnProperty.call(le,Ie)&&we.indexOf(Ie)<0&&(he[Ie]=le[Ie]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(Ie=Object.getOwnPropertySymbols(le);je<Ie.length;je++)we.indexOf(Ie[je])<0&&Object.prototype.propertyIsEnumerable.call(le,Ie[je])&&(he[Ie[je]]=le[Ie[je]])}return he}function me(le,we,he,Ie){return new(he||(he=Promise))(function(ve,at){function Yt(Ot){try{gt(Ie.next(Ot))}catch(Mn){at(Mn)}}function Sn(Ot){try{gt(Ie.throw(Ot))}catch(Mn){at(Mn)}}function gt(Ot){Ot.done?ve(Ot.value):function(ve){return ve instanceof he?ve:new he(function(at){at(ve)})}(Ot.value).then(Yt,Sn)}gt((Ie=Ie.apply(le,we||[])).next())})}M.d(Me,{_T:()=>ie,mG:()=>me})},3488:(ut,Me,M)=>{"use strict";M.d(Me,{Gb:()=>cr,Kz:()=>G,EI:()=>q,lT:()=>Zt,Iv:()=>Fr,xP:()=>z,Xd:()=>vr});var f=M(8239),V=M(8026),x=M(5422),ie=M(3854),pe=M(3910);M(3328);const Ce="analytics",me="firebase_id",L="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ee="https://www.googletagmanager.com/gtag/js",K=new x.Yd("@firebase/analytics");function ae(Q){return Promise.all(Q.map(be=>be.catch(Fe=>Fe)))}function Oe(Q,be){const Fe=document.createElement("script");Fe.src=`${ee}?l=${Q}&id=${be}`,Fe.async=!0,document.head.appendChild(Fe)}function J(Q,be,Fe,qe,Qe,Ke){return Te.apply(this,arguments)}function Te(){return(Te=(0,f.Z)(function*(Q,be,Fe,qe,Qe,Ke){const Z=qe[Qe];try{if(Z)yield be[Z];else{const H=(yield ae(Fe)).find(ge=>ge.measurementId===Qe);H&&(yield be[H.appId])}}catch(B){K.error(B)}Q("config",Qe,Ke)})).apply(this,arguments)}function Se(Q,be,Fe,qe,Qe){return fe.apply(this,arguments)}function fe(){return(fe=(0,f.Z)(function*(Q,be,Fe,qe,Qe){try{let Ke=[];if(Qe&&Qe.send_to){let Z=Qe.send_to;Array.isArray(Z)||(Z=[Z]);const B=yield ae(Fe);for(const H of Z){const ge=B.find(yt=>yt.measurementId===H),Ze=ge&&be[ge.appId];if(!Ze){Ke=[];break}Ke.push(Ze)}}0===Ke.length&&(Ke=Object.values(be)),yield Promise.all(Ke),Q("event",qe,Qe||{})}catch(Ke){K.error(Ke)}})).apply(this,arguments)}function ze(){const Q=window.document.getElementsByTagName("script");for(const be of Object.values(Q))if(be.src&&be.src.includes(ee))return be;return null}const ye=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),he=new class{constructor(be={},Fe=1e3){this.throttleMetadata=be,this.intervalMillis=Fe}getThrottleMetadata(be){return this.throttleMetadata[be]}setThrottleMetadata(be,Fe){this.throttleMetadata[be]=Fe}deleteThrottleMetadata(be){delete this.throttleMetadata[be]}};function Ie(Q){return new Headers({Accept:"application/json","x-goog-api-key":Q})}function je(Q){return ve.apply(this,arguments)}function ve(){return(ve=(0,f.Z)(function*(Q){var be;const{appId:Fe,apiKey:qe}=Q,Qe={method:"GET",headers:Ie(qe)},Ke=L.replace("{app-id}",Fe),Z=yield fetch(Ke,Qe);if(200!==Z.status&&304!==Z.status){let B="";try{const H=yield Z.json();(null===(be=H.error)||void 0===be?void 0:be.message)&&(B=H.error.message)}catch(H){}throw ye.create("config-fetch-failed",{httpStatus:Z.status,responseMessage:B})}return Z.json()})).apply(this,arguments)}function at(Q){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,f.Z)(function*(Q,be=he,Fe){const{appId:qe,apiKey:Qe,measurementId:Ke}=Q.options;if(!qe)throw ye.create("no-app-id");if(!Qe){if(Ke)return{measurementId:Ke,appId:qe};throw ye.create("no-api-key")}const Z=be.getThrottleMetadata(qe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},B=new bn;return setTimeout((0,f.Z)(function*(){B.abort()}),void 0!==Fe?Fe:6e4),Sn({appId:qe,apiKey:Qe,measurementId:Ke},Z,B,be)})).apply(this,arguments)}function Sn(Q,be,Fe){return gt.apply(this,arguments)}function gt(){return(gt=(0,f.Z)(function*(Q,{throttleEndTimeMillis:be,backoffCount:Fe},qe,Qe=he){const{appId:Ke,measurementId:Z}=Q;try{yield Ot(qe,be)}catch(B){if(Z)return K.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Z} provided in the "measurementId" field in the local Firebase config. [${B.message}]`),{appId:Ke,measurementId:Z};throw B}try{const B=yield je(Q);return Qe.deleteThrottleMetadata(Ke),B}catch(B){if(!Mn(B)){if(Qe.deleteThrottleMetadata(Ke),Z)return K.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Z} provided in the "measurementId" field in the local Firebase config. [${B.message}]`),{appId:Ke,measurementId:Z};throw B}const H=503===Number(B.customData.httpStatus)?(0,ie.$s)(Fe,Qe.intervalMillis,30):(0,ie.$s)(Fe,Qe.intervalMillis),ge={throttleEndTimeMillis:Date.now()+H,backoffCount:Fe+1};return Qe.setThrottleMetadata(Ke,ge),K.debug(`Calling attemptFetch again in ${H} millis`),Sn(Q,ge,qe,Qe)}})).apply(this,arguments)}function Ot(Q,be){return new Promise((Fe,qe)=>{const Qe=Math.max(be-Date.now(),0),Ke=setTimeout(Fe,Qe);Q.addEventListener(()=>{clearTimeout(Ke),qe(ye.create("fetch-throttle",{throttleEndTimeMillis:be}))})})}function Mn(Q){if(!(Q instanceof ie.ZR&&Q.customData))return!1;const be=Number(Q.customData.httpStatus);return 429===be||500===be||503===be||504===be}class bn{constructor(){this.listeners=[]}addEventListener(be){this.listeners.push(be)}abort(){this.listeners.forEach(be=>be())}}function Rr(){return zn.apply(this,arguments)}function zn(){return(zn=(0,f.Z)(function*(){if(!(0,ie.hl)())return K.warn(ye.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(Q){return K.warn(ye.create("indexeddb-unavailable",{errorInfo:Q}).message),!1}return!0})).apply(this,arguments)}function st(){return(st=(0,f.Z)(function*(Q,be,Fe,qe,Qe,Ke,Z){var B;const H=at(Q);H.then(Ft=>{Fe[Ft.measurementId]=Ft.appId,Q.options.measurementId&&Ft.measurementId!==Q.options.measurementId&&K.warn(`The measurement ID in the local Firebase config (${Q.options.measurementId}) does not match the measurement ID fetched from the server (${Ft.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ft=>K.error(Ft)),be.push(H);const ge=Rr().then(Ft=>{if(Ft)return qe.getId()}),[Ze,yt]=yield Promise.all([H,ge]);ze()||Oe(Ke,Ze.measurementId),Qe("js",new Date);const Mt=null!==(B=null==Z?void 0:Z.config)&&void 0!==B?B:{};return Mt.origin="firebase",Mt.update=!0,null!=yt&&(Mt[me]=yt),Qe("config",Ze.measurementId,Mt),Ze.measurementId})).apply(this,arguments)}class cn{constructor(be){this.app=be}_delete(){return delete qn[this.app.options.appId],Promise.resolve()}}let qn={},_r=[];const Qt={};let xn,Vn,Kn="dataLayer",Zn="gtag",ur=!1;function vr(Q){if(ur)throw ye.create("already-initialized");Q.dataLayerName&&(Kn=Q.dataLayerName),Q.gtagName&&(Zn=Q.gtagName)}function At(Q,be,Fe){!function(){const Q=[];if((0,ie.ru)()&&Q.push("This is a browser extension environment."),(0,ie.zI)()||Q.push("Cookies are not available."),Q.length>0){const be=Q.map((qe,Qe)=>`(${Qe+1}) ${qe}`).join(" "),Fe=ye.create("invalid-analytics-context",{errorInfo:be});K.warn(Fe.message)}}();const qe=Q.options.appId;if(!qe)throw ye.create("no-app-id");if(!Q.options.apiKey){if(!Q.options.measurementId)throw ye.create("no-api-key");K.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Q.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qn[qe])throw ye.create("already-exists",{id:qe});if(!ur){!function(Q){let be=[];Array.isArray(window[Q])?be=window[Q]:window[Q]=be}(Kn);const{wrappedGtag:Ke,gtagCore:Z}=function(Q,be,Fe,qe,Qe){let Ke=function(...Z){window[qe].push(arguments)};return window[Qe]&&"function"==typeof window[Qe]&&(Ke=window[Qe]),window[Qe]=function(Q,be,Fe,qe){function Ke(){return(Ke=(0,f.Z)(function*(Z,B,H){try{"event"===Z?yield Se(Q,be,Fe,B,H):"config"===Z?yield J(Q,be,Fe,qe,B,H):Q("set",B)}catch(ge){K.error(ge)}})).apply(this,arguments)}return function(Z,B,H){return Ke.apply(this,arguments)}}(Ke,Q,be,Fe),{gtagCore:Ke,wrappedGtag:window[Qe]}}(qn,_r,Qt,Kn,Zn);Vn=Ke,xn=Z,ur=!0}return qn[qe]=function(Q,be,Fe,qe,Qe,Ke,Z){return st.apply(this,arguments)}(Q,_r,Qt,be,xn,Kn,Fe),new cn(Q)}function lr(){return(lr=(0,f.Z)(function*(Q,be,Fe,qe,Qe){if(Qe&&Qe.global)Q("event",Fe,qe);else{const Ke=yield be;Q("event",Fe,Object.assign(Object.assign({},qe),{send_to:Ke}))}})).apply(this,arguments)}function Le(){return(Le=(0,f.Z)(function*(Q,be,Fe,qe){if(qe&&qe.global)return Q("set",{screen_name:Fe}),Promise.resolve();Q("config",yield be,{update:!0,screen_name:Fe})})).apply(this,arguments)}function on(){return(on=(0,f.Z)(function*(Q,be,Fe,qe){if(qe&&qe.global)return Q("set",{user_id:Fe}),Promise.resolve();Q("config",yield be,{update:!0,user_id:Fe})})).apply(this,arguments)}function zt(){return(zt=(0,f.Z)(function*(Q,be,Fe,qe){if(qe&&qe.global){const Qe={};for(const Ke of Object.keys(Fe))Qe[`user_properties.${Ke}`]=Fe[Ke];return Q("set",Qe),Promise.resolve()}Q("config",yield be,{update:!0,user_properties:Fe})})).apply(this,arguments)}function Xe(){return(Xe=(0,f.Z)(function*(Q,be){const Fe=yield Q;window[`ga-disable-${Fe}`]=!be})).apply(this,arguments)}function cr(){return nn.apply(this,arguments)}function nn(){return(nn=(0,f.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(Q){return!1}})).apply(this,arguments)}function Zt(Q,be,Fe){Q=(0,ie.m9)(Q),function(Q,be,Fe,qe){return Le.apply(this,arguments)}(Vn,qn[Q.app.options.appId],be,Fe).catch(qe=>K.error(qe))}function Fr(Q,be,Fe){Q=(0,ie.m9)(Q),function(Q,be,Fe,qe){return on.apply(this,arguments)}(Vn,qn[Q.app.options.appId],be,Fe).catch(qe=>K.error(qe))}function z(Q,be,Fe){Q=(0,ie.m9)(Q),function(Q,be,Fe,qe){return zt.apply(this,arguments)}(Vn,qn[Q.app.options.appId],be,Fe).catch(qe=>K.error(qe))}function q(Q,be){Q=(0,ie.m9)(Q),function(Q,be){return Xe.apply(this,arguments)}(qn[Q.app.options.appId],be).catch(Fe=>K.error(Fe))}function G(Q,be,Fe,qe){Q=(0,ie.m9)(Q),function(Q,be,Fe,qe,Qe){return lr.apply(this,arguments)}(Vn,qn[Q.app.options.appId],be,Fe,qe).catch(Qe=>K.error(Qe))}const Re="@firebase/analytics";(0,V._registerComponent)(new pe.wA(Ce,(be,{options:Fe})=>At(be.getProvider("app").getImmediate(),be.getProvider("installations-internal").getImmediate(),Fe),"PUBLIC")),(0,V._registerComponent)(new pe.wA("analytics-internal",function(be){try{const Fe=be.getProvider(Ce).getImmediate();return{logEvent:(qe,Qe,Ke)=>G(Fe,qe,Qe,Ke)}}catch(Fe){throw ye.create("interop-component-reg-failed",{reason:Fe})}},"PRIVATE")),(0,V.registerVersion)(Re,"0.7.5"),(0,V.registerVersion)(Re,"0.7.5","esm2017")},3394:(ut,Me,M)=>{"use strict";M.d(Me,{Z:()=>Oe});var f=M(3854),V=M(3910),x=M(8026),ie=M(5422);class pe{constructor(J,Te){this._delegate=J,this.firebase=Te,(0,x._addComponent)(J,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=J.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this._delegate.automaticDataCollectionEnabled=J}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(J=>{this._delegate.checkDestroyed(),J()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(J,Te=x._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const fe=this._delegate.container.getProvider(J);return!fe.isInitialized()&&"EXPLICIT"===(null===(Se=fe.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&fe.initialize(),fe.getImmediate({identifier:Te})}_removeServiceInstance(J,Te=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(J).clearInstance(Te)}_addComponent(J){(0,x._addComponent)(this._delegate,J)}_addOrOverwriteComponent(J){(0,x._addOrOverwriteComponent)(this._delegate,J)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function ne(){const _e=function(_e){const J={},Te={__esModule:!0,initializeApp:function(ye,Gt={}){const le=x.initializeApp(ye,Gt);if((0,f.r3)(J,le.name))return J[le.name];const we=new _e(le,Te);return J[le.name]=we,we},app:fe,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function(ye){const Gt=ye.name,le=Gt.replace("-compat","");if(x._registerComponent(ye)&&"PUBLIC"===ye.type){const we=(he=fe())=>{if("function"!=typeof he[le])throw Ce.create("invalid-app-argument",{appName:Gt});return he[le]()};void 0!==ye.serviceProps&&(0,f.ZB)(we,ye.serviceProps),Te[le]=we,_e.prototype[le]=function(...he){return this._getService.bind(this,Gt).apply(this,ye.multipleInstances?he:[])}}return"PUBLIC"===ye.type?Te[le]:null},removeApp:function(ye){delete J[ye]},useAsService:function(ye,Gt){return"serverAuth"===Gt?null:Gt},modularAPIs:x}};function fe(ye){if(!(0,f.r3)(J,ye=ye||x._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:ye});return J[ye]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function(){return Object.keys(J).map(ye=>J[ye])}}),fe.App=_e,Te}(pe);return _e.INTERNAL=Object.assign(Object.assign({},_e.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function(Te){(0,f.ZB)(_e,Te)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),_e}(),L=new ie.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _e=self.firebase.SDK_VERSION;_e&&_e.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=F;(0,x.registerVersion)("@firebase/app-compat","0.1.14",undefined)},8026:(ut,Me,M)=>{"use strict";M.r(Me),M.d(Me,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>Sn,_addComponent:()=>bn,_addOrOverwriteComponent:()=>Rr,_apps:()=>Ot,_clearComponents:()=>cn,_components:()=>Mn,_getProvider:()=>bt,_registerComponent:()=>zn,_removeServiceInstance:()=>st,deleteApp:()=>ur,getApp:()=>xn,getApps:()=>Vn,initializeApp:()=>Zn,onLog:()=>At,registerVersion:()=>tr,setLogLevel:()=>Un});var f=M(8239),V=M(3910),x=M(5422),ie=M(3854);class pe{constructor(Le){this.container=Le}getPlatformInfoString(){return this.container.getProviders().map(Kt=>{if(function(ct){const Le=ct.getComponent();return"VERSION"===(null==Le?void 0:Le.type)}(Kt)){const on=Kt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Kt=>Kt).join(" ")}}const Ce="@firebase/app",ne=new x.Yd("@firebase/app"),Sn="[DEFAULT]",gt={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,Mn=new Map;function bn(ct,Le){try{ct.container.addComponent(Le)}catch(Kt){ne.debug(`Component ${Le.name} failed to register with FirebaseApp ${ct.name}`,Kt)}}function Rr(ct,Le){ct.container.addOrOverwriteComponent(Le)}function zn(ct){const Le=ct.name;if(Mn.has(Le))return ne.debug(`There were multiple attempts to register component ${Le}.`),!1;Mn.set(Le,ct);for(const Kt of Ot.values())bn(Kt,ct);return!0}function bt(ct,Le){return ct.container.getProvider(Le)}function st(ct,Le,Kt=Sn){bt(ct,Le).clearInstance(Kt)}function cn(){Mn.clear()}const _r=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Qt{constructor(Le,Kt,on){this._isDeleted=!1,this._options=Object.assign({},Le),this._config=Object.assign({},Kt),this._name=Kt.name,this._automaticDataCollectionEnabled=Kt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this.checkDestroyed(),this._automaticDataCollectionEnabled=Le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Le){this._isDeleted=Le}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const Kn="9.6.3";function Zn(ct,Le={}){"object"!=typeof Le&&(Le={name:Le});const Kt=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},Le),on=Kt.name;if("string"!=typeof on||!on)throw _r.create("bad-app-name",{appName:String(on)});const un=Ot.get(on);if(un){if((0,ie.vZ)(ct,un.options)&&(0,ie.vZ)(Kt,un.config))return un;throw _r.create("duplicate-app",{appName:on})}const zt=new V.H0(on);for(const Xe of Mn.values())zt.addComponent(Xe);const rt=new Qt(ct,Kt,zt);return Ot.set(on,rt),rt}function xn(ct=Sn){const Le=Ot.get(ct);if(!Le)throw _r.create("no-app",{appName:ct});return Le}function Vn(){return Array.from(Ot.values())}function ur(ct){return vr.apply(this,arguments)}function vr(){return(vr=(0,f.Z)(function*(ct){const Le=ct.name;Ot.has(Le)&&(Ot.delete(Le),yield Promise.all(ct.container.getProviders().map(Kt=>Kt.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function tr(ct,Le,Kt){var on;let un=null!==(on=gt[ct])&&void 0!==on?on:ct;Kt&&(un+=`-${Kt}`);const zt=un.match(/\s|\//),rt=Le.match(/\s|\//);if(zt||rt){const Xe=[`Unable to register library "${un}" with version "${Le}":`];return zt&&Xe.push(`library name "${un}" contains illegal characters (whitespace or "/")`),zt&&rt&&Xe.push("and"),rt&&Xe.push(`version name "${Le}" contains illegal characters (whitespace or "/")`),void ne.warn(Xe.join(" "))}zn(new V.wA(`${un}-version`,()=>({library:un,version:Le}),"VERSION"))}function At(ct,Le){if(null!==ct&&"function"!=typeof ct)throw _r.create("invalid-log-argument");(0,x.Am)(ct,Le)}function Un(ct){(0,x.Ub)(ct)}zn(new V.wA("platform-logger",Le=>new pe(Le),"PRIVATE")),tr(Ce,"0.7.13",""),tr(Ce,"0.7.13","esm2017"),tr("fire-js","")},3910:(ut,Me,M)=>{"use strict";M.d(Me,{wA:()=>x,H0:()=>me});var f=M(8239),V=M(3854);class x{constructor(F,L,ee){this.name=F,this.instanceFactory=L,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ie="[DEFAULT]";class pe{constructor(F,L){this.name=F,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const L=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(L)){const ee=new V.BH;if(this.instancesDeferred.set(L,ee),this.isInitialized(L)||this.shouldAutoInitialize())try{const K=this.getOrInitializeService({instanceIdentifier:L});K&&ee.resolve(K)}catch(K){}}return this.instancesDeferred.get(L).promise}getImmediate(F){var L;const ee=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),K=null!==(L=null==F?void 0:F.optional)&&void 0!==L&&L;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(K)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ae){if(K)return null;throw ae}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ie})}catch(L){}for(const[L,ee]of this.instancesDeferred.entries()){const K=this.normalizeInstanceIdentifier(L);try{const ae=this.getOrInitializeService({instanceIdentifier:K});ee.resolve(ae)}catch(ae){}}}}clearInstance(F=ie){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,f.Z)(function*(){const L=Array.from(F.instances.values());yield Promise.all([...L.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...L.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ie){return this.instances.has(F)}getOptions(F=ie){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:L={}}=F,ee=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const K=this.getOrInitializeService({instanceIdentifier:ee,options:L});for(const[ae,Oe]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(ae)&&Oe.resolve(K);return K}onInit(F,L){var ee;const K=this.normalizeInstanceIdentifier(L),ae=null!==(ee=this.onInitCallbacks.get(K))&&void 0!==ee?ee:new Set;ae.add(F),this.onInitCallbacks.set(K,ae);const Oe=this.instances.get(K);return Oe&&F(Oe,K),()=>{ae.delete(F)}}invokeOnInitCallbacks(F,L){const ee=this.onInitCallbacks.get(L);if(ee)for(const K of ee)try{K(F,L)}catch(ae){}}getOrInitializeService({instanceIdentifier:F,options:L={}}){let ee=this.instances.get(F);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=F,ne===ie?void 0:ne),options:L}),this.instances.set(F,ee),this.instancesOptions.set(F,L),this.invokeOnInitCallbacks(ee,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,ee)}catch(K){}var ne;return ee||null}normalizeInstanceIdentifier(F=ie){return this.component?this.component.multipleInstances?F:ie:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const L=this.getProvider(F.name);if(L.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);L.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const L=new pe(F,this);return this.providers.set(F,L),L}getProviders(){return Array.from(this.providers.values())}}},3328:(ut,Me,M)=>{"use strict";var f=M(8239),V=M(8026),x=M(3910),ie=M(3854),pe=M(6676);const de="@firebase/installations",ne="w:0.5.5",F="FIS_v2",_e=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function J(j){return j instanceof ie.ZR&&j.code.includes("request-failed")}function Te({projectId:j}){return`https://firebaseinstallations.googleapis.com/v1/projects/${j}/installations`}function Se(j){return{token:j.token,requestStatus:2,expiresIn:Gt(j.expiresIn),creationTime:Date.now()}}function fe(j,oe){return ke.apply(this,arguments)}function ke(){return(ke=(0,f.Z)(function*(j,oe){const it=(yield oe.json()).error;return _e.create("request-failed",{requestName:j,serverCode:it.code,serverMessage:it.message,serverStatus:it.status})})).apply(this,arguments)}function nt({apiKey:j}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":j})}function ze(j,{refreshToken:oe}){const Pe=nt(j);return Pe.append("Authorization",function(j){return`${F} ${j}`}(oe)),Pe}function Nt(j){return ye.apply(this,arguments)}function ye(){return(ye=(0,f.Z)(function*(j){const oe=yield j();return oe.status>=500&&oe.status<600?j():oe})).apply(this,arguments)}function Gt(j){return Number(j.replace("s","000"))}function we(j,oe){return he.apply(this,arguments)}function he(){return(he=(0,f.Z)(function*(j,{fid:oe}){const Pe=Te(j),vt={method:"POST",headers:nt(j),body:JSON.stringify({fid:oe,authVersion:F,appId:j.appId,sdkVersion:ne})},Cn=yield Nt(()=>fetch(Pe,vt));if(Cn.ok){const Ht=yield Cn.json();return{fid:Ht.fid||oe,registrationStatus:2,refreshToken:Ht.refreshToken,authToken:Se(Ht.authToken)}}throw yield fe("Create Installation",Cn)})).apply(this,arguments)}function Ie(j){return new Promise(oe=>{setTimeout(oe,j)})}const ve=/^[cdef][\w-]{21}$/;function Yt(){try{const j=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(j),j[0]=112+j[0]%16;const Pe=function(j){return function(j){return btoa(String.fromCharCode(...j)).replace(/\+/g,"-").replace(/\//g,"_")}(j).substr(0,22)}(j);return ve.test(Pe)?Pe:""}catch(j){return""}}function gt(j){return`${j.appName}!${j.appId}`}const Ot=new Map;function Mn(j,oe){const Pe=gt(j);zn(Pe,oe),function(j,oe){const Pe=(!st&&"BroadcastChannel"in self&&(st=new BroadcastChannel("[Firebase] FID Change"),st.onmessage=j=>{zn(j.data.key,j.data.fid)}),st);Pe&&Pe.postMessage({key:j,fid:oe}),0===Ot.size&&st&&(st.close(),st=null)}(Pe,oe)}function zn(j,oe){const Pe=Ot.get(j);if(Pe)for(const it of Pe)it(oe)}let st=null;const Kn="firebase-installations-store";let Zn=null;function xn(){return Zn||(Zn=(0,pe.openDb)("firebase-installations-database",1,j=>{switch(j.oldVersion){case 0:j.createObjectStore(Kn)}})),Zn}function Vn(j,oe){return ur.apply(this,arguments)}function ur(){return(ur=(0,f.Z)(function*(j,oe){const Pe=gt(j),yn=(yield xn()).transaction(Kn,"readwrite"),vt=yn.objectStore(Kn),Cn=yield vt.get(Pe);return yield vt.put(oe,Pe),yield yn.complete,(!Cn||Cn.fid!==oe.fid)&&Mn(j,oe.fid),oe})).apply(this,arguments)}function vr(j){return tr.apply(this,arguments)}function tr(){return(tr=(0,f.Z)(function*(j){const oe=gt(j),it=(yield xn()).transaction(Kn,"readwrite");yield it.objectStore(Kn).delete(oe),yield it.complete})).apply(this,arguments)}function At(j,oe){return Un.apply(this,arguments)}function Un(){return(Un=(0,f.Z)(function*(j,oe){const Pe=gt(j),yn=(yield xn()).transaction(Kn,"readwrite"),vt=yn.objectStore(Kn),Cn=yield vt.get(Pe),Ht=oe(Cn);return void 0===Ht?yield vt.delete(Pe):yield vt.put(Ht,Pe),yield yn.complete,Ht&&(!Cn||Cn.fid!==Ht.fid)&&Mn(j,Ht.fid),Ht})).apply(this,arguments)}function lr(j){return ct.apply(this,arguments)}function ct(){return(ct=(0,f.Z)(function*(j){let oe;const Pe=yield At(j,it=>{const yn=Le(it),vt=Kt(j,yn);return oe=vt.registrationPromise,vt.installationEntry});return""===Pe.fid?{installationEntry:yield oe}:{installationEntry:Pe,registrationPromise:oe}})).apply(this,arguments)}function Le(j){return pn(j||{fid:Yt(),registrationStatus:0})}function Kt(j,oe){if(0===oe.registrationStatus){if(!navigator.onLine)return{installationEntry:oe,registrationPromise:Promise.reject(_e.create("app-offline"))};const Pe={fid:oe.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:Pe,registrationPromise:function(j,oe){return un.apply(this,arguments)}(j,Pe)}}return 1===oe.registrationStatus?{installationEntry:oe,registrationPromise:zt(j)}:{installationEntry:oe}}function un(){return(un=(0,f.Z)(function*(j,oe){try{return Vn(j,yield we(j,oe))}catch(Pe){throw J(Pe)&&409===Pe.customData.serverCode?yield vr(j):yield Vn(j,{fid:oe.fid,registrationStatus:0}),Pe}})).apply(this,arguments)}function zt(j){return rt.apply(this,arguments)}function rt(){return(rt=(0,f.Z)(function*(j){let oe=yield Xe(j);for(;1===oe.registrationStatus;)yield Ie(100),oe=yield Xe(j);if(0===oe.registrationStatus){const{installationEntry:Pe,registrationPromise:it}=yield lr(j);return it||Pe}return oe})).apply(this,arguments)}function Xe(j){return At(j,oe=>{if(!oe)throw _e.create("installation-not-found");return pn(oe)})}function pn(j){return function(j){return 1===j.registrationStatus&&j.registrationTime+1e4<Date.now()}(j)?{fid:j.fid,registrationStatus:0}:j}function cr(j,oe){return nn.apply(this,arguments)}function nn(){return(nn=(0,f.Z)(function*({appConfig:j,platformLoggerProvider:oe},Pe){const it=Zt(j,Pe),yn=ze(j,Pe),vt=oe.getImmediate({optional:!0});vt&&yn.append("x-firebase-client",vt.getPlatformInfoString());const Ht={method:"POST",headers:yn,body:JSON.stringify({installation:{sdkVersion:ne}})},Mi=yield Nt(()=>fetch(it,Ht));if(Mi.ok)return Se(yield Mi.json());throw yield fe("Generate Auth Token",Mi)})).apply(this,arguments)}function Zt(j,{fid:oe}){return`${Te(j)}/${oe}/authTokens:generate`}function Fr(j){return z.apply(this,arguments)}function z(){return(z=(0,f.Z)(function*(j,oe=!1){let Pe;const it=yield At(j.appConfig,vt=>{if(!Q(vt))throw _e.create("not-registered");const Cn=vt.authToken;if(!oe&&be(Cn))return vt;if(1===Cn.requestStatus)return Pe=q(j,oe),vt;{if(!navigator.onLine)throw _e.create("app-offline");const Ht=qe(vt);return Pe=se(j,Ht),Ht}});return Pe?yield Pe:it.authToken})).apply(this,arguments)}function q(j,oe){return G.apply(this,arguments)}function G(){return(G=(0,f.Z)(function*(j,oe){let Pe=yield Re(j.appConfig);for(;1===Pe.authToken.requestStatus;)yield Ie(100),Pe=yield Re(j.appConfig);const it=Pe.authToken;return 0===it.requestStatus?Fr(j,oe):it})).apply(this,arguments)}function Re(j){return At(j,oe=>{if(!Q(oe))throw _e.create("not-registered");return function(j){return 1===j.requestStatus&&j.requestTime+1e4<Date.now()}(oe.authToken)?Object.assign(Object.assign({},oe),{authToken:{requestStatus:0}}):oe})}function se(j,oe){return et.apply(this,arguments)}function et(){return(et=(0,f.Z)(function*(j,oe){try{const Pe=yield cr(j,oe),it=Object.assign(Object.assign({},oe),{authToken:Pe});return yield Vn(j.appConfig,it),Pe}catch(Pe){if(!J(Pe)||401!==Pe.customData.serverCode&&404!==Pe.customData.serverCode){const it=Object.assign(Object.assign({},oe),{authToken:{requestStatus:0}});yield Vn(j.appConfig,it)}else yield vr(j.appConfig);throw Pe}})).apply(this,arguments)}function Q(j){return void 0!==j&&2===j.registrationStatus}function be(j){return 2===j.requestStatus&&!function(j){const oe=Date.now();return oe<j.creationTime||j.creationTime+j.expiresIn<oe+36e5}(j)}function qe(j){const oe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},j),{authToken:oe})}function Z(){return(Z=(0,f.Z)(function*(j){const oe=j,{installationEntry:Pe,registrationPromise:it}=yield lr(oe.appConfig);return it?it.catch(console.error):Fr(oe).catch(console.error),Pe.fid})).apply(this,arguments)}function H(){return(H=(0,f.Z)(function*(j,oe=!1){const Pe=j;return yield ge(Pe.appConfig),(yield Fr(Pe,oe)).token})).apply(this,arguments)}function ge(j){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,f.Z)(function*(j){const{registrationPromise:oe}=yield lr(j);oe&&(yield oe)})).apply(this,arguments)}function Tn(j){return _e.create("missing-app-config-values",{valueName:j})}const hi="installations";(0,V._registerComponent)(new x.wA(hi,j=>{const oe=j.getProvider("app").getImmediate();return{app:oe,appConfig:function(j){if(!j||!j.options)throw Tn("App Configuration");if(!j.name)throw Tn("App Name");const oe=["projectId","apiKey","appId"];for(const Pe of oe)if(!j.options[Pe])throw Tn(Pe);return{appName:j.name,projectId:j.options.projectId,apiKey:j.options.apiKey,appId:j.options.appId}}(oe),platformLoggerProvider:(0,V._getProvider)(oe,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,V._registerComponent)(new x.wA("installations-internal",j=>{const oe=j.getProvider("app").getImmediate(),Pe=(0,V._getProvider)(oe,hi).getImmediate();return{getId:()=>function(j){return Z.apply(this,arguments)}(Pe),getToken:yn=>function(j){return H.apply(this,arguments)}(Pe,yn)}},"PRIVATE")),(0,V.registerVersion)(de,"0.5.5"),(0,V.registerVersion)(de,"0.5.5","esm2017")},5422:(ut,Me,M)=>{"use strict";M.d(Me,{in:()=>V,Yd:()=>Ce,Ub:()=>me,Am:()=>ne});const f=[];var V=(()=>{return(F=V||(V={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",V;var F})();const x={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ie=V.INFO,pe={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},de=(F,L,...ee)=>{if(L<F.logLevel)return;const K=(new Date).toISOString(),ae=pe[L];if(!ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[ae](`[${K}]  ${F.name}:`,...ee)};class Ce{constructor(L){this.name=L,this._logLevel=ie,this._logHandler=de,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in V))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?x[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...L),this._logHandler(this,V.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...L),this._logHandler(this,V.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,V.INFO,...L),this._logHandler(this,V.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,V.WARN,...L),this._logHandler(this,V.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...L),this._logHandler(this,V.ERROR,...L)}}function me(F){f.forEach(L=>{L.setLogLevel(F)})}function ne(F,L){for(const ee of f){let K=null;L&&L.level&&(K=x[L.level]),ee.userLogHandler=null===F?null:(ae,Oe,..._e)=>{const J=_e.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch(Se){return null}}).filter(Te=>Te).join(" ");Oe>=(null!=K?K:ae.logLevel)&&F({level:V[Oe].toLowerCase(),message:J,args:_e,type:ae.name})}}}},8239:(ut,Me,M)=>{"use strict";function f(x,ie,pe,de,Ce,me,ne){try{var F=x[me](ne),L=F.value}catch(ee){return void pe(ee)}F.done?ie(L):Promise.resolve(L).then(de,Ce)}function V(x){return function(){var ie=this,pe=arguments;return new Promise(function(de,Ce){var me=x.apply(ie,pe);function ne(L){f(me,de,Ce,ne,F,"next",L)}function F(L){f(me,de,Ce,ne,F,"throw",L)}ne(void 0)})}}M.d(Me,{Z:()=>V})}},ut=>{ut(ut.s=1515)}]);